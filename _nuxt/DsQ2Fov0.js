import{cK as Ko,cc as $,cF as H,cG as tn,cE as zi,K as Ju}from"./Tyql0LRw.js";import{a as Gu,h as Zu,r as kc}from"./CUhuLCeR.js";import{e as Rc}from"./DQh2k9Hb.js";function Qu(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}const Ku=Object.freeze(Object.defineProperty({__proto__:null,EventEmitter:Ko,default:Ko},Symbol.toStringTag,{value:"Module"}));var oo={},kn={},Ss={};Object.defineProperty(Ss,"__esModule",{value:!0});Ss.walletLogo=void 0;const Xu=(e,t)=>{let r;switch(e){case"standard":return r=t,`data:image/svg+xml,%3Csvg width='${t}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;case"circle":return r=t,`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${t}' height='${r}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;case"text":return r=(.1*t).toFixed(2),`data:image/svg+xml,%3Csvg width='${t}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogo":return r=(.25*t).toFixed(2),`data:image/svg+xml,%3Csvg width='${t}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;case"textLight":return r=(.1*t).toFixed(2),`data:image/svg+xml,%3Csvg width='${t}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogoLight":return r=(.25*t).toFixed(2),`data:image/svg+xml,%3Csvg width='${t}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;default:return r=t,`data:image/svg+xml,%3Csvg width='${t}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `}};Ss.walletLogo=Xu;var Cs={};Object.defineProperty(Cs,"__esModule",{value:!0});Cs.LINK_API_URL=void 0;Cs.LINK_API_URL="https://www.walletlink.org";var T={},ao={exports:{}};ao.exports;(function(e){(function(t,r){function n(y,o){if(!y)throw new Error(o||"Assertion failed")}function s(y,o){y.super_=o;var h=function(){};h.prototype=o.prototype,y.prototype=new h,y.prototype.constructor=y}function i(y,o,h){if(i.isBN(y))return y;this.negative=0,this.words=null,this.length=0,this.red=null,y!==null&&((o==="le"||o==="be")&&(h=o,o=10),this._init(y||0,o||10,h||"be"))}typeof t=="object"?t.exports=i:r.BN=i,i.BN=i,i.wordSize=26;var a;try{typeof window<"u"&&typeof window.Buffer<"u"?a=window.Buffer:a=Gu.Buffer}catch{}i.isBN=function(o){return o instanceof i?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===i.wordSize&&Array.isArray(o.words)},i.max=function(o,h){return o.cmp(h)>0?o:h},i.min=function(o,h){return o.cmp(h)<0?o:h},i.prototype._init=function(o,h,g){if(typeof o=="number")return this._initNumber(o,h,g);if(typeof o=="object")return this._initArray(o,h,g);h==="hex"&&(h=16),n(h===(h|0)&&h>=2&&h<=36),o=o.toString().replace(/\s+/g,"");var _=0;o[0]==="-"&&(_++,this.negative=1),_<o.length&&(h===16?this._parseHex(o,_,g):(this._parseBase(o,h,_),g==="le"&&this._initArray(this.toArray(),h,g)))},i.prototype._initNumber=function(o,h,g){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(n(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),g==="le"&&this._initArray(this.toArray(),h,g)},i.prototype._initArray=function(o,h,g){if(n(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var w,S,C=0;if(g==="be")for(_=o.length-1,w=0;_>=0;_-=3)S=o[_]|o[_-1]<<8|o[_-2]<<16,this.words[w]|=S<<C&67108863,this.words[w+1]=S>>>26-C&67108863,C+=24,C>=26&&(C-=26,w++);else if(g==="le")for(_=0,w=0;_<o.length;_+=3)S=o[_]|o[_+1]<<8|o[_+2]<<16,this.words[w]|=S<<C&67108863,this.words[w+1]=S>>>26-C&67108863,C+=24,C>=26&&(C-=26,w++);return this._strip()};function c(y,o){var h=y.charCodeAt(o);if(h>=48&&h<=57)return h-48;if(h>=65&&h<=70)return h-55;if(h>=97&&h<=102)return h-87;n(!1,"Invalid character in "+y)}function d(y,o,h){var g=c(y,h);return h-1>=o&&(g|=c(y,h-1)<<4),g}i.prototype._parseHex=function(o,h,g){this.length=Math.ceil((o.length-h)/6),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var w=0,S=0,C;if(g==="be")for(_=o.length-1;_>=h;_-=2)C=d(o,h,_)<<w,this.words[S]|=C&67108863,w>=18?(w-=18,S+=1,this.words[S]|=C>>>26):w+=8;else{var v=o.length-h;for(_=v%2===0?h+1:h;_<o.length;_+=2)C=d(o,h,_)<<w,this.words[S]|=C&67108863,w>=18?(w-=18,S+=1,this.words[S]|=C>>>26):w+=8}this._strip()};function u(y,o,h,g){for(var _=0,w=0,S=Math.min(y.length,h),C=o;C<S;C++){var v=y.charCodeAt(C)-48;_*=g,v>=49?w=v-49+10:v>=17?w=v-17+10:w=v,n(v>=0&&w<g,"Invalid character"),_+=w}return _}i.prototype._parseBase=function(o,h,g){this.words=[0],this.length=1;for(var _=0,w=1;w<=67108863;w*=h)_++;_--,w=w/h|0;for(var S=o.length-g,C=S%_,v=Math.min(S,S-C)+g,l=0,b=g;b<v;b+=_)l=u(o,b,b+_,h),this.imuln(w),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(C!==0){var L=1;for(l=u(o,b,o.length,h),b=0;b<C;b++)L*=h;this.imuln(L),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this._strip()},i.prototype.copy=function(o){o.words=new Array(this.length);for(var h=0;h<this.length;h++)o.words[h]=this.words[h];o.length=this.length,o.negative=this.negative,o.red=this.red};function p(y,o){y.words=o.words,y.length=o.length,y.negative=o.negative,y.red=o.red}if(i.prototype._move=function(o){p(o,this)},i.prototype.clone=function(){var o=new i(null);return this.copy(o),o},i.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=f}catch{i.prototype.inspect=f}else i.prototype.inspect=f;function f(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],E=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],M=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(o,h){o=o||10,h=h|0||1;var g;if(o===16||o==="hex"){g="";for(var _=0,w=0,S=0;S<this.length;S++){var C=this.words[S],v=((C<<_|w)&16777215).toString(16);w=C>>>24-_&16777215,_+=2,_>=26&&(_-=26,S--),w!==0||S!==this.length-1?g=m[6-v.length]+v+g:g=v+g}for(w!==0&&(g=w.toString(16)+g);g.length%h!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}if(o===(o|0)&&o>=2&&o<=36){var l=E[o],b=M[o];g="";var L=this.clone();for(L.negative=0;!L.isZero();){var O=L.modrn(b).toString(o);L=L.idivn(b),L.isZero()?g=O+g:g=m[l-O.length]+O+g}for(this.isZero()&&(g="0"+g);g.length%h!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},i.prototype.toJSON=function(){return this.toString(16,2)},a&&(i.prototype.toBuffer=function(o,h){return this.toArrayLike(a,o,h)}),i.prototype.toArray=function(o,h){return this.toArrayLike(Array,o,h)};var x=function(o,h){return o.allocUnsafe?o.allocUnsafe(h):new o(h)};i.prototype.toArrayLike=function(o,h,g){this._strip();var _=this.byteLength(),w=g||Math.max(1,_);n(_<=w,"byte array longer than desired length"),n(w>0,"Requested array length <= 0");var S=x(o,w),C=h==="le"?"LE":"BE";return this["_toArrayLike"+C](S,_),S},i.prototype._toArrayLikeLE=function(o,h){for(var g=0,_=0,w=0,S=0;w<this.length;w++){var C=this.words[w]<<S|_;o[g++]=C&255,g<o.length&&(o[g++]=C>>8&255),g<o.length&&(o[g++]=C>>16&255),S===6?(g<o.length&&(o[g++]=C>>24&255),_=0,S=0):(_=C>>>24,S+=2)}if(g<o.length)for(o[g++]=_;g<o.length;)o[g++]=0},i.prototype._toArrayLikeBE=function(o,h){for(var g=o.length-1,_=0,w=0,S=0;w<this.length;w++){var C=this.words[w]<<S|_;o[g--]=C&255,g>=0&&(o[g--]=C>>8&255),g>=0&&(o[g--]=C>>16&255),S===6?(g>=0&&(o[g--]=C>>24&255),_=0,S=0):(_=C>>>24,S+=2)}if(g>=0)for(o[g--]=_;g>=0;)o[g--]=0},Math.clz32?i.prototype._countBits=function(o){return 32-Math.clz32(o)}:i.prototype._countBits=function(o){var h=o,g=0;return h>=4096&&(g+=13,h>>>=13),h>=64&&(g+=7,h>>>=7),h>=8&&(g+=4,h>>>=4),h>=2&&(g+=2,h>>>=2),g+h},i.prototype._zeroBits=function(o){if(o===0)return 26;var h=o,g=0;return h&8191||(g+=13,h>>>=13),h&127||(g+=7,h>>>=7),h&15||(g+=4,h>>>=4),h&3||(g+=2,h>>>=2),h&1||g++,g},i.prototype.bitLength=function(){var o=this.words[this.length-1],h=this._countBits(o);return(this.length-1)*26+h};function k(y){for(var o=new Array(y.bitLength()),h=0;h<o.length;h++){var g=h/26|0,_=h%26;o[h]=y.words[g]>>>_&1}return o}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,h=0;h<this.length;h++){var g=this._zeroBits(this.words[h]);if(o+=g,g!==26)break}return o},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},i.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var h=0;h<o.length;h++)this.words[h]=this.words[h]|o.words[h];return this._strip()},i.prototype.ior=function(o){return n((this.negative|o.negative)===0),this.iuor(o)},i.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},i.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},i.prototype.iuand=function(o){var h;this.length>o.length?h=o:h=this;for(var g=0;g<h.length;g++)this.words[g]=this.words[g]&o.words[g];return this.length=h.length,this._strip()},i.prototype.iand=function(o){return n((this.negative|o.negative)===0),this.iuand(o)},i.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},i.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},i.prototype.iuxor=function(o){var h,g;this.length>o.length?(h=this,g=o):(h=o,g=this);for(var _=0;_<g.length;_++)this.words[_]=h.words[_]^g.words[_];if(this!==h)for(;_<h.length;_++)this.words[_]=h.words[_];return this.length=h.length,this._strip()},i.prototype.ixor=function(o){return n((this.negative|o.negative)===0),this.iuxor(o)},i.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},i.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},i.prototype.inotn=function(o){n(typeof o=="number"&&o>=0);var h=Math.ceil(o/26)|0,g=o%26;this._expand(h),g>0&&h--;for(var _=0;_<h;_++)this.words[_]=~this.words[_]&67108863;return g>0&&(this.words[_]=~this.words[_]&67108863>>26-g),this._strip()},i.prototype.notn=function(o){return this.clone().inotn(o)},i.prototype.setn=function(o,h){n(typeof o=="number"&&o>=0);var g=o/26|0,_=o%26;return this._expand(g+1),h?this.words[g]=this.words[g]|1<<_:this.words[g]=this.words[g]&~(1<<_),this._strip()},i.prototype.iadd=function(o){var h;if(this.negative!==0&&o.negative===0)return this.negative=0,h=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,h=this.isub(o),o.negative=1,h._normSign();var g,_;this.length>o.length?(g=this,_=o):(g=o,_=this);for(var w=0,S=0;S<_.length;S++)h=(g.words[S]|0)+(_.words[S]|0)+w,this.words[S]=h&67108863,w=h>>>26;for(;w!==0&&S<g.length;S++)h=(g.words[S]|0)+w,this.words[S]=h&67108863,w=h>>>26;if(this.length=g.length,w!==0)this.words[this.length]=w,this.length++;else if(g!==this)for(;S<g.length;S++)this.words[S]=g.words[S];return this},i.prototype.add=function(o){var h;return o.negative!==0&&this.negative===0?(o.negative=0,h=this.sub(o),o.negative^=1,h):o.negative===0&&this.negative!==0?(this.negative=0,h=o.sub(this),this.negative=1,h):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},i.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var h=this.iadd(o);return o.negative=1,h._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var g=this.cmp(o);if(g===0)return this.negative=0,this.length=1,this.words[0]=0,this;var _,w;g>0?(_=this,w=o):(_=o,w=this);for(var S=0,C=0;C<w.length;C++)h=(_.words[C]|0)-(w.words[C]|0)+S,S=h>>26,this.words[C]=h&67108863;for(;S!==0&&C<_.length;C++)h=(_.words[C]|0)+S,S=h>>26,this.words[C]=h&67108863;if(S===0&&C<_.length&&_!==this)for(;C<_.length;C++)this.words[C]=_.words[C];return this.length=Math.max(this.length,C),_!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(o){return this.clone().isub(o)};function I(y,o,h){h.negative=o.negative^y.negative;var g=y.length+o.length|0;h.length=g,g=g-1|0;var _=y.words[0]|0,w=o.words[0]|0,S=_*w,C=S&67108863,v=S/67108864|0;h.words[0]=C;for(var l=1;l<g;l++){for(var b=v>>>26,L=v&67108863,O=Math.min(l,o.length-1),B=Math.max(0,l-y.length+1);B<=O;B++){var ze=l-B|0;_=y.words[ze]|0,w=o.words[B]|0,S=_*w+L,b+=S/67108864|0,L=S&67108863}h.words[l]=L|0,v=b|0}return v!==0?h.words[l]=v|0:h.length--,h._strip()}var R=function(o,h,g){var _=o.words,w=h.words,S=g.words,C=0,v,l,b,L=_[0]|0,O=L&8191,B=L>>>13,ze=_[1]|0,X=ze&8191,te=ze>>>13,hn=_[2]|0,Re=hn&8191,Ie=hn>>>13,dn=_[3]|0,Ae=dn&8191,xe=dn>>>13,fn=_[4]|0,Ne=fn&8191,Le=fn>>>13,pn=_[5]|0,Te=pn&8191,Pe=pn>>>13,gn=_[6]|0,Oe=gn&8191,$e=gn>>>13,mn=_[7]|0,Be=mn&8191,Fe=mn>>>13,br=_[8]|0,re=br&8191,ne=br>>>13,Er=_[9]|0,se=Er&8191,ie=Er>>>13,Sr=w[0]|0,oe=Sr&8191,ae=Sr>>>13,Cr=w[1]|0,ce=Cr&8191,le=Cr>>>13,Mr=w[2]|0,ue=Mr&8191,he=Mr>>>13,kr=w[3]|0,de=kr&8191,fe=kr>>>13,Rr=w[4]|0,pe=Rr&8191,ge=Rr>>>13,Ir=w[5]|0,me=Ir&8191,_e=Ir>>>13,Ar=w[6]|0,ve=Ar&8191,ye=Ar>>>13,xr=w[7]|0,we=xr&8191,be=xr>>>13,Nr=w[8]|0,Ee=Nr&8191,Se=Nr>>>13,Lr=w[9]|0,Ce=Lr&8191,Me=Lr>>>13;g.negative=o.negative^h.negative,g.length=19,v=Math.imul(O,oe),l=Math.imul(O,ae),l=l+Math.imul(B,oe)|0,b=Math.imul(B,ae);var Ht=(C+v|0)+((l&8191)<<13)|0;C=(b+(l>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,v=Math.imul(X,oe),l=Math.imul(X,ae),l=l+Math.imul(te,oe)|0,b=Math.imul(te,ae),v=v+Math.imul(O,ce)|0,l=l+Math.imul(O,le)|0,l=l+Math.imul(B,ce)|0,b=b+Math.imul(B,le)|0;var Ut=(C+v|0)+((l&8191)<<13)|0;C=(b+(l>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,v=Math.imul(Re,oe),l=Math.imul(Re,ae),l=l+Math.imul(Ie,oe)|0,b=Math.imul(Ie,ae),v=v+Math.imul(X,ce)|0,l=l+Math.imul(X,le)|0,l=l+Math.imul(te,ce)|0,b=b+Math.imul(te,le)|0,v=v+Math.imul(O,ue)|0,l=l+Math.imul(O,he)|0,l=l+Math.imul(B,ue)|0,b=b+Math.imul(B,he)|0;var Vt=(C+v|0)+((l&8191)<<13)|0;C=(b+(l>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,v=Math.imul(Ae,oe),l=Math.imul(Ae,ae),l=l+Math.imul(xe,oe)|0,b=Math.imul(xe,ae),v=v+Math.imul(Re,ce)|0,l=l+Math.imul(Re,le)|0,l=l+Math.imul(Ie,ce)|0,b=b+Math.imul(Ie,le)|0,v=v+Math.imul(X,ue)|0,l=l+Math.imul(X,he)|0,l=l+Math.imul(te,ue)|0,b=b+Math.imul(te,he)|0,v=v+Math.imul(O,de)|0,l=l+Math.imul(O,fe)|0,l=l+Math.imul(B,de)|0,b=b+Math.imul(B,fe)|0;var Wt=(C+v|0)+((l&8191)<<13)|0;C=(b+(l>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,v=Math.imul(Ne,oe),l=Math.imul(Ne,ae),l=l+Math.imul(Le,oe)|0,b=Math.imul(Le,ae),v=v+Math.imul(Ae,ce)|0,l=l+Math.imul(Ae,le)|0,l=l+Math.imul(xe,ce)|0,b=b+Math.imul(xe,le)|0,v=v+Math.imul(Re,ue)|0,l=l+Math.imul(Re,he)|0,l=l+Math.imul(Ie,ue)|0,b=b+Math.imul(Ie,he)|0,v=v+Math.imul(X,de)|0,l=l+Math.imul(X,fe)|0,l=l+Math.imul(te,de)|0,b=b+Math.imul(te,fe)|0,v=v+Math.imul(O,pe)|0,l=l+Math.imul(O,ge)|0,l=l+Math.imul(B,pe)|0,b=b+Math.imul(B,ge)|0;var zt=(C+v|0)+((l&8191)<<13)|0;C=(b+(l>>>13)|0)+(zt>>>26)|0,zt&=67108863,v=Math.imul(Te,oe),l=Math.imul(Te,ae),l=l+Math.imul(Pe,oe)|0,b=Math.imul(Pe,ae),v=v+Math.imul(Ne,ce)|0,l=l+Math.imul(Ne,le)|0,l=l+Math.imul(Le,ce)|0,b=b+Math.imul(Le,le)|0,v=v+Math.imul(Ae,ue)|0,l=l+Math.imul(Ae,he)|0,l=l+Math.imul(xe,ue)|0,b=b+Math.imul(xe,he)|0,v=v+Math.imul(Re,de)|0,l=l+Math.imul(Re,fe)|0,l=l+Math.imul(Ie,de)|0,b=b+Math.imul(Ie,fe)|0,v=v+Math.imul(X,pe)|0,l=l+Math.imul(X,ge)|0,l=l+Math.imul(te,pe)|0,b=b+Math.imul(te,ge)|0,v=v+Math.imul(O,me)|0,l=l+Math.imul(O,_e)|0,l=l+Math.imul(B,me)|0,b=b+Math.imul(B,_e)|0;var qt=(C+v|0)+((l&8191)<<13)|0;C=(b+(l>>>13)|0)+(qt>>>26)|0,qt&=67108863,v=Math.imul(Oe,oe),l=Math.imul(Oe,ae),l=l+Math.imul($e,oe)|0,b=Math.imul($e,ae),v=v+Math.imul(Te,ce)|0,l=l+Math.imul(Te,le)|0,l=l+Math.imul(Pe,ce)|0,b=b+Math.imul(Pe,le)|0,v=v+Math.imul(Ne,ue)|0,l=l+Math.imul(Ne,he)|0,l=l+Math.imul(Le,ue)|0,b=b+Math.imul(Le,he)|0,v=v+Math.imul(Ae,de)|0,l=l+Math.imul(Ae,fe)|0,l=l+Math.imul(xe,de)|0,b=b+Math.imul(xe,fe)|0,v=v+Math.imul(Re,pe)|0,l=l+Math.imul(Re,ge)|0,l=l+Math.imul(Ie,pe)|0,b=b+Math.imul(Ie,ge)|0,v=v+Math.imul(X,me)|0,l=l+Math.imul(X,_e)|0,l=l+Math.imul(te,me)|0,b=b+Math.imul(te,_e)|0,v=v+Math.imul(O,ve)|0,l=l+Math.imul(O,ye)|0,l=l+Math.imul(B,ve)|0,b=b+Math.imul(B,ye)|0;var Jt=(C+v|0)+((l&8191)<<13)|0;C=(b+(l>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,v=Math.imul(Be,oe),l=Math.imul(Be,ae),l=l+Math.imul(Fe,oe)|0,b=Math.imul(Fe,ae),v=v+Math.imul(Oe,ce)|0,l=l+Math.imul(Oe,le)|0,l=l+Math.imul($e,ce)|0,b=b+Math.imul($e,le)|0,v=v+Math.imul(Te,ue)|0,l=l+Math.imul(Te,he)|0,l=l+Math.imul(Pe,ue)|0,b=b+Math.imul(Pe,he)|0,v=v+Math.imul(Ne,de)|0,l=l+Math.imul(Ne,fe)|0,l=l+Math.imul(Le,de)|0,b=b+Math.imul(Le,fe)|0,v=v+Math.imul(Ae,pe)|0,l=l+Math.imul(Ae,ge)|0,l=l+Math.imul(xe,pe)|0,b=b+Math.imul(xe,ge)|0,v=v+Math.imul(Re,me)|0,l=l+Math.imul(Re,_e)|0,l=l+Math.imul(Ie,me)|0,b=b+Math.imul(Ie,_e)|0,v=v+Math.imul(X,ve)|0,l=l+Math.imul(X,ye)|0,l=l+Math.imul(te,ve)|0,b=b+Math.imul(te,ye)|0,v=v+Math.imul(O,we)|0,l=l+Math.imul(O,be)|0,l=l+Math.imul(B,we)|0,b=b+Math.imul(B,be)|0;var Gt=(C+v|0)+((l&8191)<<13)|0;C=(b+(l>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,v=Math.imul(re,oe),l=Math.imul(re,ae),l=l+Math.imul(ne,oe)|0,b=Math.imul(ne,ae),v=v+Math.imul(Be,ce)|0,l=l+Math.imul(Be,le)|0,l=l+Math.imul(Fe,ce)|0,b=b+Math.imul(Fe,le)|0,v=v+Math.imul(Oe,ue)|0,l=l+Math.imul(Oe,he)|0,l=l+Math.imul($e,ue)|0,b=b+Math.imul($e,he)|0,v=v+Math.imul(Te,de)|0,l=l+Math.imul(Te,fe)|0,l=l+Math.imul(Pe,de)|0,b=b+Math.imul(Pe,fe)|0,v=v+Math.imul(Ne,pe)|0,l=l+Math.imul(Ne,ge)|0,l=l+Math.imul(Le,pe)|0,b=b+Math.imul(Le,ge)|0,v=v+Math.imul(Ae,me)|0,l=l+Math.imul(Ae,_e)|0,l=l+Math.imul(xe,me)|0,b=b+Math.imul(xe,_e)|0,v=v+Math.imul(Re,ve)|0,l=l+Math.imul(Re,ye)|0,l=l+Math.imul(Ie,ve)|0,b=b+Math.imul(Ie,ye)|0,v=v+Math.imul(X,we)|0,l=l+Math.imul(X,be)|0,l=l+Math.imul(te,we)|0,b=b+Math.imul(te,be)|0,v=v+Math.imul(O,Ee)|0,l=l+Math.imul(O,Se)|0,l=l+Math.imul(B,Ee)|0,b=b+Math.imul(B,Se)|0;var Zt=(C+v|0)+((l&8191)<<13)|0;C=(b+(l>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,v=Math.imul(se,oe),l=Math.imul(se,ae),l=l+Math.imul(ie,oe)|0,b=Math.imul(ie,ae),v=v+Math.imul(re,ce)|0,l=l+Math.imul(re,le)|0,l=l+Math.imul(ne,ce)|0,b=b+Math.imul(ne,le)|0,v=v+Math.imul(Be,ue)|0,l=l+Math.imul(Be,he)|0,l=l+Math.imul(Fe,ue)|0,b=b+Math.imul(Fe,he)|0,v=v+Math.imul(Oe,de)|0,l=l+Math.imul(Oe,fe)|0,l=l+Math.imul($e,de)|0,b=b+Math.imul($e,fe)|0,v=v+Math.imul(Te,pe)|0,l=l+Math.imul(Te,ge)|0,l=l+Math.imul(Pe,pe)|0,b=b+Math.imul(Pe,ge)|0,v=v+Math.imul(Ne,me)|0,l=l+Math.imul(Ne,_e)|0,l=l+Math.imul(Le,me)|0,b=b+Math.imul(Le,_e)|0,v=v+Math.imul(Ae,ve)|0,l=l+Math.imul(Ae,ye)|0,l=l+Math.imul(xe,ve)|0,b=b+Math.imul(xe,ye)|0,v=v+Math.imul(Re,we)|0,l=l+Math.imul(Re,be)|0,l=l+Math.imul(Ie,we)|0,b=b+Math.imul(Ie,be)|0,v=v+Math.imul(X,Ee)|0,l=l+Math.imul(X,Se)|0,l=l+Math.imul(te,Ee)|0,b=b+Math.imul(te,Se)|0,v=v+Math.imul(O,Ce)|0,l=l+Math.imul(O,Me)|0,l=l+Math.imul(B,Ce)|0,b=b+Math.imul(B,Me)|0;var Qt=(C+v|0)+((l&8191)<<13)|0;C=(b+(l>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,v=Math.imul(se,ce),l=Math.imul(se,le),l=l+Math.imul(ie,ce)|0,b=Math.imul(ie,le),v=v+Math.imul(re,ue)|0,l=l+Math.imul(re,he)|0,l=l+Math.imul(ne,ue)|0,b=b+Math.imul(ne,he)|0,v=v+Math.imul(Be,de)|0,l=l+Math.imul(Be,fe)|0,l=l+Math.imul(Fe,de)|0,b=b+Math.imul(Fe,fe)|0,v=v+Math.imul(Oe,pe)|0,l=l+Math.imul(Oe,ge)|0,l=l+Math.imul($e,pe)|0,b=b+Math.imul($e,ge)|0,v=v+Math.imul(Te,me)|0,l=l+Math.imul(Te,_e)|0,l=l+Math.imul(Pe,me)|0,b=b+Math.imul(Pe,_e)|0,v=v+Math.imul(Ne,ve)|0,l=l+Math.imul(Ne,ye)|0,l=l+Math.imul(Le,ve)|0,b=b+Math.imul(Le,ye)|0,v=v+Math.imul(Ae,we)|0,l=l+Math.imul(Ae,be)|0,l=l+Math.imul(xe,we)|0,b=b+Math.imul(xe,be)|0,v=v+Math.imul(Re,Ee)|0,l=l+Math.imul(Re,Se)|0,l=l+Math.imul(Ie,Ee)|0,b=b+Math.imul(Ie,Se)|0,v=v+Math.imul(X,Ce)|0,l=l+Math.imul(X,Me)|0,l=l+Math.imul(te,Ce)|0,b=b+Math.imul(te,Me)|0;var Kt=(C+v|0)+((l&8191)<<13)|0;C=(b+(l>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,v=Math.imul(se,ue),l=Math.imul(se,he),l=l+Math.imul(ie,ue)|0,b=Math.imul(ie,he),v=v+Math.imul(re,de)|0,l=l+Math.imul(re,fe)|0,l=l+Math.imul(ne,de)|0,b=b+Math.imul(ne,fe)|0,v=v+Math.imul(Be,pe)|0,l=l+Math.imul(Be,ge)|0,l=l+Math.imul(Fe,pe)|0,b=b+Math.imul(Fe,ge)|0,v=v+Math.imul(Oe,me)|0,l=l+Math.imul(Oe,_e)|0,l=l+Math.imul($e,me)|0,b=b+Math.imul($e,_e)|0,v=v+Math.imul(Te,ve)|0,l=l+Math.imul(Te,ye)|0,l=l+Math.imul(Pe,ve)|0,b=b+Math.imul(Pe,ye)|0,v=v+Math.imul(Ne,we)|0,l=l+Math.imul(Ne,be)|0,l=l+Math.imul(Le,we)|0,b=b+Math.imul(Le,be)|0,v=v+Math.imul(Ae,Ee)|0,l=l+Math.imul(Ae,Se)|0,l=l+Math.imul(xe,Ee)|0,b=b+Math.imul(xe,Se)|0,v=v+Math.imul(Re,Ce)|0,l=l+Math.imul(Re,Me)|0,l=l+Math.imul(Ie,Ce)|0,b=b+Math.imul(Ie,Me)|0;var Xt=(C+v|0)+((l&8191)<<13)|0;C=(b+(l>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,v=Math.imul(se,de),l=Math.imul(se,fe),l=l+Math.imul(ie,de)|0,b=Math.imul(ie,fe),v=v+Math.imul(re,pe)|0,l=l+Math.imul(re,ge)|0,l=l+Math.imul(ne,pe)|0,b=b+Math.imul(ne,ge)|0,v=v+Math.imul(Be,me)|0,l=l+Math.imul(Be,_e)|0,l=l+Math.imul(Fe,me)|0,b=b+Math.imul(Fe,_e)|0,v=v+Math.imul(Oe,ve)|0,l=l+Math.imul(Oe,ye)|0,l=l+Math.imul($e,ve)|0,b=b+Math.imul($e,ye)|0,v=v+Math.imul(Te,we)|0,l=l+Math.imul(Te,be)|0,l=l+Math.imul(Pe,we)|0,b=b+Math.imul(Pe,be)|0,v=v+Math.imul(Ne,Ee)|0,l=l+Math.imul(Ne,Se)|0,l=l+Math.imul(Le,Ee)|0,b=b+Math.imul(Le,Se)|0,v=v+Math.imul(Ae,Ce)|0,l=l+Math.imul(Ae,Me)|0,l=l+Math.imul(xe,Ce)|0,b=b+Math.imul(xe,Me)|0;var Yt=(C+v|0)+((l&8191)<<13)|0;C=(b+(l>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,v=Math.imul(se,pe),l=Math.imul(se,ge),l=l+Math.imul(ie,pe)|0,b=Math.imul(ie,ge),v=v+Math.imul(re,me)|0,l=l+Math.imul(re,_e)|0,l=l+Math.imul(ne,me)|0,b=b+Math.imul(ne,_e)|0,v=v+Math.imul(Be,ve)|0,l=l+Math.imul(Be,ye)|0,l=l+Math.imul(Fe,ve)|0,b=b+Math.imul(Fe,ye)|0,v=v+Math.imul(Oe,we)|0,l=l+Math.imul(Oe,be)|0,l=l+Math.imul($e,we)|0,b=b+Math.imul($e,be)|0,v=v+Math.imul(Te,Ee)|0,l=l+Math.imul(Te,Se)|0,l=l+Math.imul(Pe,Ee)|0,b=b+Math.imul(Pe,Se)|0,v=v+Math.imul(Ne,Ce)|0,l=l+Math.imul(Ne,Me)|0,l=l+Math.imul(Le,Ce)|0,b=b+Math.imul(Le,Me)|0;var er=(C+v|0)+((l&8191)<<13)|0;C=(b+(l>>>13)|0)+(er>>>26)|0,er&=67108863,v=Math.imul(se,me),l=Math.imul(se,_e),l=l+Math.imul(ie,me)|0,b=Math.imul(ie,_e),v=v+Math.imul(re,ve)|0,l=l+Math.imul(re,ye)|0,l=l+Math.imul(ne,ve)|0,b=b+Math.imul(ne,ye)|0,v=v+Math.imul(Be,we)|0,l=l+Math.imul(Be,be)|0,l=l+Math.imul(Fe,we)|0,b=b+Math.imul(Fe,be)|0,v=v+Math.imul(Oe,Ee)|0,l=l+Math.imul(Oe,Se)|0,l=l+Math.imul($e,Ee)|0,b=b+Math.imul($e,Se)|0,v=v+Math.imul(Te,Ce)|0,l=l+Math.imul(Te,Me)|0,l=l+Math.imul(Pe,Ce)|0,b=b+Math.imul(Pe,Me)|0;var mi=(C+v|0)+((l&8191)<<13)|0;C=(b+(l>>>13)|0)+(mi>>>26)|0,mi&=67108863,v=Math.imul(se,ve),l=Math.imul(se,ye),l=l+Math.imul(ie,ve)|0,b=Math.imul(ie,ye),v=v+Math.imul(re,we)|0,l=l+Math.imul(re,be)|0,l=l+Math.imul(ne,we)|0,b=b+Math.imul(ne,be)|0,v=v+Math.imul(Be,Ee)|0,l=l+Math.imul(Be,Se)|0,l=l+Math.imul(Fe,Ee)|0,b=b+Math.imul(Fe,Se)|0,v=v+Math.imul(Oe,Ce)|0,l=l+Math.imul(Oe,Me)|0,l=l+Math.imul($e,Ce)|0,b=b+Math.imul($e,Me)|0;var _i=(C+v|0)+((l&8191)<<13)|0;C=(b+(l>>>13)|0)+(_i>>>26)|0,_i&=67108863,v=Math.imul(se,we),l=Math.imul(se,be),l=l+Math.imul(ie,we)|0,b=Math.imul(ie,be),v=v+Math.imul(re,Ee)|0,l=l+Math.imul(re,Se)|0,l=l+Math.imul(ne,Ee)|0,b=b+Math.imul(ne,Se)|0,v=v+Math.imul(Be,Ce)|0,l=l+Math.imul(Be,Me)|0,l=l+Math.imul(Fe,Ce)|0,b=b+Math.imul(Fe,Me)|0;var vi=(C+v|0)+((l&8191)<<13)|0;C=(b+(l>>>13)|0)+(vi>>>26)|0,vi&=67108863,v=Math.imul(se,Ee),l=Math.imul(se,Se),l=l+Math.imul(ie,Ee)|0,b=Math.imul(ie,Se),v=v+Math.imul(re,Ce)|0,l=l+Math.imul(re,Me)|0,l=l+Math.imul(ne,Ce)|0,b=b+Math.imul(ne,Me)|0;var yi=(C+v|0)+((l&8191)<<13)|0;C=(b+(l>>>13)|0)+(yi>>>26)|0,yi&=67108863,v=Math.imul(se,Ce),l=Math.imul(se,Me),l=l+Math.imul(ie,Ce)|0,b=Math.imul(ie,Me);var wi=(C+v|0)+((l&8191)<<13)|0;return C=(b+(l>>>13)|0)+(wi>>>26)|0,wi&=67108863,S[0]=Ht,S[1]=Ut,S[2]=Vt,S[3]=Wt,S[4]=zt,S[5]=qt,S[6]=Jt,S[7]=Gt,S[8]=Zt,S[9]=Qt,S[10]=Kt,S[11]=Xt,S[12]=Yt,S[13]=er,S[14]=mi,S[15]=_i,S[16]=vi,S[17]=yi,S[18]=wi,C!==0&&(S[19]=C,g.length++),g};Math.imul||(R=I);function A(y,o,h){h.negative=o.negative^y.negative,h.length=y.length+o.length;for(var g=0,_=0,w=0;w<h.length-1;w++){var S=_;_=0;for(var C=g&67108863,v=Math.min(w,o.length-1),l=Math.max(0,w-y.length+1);l<=v;l++){var b=w-l,L=y.words[b]|0,O=o.words[l]|0,B=L*O,ze=B&67108863;S=S+(B/67108864|0)|0,ze=ze+C|0,C=ze&67108863,S=S+(ze>>>26)|0,_+=S>>>26,S&=67108863}h.words[w]=C,g=S,S=_}return g!==0?h.words[w]=g:h.length--,h._strip()}function D(y,o,h){return A(y,o,h)}i.prototype.mulTo=function(o,h){var g,_=this.length+o.length;return this.length===10&&o.length===10?g=R(this,o,h):_<63?g=I(this,o,h):_<1024?g=A(this,o,h):g=D(this,o,h),g},i.prototype.mul=function(o){var h=new i(null);return h.words=new Array(this.length+o.length),this.mulTo(o,h)},i.prototype.mulf=function(o){var h=new i(null);return h.words=new Array(this.length+o.length),D(this,o,h)},i.prototype.imul=function(o){return this.clone().mulTo(o,this)},i.prototype.imuln=function(o){var h=o<0;h&&(o=-o),n(typeof o=="number"),n(o<67108864);for(var g=0,_=0;_<this.length;_++){var w=(this.words[_]|0)*o,S=(w&67108863)+(g&67108863);g>>=26,g+=w/67108864|0,g+=S>>>26,this.words[_]=S&67108863}return g!==0&&(this.words[_]=g,this.length++),h?this.ineg():this},i.prototype.muln=function(o){return this.clone().imuln(o)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(o){var h=k(o);if(h.length===0)return new i(1);for(var g=this,_=0;_<h.length&&h[_]===0;_++,g=g.sqr());if(++_<h.length)for(var w=g.sqr();_<h.length;_++,w=w.sqr())h[_]!==0&&(g=g.mul(w));return g},i.prototype.iushln=function(o){n(typeof o=="number"&&o>=0);var h=o%26,g=(o-h)/26,_=67108863>>>26-h<<26-h,w;if(h!==0){var S=0;for(w=0;w<this.length;w++){var C=this.words[w]&_,v=(this.words[w]|0)-C<<h;this.words[w]=v|S,S=C>>>26-h}S&&(this.words[w]=S,this.length++)}if(g!==0){for(w=this.length-1;w>=0;w--)this.words[w+g]=this.words[w];for(w=0;w<g;w++)this.words[w]=0;this.length+=g}return this._strip()},i.prototype.ishln=function(o){return n(this.negative===0),this.iushln(o)},i.prototype.iushrn=function(o,h,g){n(typeof o=="number"&&o>=0);var _;h?_=(h-h%26)/26:_=0;var w=o%26,S=Math.min((o-w)/26,this.length),C=67108863^67108863>>>w<<w,v=g;if(_-=S,_=Math.max(0,_),v){for(var l=0;l<S;l++)v.words[l]=this.words[l];v.length=S}if(S!==0)if(this.length>S)for(this.length-=S,l=0;l<this.length;l++)this.words[l]=this.words[l+S];else this.words[0]=0,this.length=1;var b=0;for(l=this.length-1;l>=0&&(b!==0||l>=_);l--){var L=this.words[l]|0;this.words[l]=b<<26-w|L>>>w,b=L&C}return v&&b!==0&&(v.words[v.length++]=b),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(o,h,g){return n(this.negative===0),this.iushrn(o,h,g)},i.prototype.shln=function(o){return this.clone().ishln(o)},i.prototype.ushln=function(o){return this.clone().iushln(o)},i.prototype.shrn=function(o){return this.clone().ishrn(o)},i.prototype.ushrn=function(o){return this.clone().iushrn(o)},i.prototype.testn=function(o){n(typeof o=="number"&&o>=0);var h=o%26,g=(o-h)/26,_=1<<h;if(this.length<=g)return!1;var w=this.words[g];return!!(w&_)},i.prototype.imaskn=function(o){n(typeof o=="number"&&o>=0);var h=o%26,g=(o-h)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=g)return this;if(h!==0&&g++,this.length=Math.min(g,this.length),h!==0){var _=67108863^67108863>>>h<<h;this.words[this.length-1]&=_}return this._strip()},i.prototype.maskn=function(o){return this.clone().imaskn(o)},i.prototype.iaddn=function(o){return n(typeof o=="number"),n(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<=o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},i.prototype._iaddn=function(o){this.words[0]+=o;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},i.prototype.isubn=function(o){if(n(typeof o=="number"),n(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this._strip()},i.prototype.addn=function(o){return this.clone().iaddn(o)},i.prototype.subn=function(o){return this.clone().isubn(o)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(o,h,g){var _=o.length+g,w;this._expand(_);var S,C=0;for(w=0;w<o.length;w++){S=(this.words[w+g]|0)+C;var v=(o.words[w]|0)*h;S-=v&67108863,C=(S>>26)-(v/67108864|0),this.words[w+g]=S&67108863}for(;w<this.length-g;w++)S=(this.words[w+g]|0)+C,C=S>>26,this.words[w+g]=S&67108863;if(C===0)return this._strip();for(n(C===-1),C=0,w=0;w<this.length;w++)S=-(this.words[w]|0)+C,C=S>>26,this.words[w]=S&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(o,h){var g=this.length-o.length,_=this.clone(),w=o,S=w.words[w.length-1]|0,C=this._countBits(S);g=26-C,g!==0&&(w=w.ushln(g),_.iushln(g),S=w.words[w.length-1]|0);var v=_.length-w.length,l;if(h!=="mod"){l=new i(null),l.length=v+1,l.words=new Array(l.length);for(var b=0;b<l.length;b++)l.words[b]=0}var L=_.clone()._ishlnsubmul(w,1,v);L.negative===0&&(_=L,l&&(l.words[v]=1));for(var O=v-1;O>=0;O--){var B=(_.words[w.length+O]|0)*67108864+(_.words[w.length+O-1]|0);for(B=Math.min(B/S|0,67108863),_._ishlnsubmul(w,B,O);_.negative!==0;)B--,_.negative=0,_._ishlnsubmul(w,1,O),_.isZero()||(_.negative^=1);l&&(l.words[O]=B)}return l&&l._strip(),_._strip(),h!=="div"&&g!==0&&_.iushrn(g),{div:l||null,mod:_}},i.prototype.divmod=function(o,h,g){if(n(!o.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var _,w,S;return this.negative!==0&&o.negative===0?(S=this.neg().divmod(o,h),h!=="mod"&&(_=S.div.neg()),h!=="div"&&(w=S.mod.neg(),g&&w.negative!==0&&w.iadd(o)),{div:_,mod:w}):this.negative===0&&o.negative!==0?(S=this.divmod(o.neg(),h),h!=="mod"&&(_=S.div.neg()),{div:_,mod:S.mod}):this.negative&o.negative?(S=this.neg().divmod(o.neg(),h),h!=="div"&&(w=S.mod.neg(),g&&w.negative!==0&&w.isub(o)),{div:S.div,mod:w}):o.length>this.length||this.cmp(o)<0?{div:new i(0),mod:this}:o.length===1?h==="div"?{div:this.divn(o.words[0]),mod:null}:h==="mod"?{div:null,mod:new i(this.modrn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new i(this.modrn(o.words[0]))}:this._wordDiv(o,h)},i.prototype.div=function(o){return this.divmod(o,"div",!1).div},i.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},i.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},i.prototype.divRound=function(o){var h=this.divmod(o);if(h.mod.isZero())return h.div;var g=h.div.negative!==0?h.mod.isub(o):h.mod,_=o.ushrn(1),w=o.andln(1),S=g.cmp(_);return S<0||w===1&&S===0?h.div:h.div.negative!==0?h.div.isubn(1):h.div.iaddn(1)},i.prototype.modrn=function(o){var h=o<0;h&&(o=-o),n(o<=67108863);for(var g=(1<<26)%o,_=0,w=this.length-1;w>=0;w--)_=(g*_+(this.words[w]|0))%o;return h?-_:_},i.prototype.modn=function(o){return this.modrn(o)},i.prototype.idivn=function(o){var h=o<0;h&&(o=-o),n(o<=67108863);for(var g=0,_=this.length-1;_>=0;_--){var w=(this.words[_]|0)+g*67108864;this.words[_]=w/o|0,g=w%o}return this._strip(),h?this.ineg():this},i.prototype.divn=function(o){return this.clone().idivn(o)},i.prototype.egcd=function(o){n(o.negative===0),n(!o.isZero());var h=this,g=o.clone();h.negative!==0?h=h.umod(o):h=h.clone();for(var _=new i(1),w=new i(0),S=new i(0),C=new i(1),v=0;h.isEven()&&g.isEven();)h.iushrn(1),g.iushrn(1),++v;for(var l=g.clone(),b=h.clone();!h.isZero();){for(var L=0,O=1;!(h.words[0]&O)&&L<26;++L,O<<=1);if(L>0)for(h.iushrn(L);L-- >0;)(_.isOdd()||w.isOdd())&&(_.iadd(l),w.isub(b)),_.iushrn(1),w.iushrn(1);for(var B=0,ze=1;!(g.words[0]&ze)&&B<26;++B,ze<<=1);if(B>0)for(g.iushrn(B);B-- >0;)(S.isOdd()||C.isOdd())&&(S.iadd(l),C.isub(b)),S.iushrn(1),C.iushrn(1);h.cmp(g)>=0?(h.isub(g),_.isub(S),w.isub(C)):(g.isub(h),S.isub(_),C.isub(w))}return{a:S,b:C,gcd:g.iushln(v)}},i.prototype._invmp=function(o){n(o.negative===0),n(!o.isZero());var h=this,g=o.clone();h.negative!==0?h=h.umod(o):h=h.clone();for(var _=new i(1),w=new i(0),S=g.clone();h.cmpn(1)>0&&g.cmpn(1)>0;){for(var C=0,v=1;!(h.words[0]&v)&&C<26;++C,v<<=1);if(C>0)for(h.iushrn(C);C-- >0;)_.isOdd()&&_.iadd(S),_.iushrn(1);for(var l=0,b=1;!(g.words[0]&b)&&l<26;++l,b<<=1);if(l>0)for(g.iushrn(l);l-- >0;)w.isOdd()&&w.iadd(S),w.iushrn(1);h.cmp(g)>=0?(h.isub(g),_.isub(w)):(g.isub(h),w.isub(_))}var L;return h.cmpn(1)===0?L=_:L=w,L.cmpn(0)<0&&L.iadd(o),L},i.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var h=this.clone(),g=o.clone();h.negative=0,g.negative=0;for(var _=0;h.isEven()&&g.isEven();_++)h.iushrn(1),g.iushrn(1);do{for(;h.isEven();)h.iushrn(1);for(;g.isEven();)g.iushrn(1);var w=h.cmp(g);if(w<0){var S=h;h=g,g=S}else if(w===0||g.cmpn(1)===0)break;h.isub(g)}while(!0);return g.iushln(_)},i.prototype.invm=function(o){return this.egcd(o).a.umod(o)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(o){return this.words[0]&o},i.prototype.bincn=function(o){n(typeof o=="number");var h=o%26,g=(o-h)/26,_=1<<h;if(this.length<=g)return this._expand(g+1),this.words[g]|=_,this;for(var w=_,S=g;w!==0&&S<this.length;S++){var C=this.words[S]|0;C+=w,w=C>>>26,C&=67108863,this.words[S]=C}return w!==0&&(this.words[S]=w,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(o){var h=o<0;if(this.negative!==0&&!h)return-1;if(this.negative===0&&h)return 1;this._strip();var g;if(this.length>1)g=1;else{h&&(o=-o),n(o<=67108863,"Number is too big");var _=this.words[0]|0;g=_===o?0:_<o?-1:1}return this.negative!==0?-g|0:g},i.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var h=this.ucmp(o);return this.negative!==0?-h|0:h},i.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var h=0,g=this.length-1;g>=0;g--){var _=this.words[g]|0,w=o.words[g]|0;if(_!==w){_<w?h=-1:_>w&&(h=1);break}}return h},i.prototype.gtn=function(o){return this.cmpn(o)===1},i.prototype.gt=function(o){return this.cmp(o)===1},i.prototype.gten=function(o){return this.cmpn(o)>=0},i.prototype.gte=function(o){return this.cmp(o)>=0},i.prototype.ltn=function(o){return this.cmpn(o)===-1},i.prototype.lt=function(o){return this.cmp(o)===-1},i.prototype.lten=function(o){return this.cmpn(o)<=0},i.prototype.lte=function(o){return this.cmp(o)<=0},i.prototype.eqn=function(o){return this.cmpn(o)===0},i.prototype.eq=function(o){return this.cmp(o)===0},i.red=function(o){return new V(o)},i.prototype.toRed=function(o){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(o){return this.red=o,this},i.prototype.forceRed=function(o){return n(!this.red,"Already a number in reduction context"),this._forceRed(o)},i.prototype.redAdd=function(o){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},i.prototype.redIAdd=function(o){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},i.prototype.redSub=function(o){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},i.prototype.redISub=function(o){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},i.prototype.redShl=function(o){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},i.prototype.redMul=function(o){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},i.prototype.redIMul=function(o){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(o){return n(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var N={k256:null,p224:null,p192:null,p25519:null};function P(y,o){this.name=y,this.p=new i(o,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}P.prototype._tmp=function(){var o=new i(null);return o.words=new Array(Math.ceil(this.n/13)),o},P.prototype.ireduce=function(o){var h=o,g;do this.split(h,this.tmp),h=this.imulK(h),h=h.iadd(this.tmp),g=h.bitLength();while(g>this.n);var _=g<this.n?-1:h.ucmp(this.p);return _===0?(h.words[0]=0,h.length=1):_>0?h.isub(this.p):h.strip!==void 0?h.strip():h._strip(),h},P.prototype.split=function(o,h){o.iushrn(this.n,0,h)},P.prototype.imulK=function(o){return o.imul(this.k)};function W(){P.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(W,P),W.prototype.split=function(o,h){for(var g=4194303,_=Math.min(o.length,9),w=0;w<_;w++)h.words[w]=o.words[w];if(h.length=_,o.length<=9){o.words[0]=0,o.length=1;return}var S=o.words[9];for(h.words[h.length++]=S&g,w=10;w<o.length;w++){var C=o.words[w]|0;o.words[w-10]=(C&g)<<4|S>>>22,S=C}S>>>=22,o.words[w-10]=S,S===0&&o.length>10?o.length-=10:o.length-=9},W.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var h=0,g=0;g<o.length;g++){var _=o.words[g]|0;h+=_*977,o.words[g]=h&67108863,h=_*64+(h/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function ee(){P.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(ee,P);function G(){P.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(G,P);function Q(){P.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(Q,P),Q.prototype.imulK=function(o){for(var h=0,g=0;g<o.length;g++){var _=(o.words[g]|0)*19+h,w=_&67108863;_>>>=26,o.words[g]=w,h=_}return h!==0&&(o.words[o.length++]=h),o},i._prime=function(o){if(N[o])return N[o];var h;if(o==="k256")h=new W;else if(o==="p224")h=new ee;else if(o==="p192")h=new G;else if(o==="p25519")h=new Q;else throw new Error("Unknown prime "+o);return N[o]=h,h};function V(y){if(typeof y=="string"){var o=i._prime(y);this.m=o.p,this.prime=o}else n(y.gtn(1),"modulus must be greater than 1"),this.m=y,this.prime=null}V.prototype._verify1=function(o){n(o.negative===0,"red works only with positives"),n(o.red,"red works only with red numbers")},V.prototype._verify2=function(o,h){n((o.negative|h.negative)===0,"red works only with positives"),n(o.red&&o.red===h.red,"red works only with red numbers")},V.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):(p(o,o.umod(this.m)._forceRed(this)),o)},V.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},V.prototype.add=function(o,h){this._verify2(o,h);var g=o.add(h);return g.cmp(this.m)>=0&&g.isub(this.m),g._forceRed(this)},V.prototype.iadd=function(o,h){this._verify2(o,h);var g=o.iadd(h);return g.cmp(this.m)>=0&&g.isub(this.m),g},V.prototype.sub=function(o,h){this._verify2(o,h);var g=o.sub(h);return g.cmpn(0)<0&&g.iadd(this.m),g._forceRed(this)},V.prototype.isub=function(o,h){this._verify2(o,h);var g=o.isub(h);return g.cmpn(0)<0&&g.iadd(this.m),g},V.prototype.shl=function(o,h){return this._verify1(o),this.imod(o.ushln(h))},V.prototype.imul=function(o,h){return this._verify2(o,h),this.imod(o.imul(h))},V.prototype.mul=function(o,h){return this._verify2(o,h),this.imod(o.mul(h))},V.prototype.isqr=function(o){return this.imul(o,o.clone())},V.prototype.sqr=function(o){return this.mul(o,o)},V.prototype.sqrt=function(o){if(o.isZero())return o.clone();var h=this.m.andln(3);if(n(h%2===1),h===3){var g=this.m.add(new i(1)).iushrn(2);return this.pow(o,g)}for(var _=this.m.subn(1),w=0;!_.isZero()&&_.andln(1)===0;)w++,_.iushrn(1);n(!_.isZero());var S=new i(1).toRed(this),C=S.redNeg(),v=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new i(2*l*l).toRed(this);this.pow(l,v).cmp(C)!==0;)l.redIAdd(C);for(var b=this.pow(l,_),L=this.pow(o,_.addn(1).iushrn(1)),O=this.pow(o,_),B=w;O.cmp(S)!==0;){for(var ze=O,X=0;ze.cmp(S)!==0;X++)ze=ze.redSqr();n(X<B);var te=this.pow(b,new i(1).iushln(B-X-1));L=L.redMul(te),b=te.redSqr(),O=O.redMul(b),B=X}return L},V.prototype.invm=function(o){var h=o._invmp(this.m);return h.negative!==0?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},V.prototype.pow=function(o,h){if(h.isZero())return new i(1).toRed(this);if(h.cmpn(1)===0)return o.clone();var g=4,_=new Array(1<<g);_[0]=new i(1).toRed(this),_[1]=o;for(var w=2;w<_.length;w++)_[w]=this.mul(_[w-1],o);var S=_[0],C=0,v=0,l=h.bitLength()%26;for(l===0&&(l=26),w=h.length-1;w>=0;w--){for(var b=h.words[w],L=l-1;L>=0;L--){var O=b>>L&1;if(S!==_[0]&&(S=this.sqr(S)),O===0&&C===0){v=0;continue}C<<=1,C|=O,v++,!(v!==g&&(w!==0||L!==0))&&(S=this.mul(S,_[C]),v=0,C=0)}l=26}return S},V.prototype.convertTo=function(o){var h=o.umod(this.m);return h===o?h.clone():h},V.prototype.convertFrom=function(o){var h=o.clone();return h.red=null,h},i.mont=function(o){return new K(o)};function K(y){V.call(this,y),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(K,V),K.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},K.prototype.convertFrom=function(o){var h=this.imod(o.mul(this.rinv));return h.red=null,h},K.prototype.imul=function(o,h){if(o.isZero()||h.isZero())return o.words[0]=0,o.length=1,o;var g=o.imul(h),_=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=g.isub(_).iushrn(this.shift),S=w;return w.cmp(this.m)>=0?S=w.isub(this.m):w.cmpn(0)<0&&(S=w.iadd(this.m)),S._forceRed(this)},K.prototype.mul=function(o,h){if(o.isZero()||h.isZero())return new i(0)._forceRed(this);var g=o.mul(h),_=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=g.isub(_).iushrn(this.shift),S=w;return w.cmp(this.m)>=0?S=w.isub(this.m):w.cmpn(0)<0&&(S=w.iadd(this.m)),S._forceRed(this)},K.prototype.invm=function(o){var h=this.imod(o._invmp(this.m).mul(this.r2));return h._forceRed(this)}})(e,$)})(ao);var Ms=ao.exports,xn={},Tt={};Object.defineProperty(Tt,"__esModule",{value:!0});Tt.errorValues=Tt.standardErrorCodes=void 0;Tt.standardErrorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901,unsupportedChain:4902}};Tt.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."},4902:{standard:"EIP-3085",message:"Unrecognized chain ID."}};var ks={},Rs={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.serialize=e.getErrorCode=e.isValidCode=e.getMessageFromCode=e.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const t=Tt,r="Unspecified error message.";e.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function n(m,E=r){if(m&&Number.isInteger(m)){const M=m.toString();if(p(t.errorValues,M))return t.errorValues[M].message;if(d(m))return e.JSON_RPC_SERVER_ERROR_MESSAGE}return E}e.getMessageFromCode=n;function s(m){if(!Number.isInteger(m))return!1;const E=m.toString();return!!(t.errorValues[E]||d(m))}e.isValidCode=s;function i(m){var E;if(typeof m=="number")return m;if(a(m))return(E=m.code)!==null&&E!==void 0?E:m.errorCode}e.getErrorCode=i;function a(m){return typeof m=="object"&&m!==null&&(typeof m.code=="number"||typeof m.errorCode=="number")}function c(m,{shouldIncludeStack:E=!1}={}){const M={};if(m&&typeof m=="object"&&!Array.isArray(m)&&p(m,"code")&&s(m.code)){const x=m;M.code=x.code,x.message&&typeof x.message=="string"?(M.message=x.message,p(x,"data")&&(M.data=x.data)):(M.message=n(M.code),M.data={originalError:u(m)})}else M.code=t.standardErrorCodes.rpc.internal,M.message=f(m,"message")?m.message:r,M.data={originalError:u(m)};return E&&(M.stack=f(m,"stack")?m.stack:void 0),M}e.serialize=c;function d(m){return m>=-32099&&m<=-32e3}function u(m){return m&&typeof m=="object"&&!Array.isArray(m)?Object.assign({},m):m}function p(m,E){return Object.prototype.hasOwnProperty.call(m,E)}function f(m,E){return typeof m=="object"&&m!==null&&E in m&&typeof m[E]=="string"}})(Rs);Object.defineProperty(ks,"__esModule",{value:!0});ks.standardErrors=void 0;const Qe=Tt,Ic=Rs;ks.standardErrors={rpc:{parse:e=>ct(Qe.standardErrorCodes.rpc.parse,e),invalidRequest:e=>ct(Qe.standardErrorCodes.rpc.invalidRequest,e),invalidParams:e=>ct(Qe.standardErrorCodes.rpc.invalidParams,e),methodNotFound:e=>ct(Qe.standardErrorCodes.rpc.methodNotFound,e),internal:e=>ct(Qe.standardErrorCodes.rpc.internal,e),server:e=>{if(!e||typeof e!="object"||Array.isArray(e))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return ct(t,e)},invalidInput:e=>ct(Qe.standardErrorCodes.rpc.invalidInput,e),resourceNotFound:e=>ct(Qe.standardErrorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>ct(Qe.standardErrorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>ct(Qe.standardErrorCodes.rpc.transactionRejected,e),methodNotSupported:e=>ct(Qe.standardErrorCodes.rpc.methodNotSupported,e),limitExceeded:e=>ct(Qe.standardErrorCodes.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>Tr(Qe.standardErrorCodes.provider.userRejectedRequest,e),unauthorized:e=>Tr(Qe.standardErrorCodes.provider.unauthorized,e),unsupportedMethod:e=>Tr(Qe.standardErrorCodes.provider.unsupportedMethod,e),disconnected:e=>Tr(Qe.standardErrorCodes.provider.disconnected,e),chainDisconnected:e=>Tr(Qe.standardErrorCodes.provider.chainDisconnected,e),unsupportedChain:e=>Tr(Qe.standardErrorCodes.provider.unsupportedChain,e),custom:e=>{if(!e||typeof e!="object"||Array.isArray(e))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:t,message:r,data:n}=e;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new Nc(t,r,n)}}};function ct(e,t){const[r,n]=Ac(t);return new xc(e,r||(0,Ic.getMessageFromCode)(e),n)}function Tr(e,t){const[r,n]=Ac(t);return new Nc(e,r||(0,Ic.getMessageFromCode)(e),n)}function Ac(e){if(e){if(typeof e=="string")return[e];if(typeof e=="object"&&!Array.isArray(e)){const{message:t,data:r}=e;if(t&&typeof t!="string")throw new Error("Must specify string message.");return[t||void 0,r]}}return[]}let xc=class extends Error{constructor(t,r,n){if(!Number.isInteger(t))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=t,n!==void 0&&(this.data=n)}},Nc=class extends xc{constructor(t,r,n){if(!Yu(t))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(t,r,n)}};function Yu(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}var Is={},rn={};Object.defineProperty(rn,"__esModule",{value:!0});rn.isErrorResponse=void 0;function eh(e){return e.errorMessage!==void 0}rn.isErrorResponse=eh;var nn={};Object.defineProperty(nn,"__esModule",{value:!0});nn.LIB_VERSION=void 0;nn.LIB_VERSION="3.9.1";Object.defineProperty(Is,"__esModule",{value:!0});Is.serializeError=void 0;const th=rn,rh=nn,nh=Tt,sh=Rs;function ih(e,t){const r=(0,sh.serialize)(oh(e),{shouldIncludeStack:!0}),n=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");n.searchParams.set("version",rh.LIB_VERSION),n.searchParams.set("code",r.code.toString());const s=ah(r.data,t);return s&&n.searchParams.set("method",s),n.searchParams.set("message",r.message),Object.assign(Object.assign({},r),{docUrl:n.href})}Is.serializeError=ih;function oh(e){return typeof e=="string"?{message:e,code:nh.standardErrorCodes.rpc.internal}:(0,th.isErrorResponse)(e)?Object.assign(Object.assign({},e),{message:e.errorMessage,code:e.errorCode,data:{method:e.method}}):e}function ah(e,t){const r=e==null?void 0:e.method;if(r)return r;if(t!==void 0){if(typeof t=="string")return t;if(Array.isArray(t)){if(t.length>0)return t[0].method}else return t.method}}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.standardErrors=e.standardErrorCodes=e.serializeError=e.getMessageFromCode=e.getErrorCode=void 0;const t=Tt;Object.defineProperty(e,"standardErrorCodes",{enumerable:!0,get:function(){return t.standardErrorCodes}});const r=ks;Object.defineProperty(e,"standardErrors",{enumerable:!0,get:function(){return r.standardErrors}});const n=Is;Object.defineProperty(e,"serializeError",{enumerable:!0,get:function(){return n.serializeError}});const s=Rs;Object.defineProperty(e,"getErrorCode",{enumerable:!0,get:function(){return s.getErrorCode}}),Object.defineProperty(e,"getMessageFromCode",{enumerable:!0,get:function(){return s.getMessageFromCode}})})(xn);var qe={};Object.defineProperty(qe,"__esModule",{value:!0});qe.ProviderType=qe.RegExpString=qe.IntNumber=qe.BigIntString=qe.AddressString=qe.HexString=qe.OpaqueType=void 0;function Nn(){return e=>e}qe.OpaqueType=Nn;qe.HexString=Nn();qe.AddressString=Nn();qe.BigIntString=Nn();function ch(e){return Math.floor(e)}qe.IntNumber=ch;qe.RegExpString=Nn();var Xo;(function(e){e.CoinbaseWallet="CoinbaseWallet",e.MetaMask="MetaMask",e.Unselected=""})(Xo||(qe.ProviderType=Xo={}));var lh=$&&$.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(T,"__esModule",{value:!0});T.isMobileWeb=T.getLocation=T.isInIFrame=T.createQrUrl=T.getFavicon=T.range=T.isBigNumber=T.ensureParsedJSONObject=T.ensureBN=T.ensureRegExpString=T.ensureIntNumber=T.ensureBuffer=T.ensureAddressString=T.ensureEvenLengthHexString=T.ensureHexString=T.isHexString=T.prepend0x=T.strip0x=T.has0xPrefix=T.hexStringFromIntNumber=T.intNumberFromHexString=T.bigIntStringFromBN=T.hexStringFromBuffer=T.hexStringToUint8Array=T.uint8ArrayToHex=T.randomBytesHex=void 0;const Bt=lh(Ms),_r=xn,dt=qe,Lc=/^[0-9]*$/,Tc=/^[a-f0-9]*$/;function uh(e){return Pc(crypto.getRandomValues(new Uint8Array(e)))}T.randomBytesHex=uh;function Pc(e){return[...e].map(t=>t.toString(16).padStart(2,"0")).join("")}T.uint8ArrayToHex=Pc;function hh(e){return new Uint8Array(e.match(/.{1,2}/g).map(t=>parseInt(t,16)))}T.hexStringToUint8Array=hh;function dh(e,t=!1){const r=e.toString("hex");return(0,dt.HexString)(t?`0x${r}`:r)}T.hexStringFromBuffer=dh;function fh(e){return(0,dt.BigIntString)(e.toString(10))}T.bigIntStringFromBN=fh;function ph(e){return(0,dt.IntNumber)(new Bt.default(Tn(e,!1),16).toNumber())}T.intNumberFromHexString=ph;function gh(e){return(0,dt.HexString)(`0x${new Bt.default(e).toString(16)}`)}T.hexStringFromIntNumber=gh;function co(e){return e.startsWith("0x")||e.startsWith("0X")}T.has0xPrefix=co;function As(e){return co(e)?e.slice(2):e}T.strip0x=As;function Oc(e){return co(e)?`0x${e.slice(2)}`:`0x${e}`}T.prepend0x=Oc;function Ln(e){if(typeof e!="string")return!1;const t=As(e).toLowerCase();return Tc.test(t)}T.isHexString=Ln;function $c(e,t=!1){if(typeof e=="string"){const r=As(e).toLowerCase();if(Tc.test(r))return(0,dt.HexString)(t?`0x${r}`:r)}throw _r.standardErrors.rpc.invalidParams(`"${String(e)}" is not a hexadecimal string`)}T.ensureHexString=$c;function Tn(e,t=!1){let r=$c(e,!1);return r.length%2===1&&(r=(0,dt.HexString)(`0${r}`)),t?(0,dt.HexString)(`0x${r}`):r}T.ensureEvenLengthHexString=Tn;function mh(e){if(typeof e=="string"){const t=As(e).toLowerCase();if(Ln(t)&&t.length===40)return(0,dt.AddressString)(Oc(t))}throw _r.standardErrors.rpc.invalidParams(`Invalid Ethereum address: ${String(e)}`)}T.ensureAddressString=mh;function _h(e){if(H.isBuffer(e))return e;if(typeof e=="string"){if(Ln(e)){const t=Tn(e,!1);return H.from(t,"hex")}return H.from(e,"utf8")}throw _r.standardErrors.rpc.invalidParams(`Not binary data: ${String(e)}`)}T.ensureBuffer=_h;function Bc(e){if(typeof e=="number"&&Number.isInteger(e))return(0,dt.IntNumber)(e);if(typeof e=="string"){if(Lc.test(e))return(0,dt.IntNumber)(Number(e));if(Ln(e))return(0,dt.IntNumber)(new Bt.default(Tn(e,!1),16).toNumber())}throw _r.standardErrors.rpc.invalidParams(`Not an integer: ${String(e)}`)}T.ensureIntNumber=Bc;function vh(e){if(e instanceof RegExp)return(0,dt.RegExpString)(e.toString());throw _r.standardErrors.rpc.invalidParams(`Not a RegExp: ${String(e)}`)}T.ensureRegExpString=vh;function yh(e){if(e!==null&&(Bt.default.isBN(e)||Fc(e)))return new Bt.default(e.toString(10),10);if(typeof e=="number")return new Bt.default(Bc(e));if(typeof e=="string"){if(Lc.test(e))return new Bt.default(e,10);if(Ln(e))return new Bt.default(Tn(e,!1),16)}throw _r.standardErrors.rpc.invalidParams(`Not an integer: ${String(e)}`)}T.ensureBN=yh;function wh(e){if(typeof e=="string")return JSON.parse(e);if(typeof e=="object")return e;throw _r.standardErrors.rpc.invalidParams(`Not a JSON string or an object: ${String(e)}`)}T.ensureParsedJSONObject=wh;function Fc(e){if(e==null||typeof e.constructor!="function")return!1;const{constructor:t}=e;return typeof t.config=="function"&&typeof t.EUCLID=="number"}T.isBigNumber=Fc;function bh(e,t){return Array.from({length:t-e},(r,n)=>e+n)}T.range=bh;function Eh(){const e=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:t,host:r}=document.location,n=e?e.getAttribute("href"):null;return!n||n.startsWith("javascript:")||n.startsWith("vbscript:")?null:n.startsWith("http://")||n.startsWith("https://")||n.startsWith("data:")?n:n.startsWith("//")?t+n:`${t}//${r}${n}`}T.getFavicon=Eh;function Sh(e,t,r,n,s,i){const a=n?"parent-id":"id",c=new URLSearchParams({[a]:e,secret:t,server:r,v:s,chainId:i.toString()}).toString();return`${r}/#/link?${c}`}T.createQrUrl=Sh;function Dc(){try{return window.frameElement!==null}catch{return!1}}T.isInIFrame=Dc;function Ch(){try{return Dc()&&window.top?window.top.location:window.location}catch{return window.location}}T.getLocation=Ch;function Mh(){var e;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test((e=window==null?void 0:window.navigator)===null||e===void 0?void 0:e.userAgent)}T.isMobileWeb=Mh;var xs={};Object.defineProperty(xs,"__esModule",{value:!0});xs.ScopedLocalStorage=void 0;class kh{constructor(t){this.scope=t}setItem(t,r){localStorage.setItem(this.scopedKey(t),r)}getItem(t){return localStorage.getItem(this.scopedKey(t))}removeItem(t){localStorage.removeItem(this.scopedKey(t))}clear(){const t=this.scopedKey(""),r=[];for(let n=0;n<localStorage.length;n++){const s=localStorage.key(n);typeof s=="string"&&s.startsWith(t)&&r.push(s)}r.forEach(n=>localStorage.removeItem(n))}scopedKey(t){return`${this.scope}:${t}`}}xs.ScopedLocalStorage=kh;var Jr={};const Rh=tn(Ku);var Pn={},On={},sn={};Object.defineProperty(sn,"__esModule",{value:!0});sn.EVENTS=void 0;sn.EVENTS={STARTED_CONNECTING:"walletlink_sdk.started.connecting",CONNECTED_STATE_CHANGE:"walletlink_sdk.connected",DISCONNECTED:"walletlink_sdk.disconnected",METADATA_DESTROYED:"walletlink_sdk_metadata_destroyed",LINKED:"walletlink_sdk.linked",FAILURE:"walletlink_sdk.generic_failure",SESSION_CONFIG_RECEIVED:"walletlink_sdk.session_config_event_received",ETH_ACCOUNTS_STATE:"walletlink_sdk.eth_accounts_state",SESSION_STATE_CHANGE:"walletlink_sdk.session_state_change",UNLINKED_ERROR_STATE:"walletlink_sdk.unlinked_error_state",SKIPPED_CLEARING_SESSION:"walletlink_sdk.skipped_clearing_session",GENERAL_ERROR:"walletlink_sdk.general_error",WEB3_REQUEST:"walletlink_sdk.web3.request",WEB3_REQUEST_PUBLISHED:"walletlink_sdk.web3.request_published",WEB3_RESPONSE:"walletlink_sdk.web3.response",METHOD_NOT_IMPLEMENTED:"walletlink_sdk.method_not_implemented",UNKNOWN_ADDRESS_ENCOUNTERED:"walletlink_sdk.unknown_address_encountered"};var ht={};Object.defineProperty(ht,"__esModule",{value:!0});ht.RelayAbstract=ht.APP_VERSION_KEY=ht.LOCAL_STORAGE_ADDRESSES_KEY=ht.WALLET_USER_NAME_KEY=void 0;const Yo=xn;ht.WALLET_USER_NAME_KEY="walletUsername";ht.LOCAL_STORAGE_ADDRESSES_KEY="Addresses";ht.APP_VERSION_KEY="AppVersion";class Ih{async makeEthereumJSONRPCRequest(t,r){if(!r)throw new Error("Error: No jsonRpcUrl provided");return window.fetch(r,{method:"POST",body:JSON.stringify(t),mode:"cors",headers:{"Content-Type":"application/json"}}).then(n=>n.json()).then(n=>{if(!n)throw Yo.standardErrors.rpc.parse({});const s=n,{error:i}=s;if(i)throw(0,Yo.serializeError)(i,t.method);return s})}}ht.RelayAbstract=Ih;var on={};Object.defineProperty(on,"__esModule",{value:!0});on.Session=void 0;const ea=Zu,ta=T,ra="session:id",na="session:secret",sa="session:linked";class lo{constructor(t,r,n,s){this._storage=t,this._id=r||(0,ta.randomBytesHex)(16),this._secret=n||(0,ta.randomBytesHex)(32),this._key=new ea.sha256().update(`${this._id}, ${this._secret} WalletLink`).digest("hex"),this._linked=!!s}static load(t){const r=t.getItem(ra),n=t.getItem(sa),s=t.getItem(na);return r&&s?new lo(t,r,s,n==="1"):null}static hash(t){return new ea.sha256().update(t).digest("hex")}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(t){this._linked=t,this.persistLinked()}save(){return this._storage.setItem(ra,this._id),this._storage.setItem(na,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(sa,this._linked?"1":"0")}}on.Session=lo;var Ns={},Ls={};Object.defineProperty(Ls,"__esModule",{value:!0});Ls.Cipher=void 0;const Yn=T;class Ah{constructor(t){this.secret=t}async encrypt(t){const r=this.secret;if(r.length!==64)throw Error("secret must be 256 bits");const n=crypto.getRandomValues(new Uint8Array(12)),s=await crypto.subtle.importKey("raw",(0,Yn.hexStringToUint8Array)(r),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=new TextEncoder,a=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:n},s,i.encode(t)),c=16,d=a.slice(a.byteLength-c),u=a.slice(0,a.byteLength-c),p=new Uint8Array(d),f=new Uint8Array(u),m=new Uint8Array([...n,...p,...f]);return(0,Yn.uint8ArrayToHex)(m)}async decrypt(t){const r=this.secret;if(r.length!==64)throw Error("secret must be 256 bits");return new Promise((n,s)=>{(async function(){const i=await crypto.subtle.importKey("raw",(0,Yn.hexStringToUint8Array)(r),{name:"aes-gcm"},!1,["encrypt","decrypt"]),a=(0,Yn.hexStringToUint8Array)(t),c=a.slice(0,12),d=a.slice(12,28),u=a.slice(28),p=new Uint8Array([...u,...d]),f={name:"AES-GCM",iv:new Uint8Array(c)};try{const m=await window.crypto.subtle.decrypt(f,i,p),E=new TextDecoder;n(E.decode(m))}catch(m){s(m)}})()})}}Ls.Cipher=Ah;var Ts={};Object.defineProperty(Ts,"__esModule",{value:!0});Ts.WalletLinkHTTP=void 0;class xh{constructor(t,r,n){this.linkAPIUrl=t,this.sessionId=r;const s=`${r}:${n}`;this.auth=`Basic ${btoa(s)}`}async markUnseenEventsAsSeen(t){return Promise.all(t.map(r=>fetch(`${this.linkAPIUrl}/events/${r.eventId}/seen`,{method:"POST",headers:{Authorization:this.auth}}))).catch(r=>console.error("Unabled to mark event as failed:",r))}async fetchUnseenEvents(){var t;const r=await fetch(`${this.linkAPIUrl}/events?unseen=true`,{headers:{Authorization:this.auth}});if(r.ok){const{events:n,error:s}=await r.json();if(s)throw new Error(`Check unseen events failed: ${s}`);const i=(t=n==null?void 0:n.filter(a=>a.event==="Web3Response").map(a=>({type:"Event",sessionId:this.sessionId,eventId:a.id,event:a.event,data:a.data})))!==null&&t!==void 0?t:[];return this.markUnseenEventsAsSeen(i),i}throw new Error(`Check unseen events failed: ${r.status}`)}}Ts.WalletLinkHTTP=xh;var Gr={};Object.defineProperty(Gr,"__esModule",{value:!0});Gr.WalletLinkWebSocket=Gr.ConnectionState=void 0;var Hr;(function(e){e[e.DISCONNECTED=0]="DISCONNECTED",e[e.CONNECTING=1]="CONNECTING",e[e.CONNECTED=2]="CONNECTED"})(Hr||(Gr.ConnectionState=Hr={}));class Nh{setConnectionStateListener(t){this.connectionStateListener=t}setIncomingDataListener(t){this.incomingDataListener=t}constructor(t,r=WebSocket){this.WebSocketClass=r,this.webSocket=null,this.pendingData=[],this.url=t.replace(/^http/,"ws")}async connect(){if(this.webSocket)throw new Error("webSocket object is not null");return new Promise((t,r)=>{var n;let s;try{this.webSocket=s=new this.WebSocketClass(this.url)}catch(i){r(i);return}(n=this.connectionStateListener)===null||n===void 0||n.call(this,Hr.CONNECTING),s.onclose=i=>{var a;this.clearWebSocket(),r(new Error(`websocket error ${i.code}: ${i.reason}`)),(a=this.connectionStateListener)===null||a===void 0||a.call(this,Hr.DISCONNECTED)},s.onopen=i=>{var a;t(),(a=this.connectionStateListener)===null||a===void 0||a.call(this,Hr.CONNECTED),this.pendingData.length>0&&([...this.pendingData].forEach(d=>this.sendData(d)),this.pendingData=[])},s.onmessage=i=>{var a,c;if(i.data==="h")(a=this.incomingDataListener)===null||a===void 0||a.call(this,{type:"Heartbeat"});else try{const d=JSON.parse(i.data);(c=this.incomingDataListener)===null||c===void 0||c.call(this,d)}catch{}}})}disconnect(){var t;const{webSocket:r}=this;if(r){this.clearWebSocket(),(t=this.connectionStateListener)===null||t===void 0||t.call(this,Hr.DISCONNECTED),this.connectionStateListener=void 0,this.incomingDataListener=void 0;try{r.close()}catch{}}}sendData(t){const{webSocket:r}=this;if(!r){this.pendingData.push(t),this.connect();return}r.send(t)}clearWebSocket(){const{webSocket:t}=this;t&&(this.webSocket=null,t.onclose=null,t.onerror=null,t.onmessage=null,t.onopen=null)}}Gr.WalletLinkWebSocket=Nh;Object.defineProperty(Ns,"__esModule",{value:!0});Ns.WalletLinkConnection=void 0;const Pr=qe,Lh=Ls,yt=sn,ia=ht,Or=on,Th=Ts,es=Gr,oa=1e4,Ph=6e4;class Oh{constructor({session:t,linkAPIUrl:r,listener:n,diagnostic:s,WebSocketClass:i=WebSocket}){this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,Pr.IntNumber)(1),this._connected=!1,this._linked=!1,this.shouldFetchUnseenEventsOnConnect=!1,this.requestResolutions=new Map,this.handleSessionMetadataUpdated=c=>{if(!c)return;new Map([["__destroyed",this.handleDestroyed],["EthereumAddress",this.handleAccountUpdated],["WalletUsername",this.handleWalletUsernameUpdated],["AppVersion",this.handleAppVersionUpdated],["ChainId",u=>c.JsonRpcUrl&&this.handleChainUpdated(u,c.JsonRpcUrl)]]).forEach((u,p)=>{const f=c[p];f!==void 0&&u(f)})},this.handleDestroyed=c=>{var d,u;c==="1"&&((d=this.listener)===null||d===void 0||d.resetAndReload(),(u=this.diagnostic)===null||u===void 0||u.log(yt.EVENTS.METADATA_DESTROYED,{alreadyDestroyed:this.isDestroyed,sessionIdHash:Or.Session.hash(this.session.id)}))},this.handleAccountUpdated=async c=>{var d,u;try{const p=await this.cipher.decrypt(c);(d=this.listener)===null||d===void 0||d.accountUpdated(p)}catch{(u=this.diagnostic)===null||u===void 0||u.log(yt.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"selectedAddress"})}},this.handleMetadataUpdated=async(c,d)=>{var u,p;try{const f=await this.cipher.decrypt(d);(u=this.listener)===null||u===void 0||u.metadataUpdated(c,f)}catch{(p=this.diagnostic)===null||p===void 0||p.log(yt.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:c})}},this.handleWalletUsernameUpdated=async c=>{this.handleMetadataUpdated(ia.WALLET_USER_NAME_KEY,c)},this.handleAppVersionUpdated=async c=>{this.handleMetadataUpdated(ia.APP_VERSION_KEY,c)},this.handleChainUpdated=async(c,d)=>{var u,p;try{const f=await this.cipher.decrypt(c),m=await this.cipher.decrypt(d);(u=this.listener)===null||u===void 0||u.chainUpdated(f,m)}catch{(p=this.diagnostic)===null||p===void 0||p.log(yt.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"chainId|jsonRpcUrl"})}},this.session=t,this.cipher=new Lh.Cipher(t.secret),this.diagnostic=s,this.listener=n;const a=new es.WalletLinkWebSocket(`${r}/rpc`,i);a.setConnectionStateListener(async c=>{var d;(d=this.diagnostic)===null||d===void 0||d.log(yt.EVENTS.CONNECTED_STATE_CHANGE,{state:c,sessionIdHash:Or.Session.hash(t.id)});let u=!1;switch(c){case es.ConnectionState.DISCONNECTED:if(!this.destroyed){const p=async()=>{await new Promise(f=>setTimeout(f,5e3)),this.destroyed||a.connect().catch(()=>{p()})};p()}break;case es.ConnectionState.CONNECTED:try{await this.authenticate(),this.sendIsLinked(),this.sendGetSessionConfig(),u=!0}catch{}this.updateLastHeartbeat(),setInterval(()=>{this.heartbeat()},oa),this.shouldFetchUnseenEventsOnConnect&&this.fetchUnseenEventsAPI();break;case es.ConnectionState.CONNECTING:break}this.connected!==u&&(this.connected=u)}),a.setIncomingDataListener(c=>{var d,u,p;switch(c.type){case"Heartbeat":this.updateLastHeartbeat();return;case"IsLinkedOK":case"Linked":{const f=c.type==="IsLinkedOK"?c.linked:void 0;(d=this.diagnostic)===null||d===void 0||d.log(yt.EVENTS.LINKED,{sessionIdHash:Or.Session.hash(t.id),linked:f,type:c.type,onlineGuests:c.onlineGuests}),this.linked=f||c.onlineGuests>0;break}case"GetSessionConfigOK":case"SessionConfigUpdated":{(u=this.diagnostic)===null||u===void 0||u.log(yt.EVENTS.SESSION_CONFIG_RECEIVED,{sessionIdHash:Or.Session.hash(t.id),metadata_keys:c&&c.metadata?Object.keys(c.metadata):void 0}),this.handleSessionMetadataUpdated(c.metadata);break}case"Event":{this.handleIncomingEvent(c);break}}c.id!==void 0&&((p=this.requestResolutions.get(c.id))===null||p===void 0||p(c))}),this.ws=a,this.http=new Th.WalletLinkHTTP(r,t.id,t.key)}connect(){var t;if(this.destroyed)throw new Error("instance is destroyed");(t=this.diagnostic)===null||t===void 0||t.log(yt.EVENTS.STARTED_CONNECTING,{sessionIdHash:Or.Session.hash(this.session.id)}),this.ws.connect()}destroy(){var t;this.destroyed=!0,this.ws.disconnect(),(t=this.diagnostic)===null||t===void 0||t.log(yt.EVENTS.DISCONNECTED,{sessionIdHash:Or.Session.hash(this.session.id)}),this.listener=void 0}get isDestroyed(){return this.destroyed}get connected(){return this._connected}set connected(t){var r,n;this._connected=t,t&&((r=this.onceConnected)===null||r===void 0||r.call(this)),(n=this.listener)===null||n===void 0||n.connectedUpdated(t)}setOnceConnected(t){return new Promise(r=>{this.connected?t().then(r):this.onceConnected=()=>{t().then(r),this.onceConnected=void 0}})}get linked(){return this._linked}set linked(t){var r,n;this._linked=t,t&&((r=this.onceLinked)===null||r===void 0||r.call(this)),(n=this.listener)===null||n===void 0||n.linkedUpdated(t)}setOnceLinked(t){return new Promise(r=>{this.linked?t().then(r):this.onceLinked=()=>{t().then(r),this.onceLinked=void 0}})}async handleIncomingEvent(t){var r,n;if(!(t.type!=="Event"||t.event!=="Web3Response"))try{const s=await this.cipher.decrypt(t.data),i=JSON.parse(s);if(i.type!=="WEB3_RESPONSE")return;(r=this.listener)===null||r===void 0||r.handleWeb3ResponseMessage(i)}catch{(n=this.diagnostic)===null||n===void 0||n.log(yt.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"incomingEvent"})}}async checkUnseenEvents(){if(!this.connected){this.shouldFetchUnseenEventsOnConnect=!0;return}await new Promise(t=>setTimeout(t,250));try{await this.fetchUnseenEventsAPI()}catch(t){console.error("Unable to check for unseen events",t)}}async fetchUnseenEventsAPI(){this.shouldFetchUnseenEventsOnConnect=!1,(await this.http.fetchUnseenEvents()).forEach(r=>this.handleIncomingEvent(r))}async setSessionMetadata(t,r){const n={type:"SetSessionConfig",id:(0,Pr.IntNumber)(this.nextReqId++),sessionId:this.session.id,metadata:{[t]:r}};return this.setOnceConnected(async()=>{const s=await this.makeRequest(n);if(s.type==="Fail")throw new Error(s.error||"failed to set session metadata")})}async publishEvent(t,r,n=!1){const s=await this.cipher.encrypt(JSON.stringify(Object.assign(Object.assign({},r),{origin:location.origin,relaySource:window.coinbaseWalletExtension?"injected_sdk":"sdk"}))),i={type:"PublishEvent",id:(0,Pr.IntNumber)(this.nextReqId++),sessionId:this.session.id,event:t,data:s,callWebhook:n};return this.setOnceLinked(async()=>{const a=await this.makeRequest(i);if(a.type==="Fail")throw new Error(a.error||"failed to publish event");return a.eventId})}sendData(t){this.ws.sendData(JSON.stringify(t))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>oa*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}async makeRequest(t,r=Ph){const n=t.id;this.sendData(t);let s;return Promise.race([new Promise((i,a)=>{s=window.setTimeout(()=>{a(new Error(`request ${n} timed out`))},r)}),new Promise(i=>{this.requestResolutions.set(n,a=>{clearTimeout(s),i(a),this.requestResolutions.delete(n)})})])}async authenticate(){const t={type:"HostSession",id:(0,Pr.IntNumber)(this.nextReqId++),sessionId:this.session.id,sessionKey:this.session.key},r=await this.makeRequest(t);if(r.type==="Fail")throw new Error(r.error||"failed to authentcate")}sendIsLinked(){const t={type:"IsLinked",id:(0,Pr.IntNumber)(this.nextReqId++),sessionId:this.session.id};this.sendData(t)}sendGetSessionConfig(){const t={type:"GetSessionConfig",id:(0,Pr.IntNumber)(this.nextReqId++),sessionId:this.session.id};this.sendData(t)}}Ns.WalletLinkConnection=Oh;var $n={},Bn={},uo={};Object.defineProperty(uo,"__esModule",{value:!0});uo.default='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';var $h=$&&$.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bn,"__esModule",{value:!0});Bn.injectCssReset=void 0;const Bh=$h(uo);function Fh(){const e=document.createElement("style");e.type="text/css",e.appendChild(document.createTextNode(Bh.default)),document.documentElement.appendChild(e)}Bn.injectCssReset=Fh;var Ps={},Fn,ke,jc,Hc,ir,aa,Uc,qi,ho,Ji,Gi,Vc,Rn={},Wc=[],Dh=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Os=Array.isArray;function Lt(e,t){for(var r in t)e[r]=t[r];return e}function zc(e){var t=e.parentNode;t&&t.removeChild(e)}function Zi(e,t,r){var n,s,i,a={};for(i in t)i=="key"?n=t[i]:i=="ref"?s=t[i]:a[i]=t[i];if(arguments.length>2&&(a.children=arguments.length>3?Fn.call(arguments,2):r),typeof e=="function"&&e.defaultProps!=null)for(i in e.defaultProps)a[i]===void 0&&(a[i]=e.defaultProps[i]);return En(e,a,n,s,null)}function En(e,t,r,n,s){var i={type:e,props:t,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:s??++jc,__i:-1,__u:0};return s==null&&ke.vnode!=null&&ke.vnode(i),i}function jh(){return{current:null}}function Dn(e){return e.children}function Sn(e,t){this.props=e,this.context=t}function fr(e,t){if(t==null)return e.__?fr(e.__,e.__i+1):null;for(var r;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null)return r.__e;return typeof e.type=="function"?fr(e):null}function qc(e){var t,r;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null){e.__e=e.__c.base=r.__e;break}return qc(e)}}function Qi(e){(!e.__d&&(e.__d=!0)&&ir.push(e)&&!ms.__r++||aa!==ke.debounceRendering)&&((aa=ke.debounceRendering)||Uc)(ms)}function ms(){var e,t,r,n,s,i,a,c;for(ir.sort(qi);e=ir.shift();)e.__d&&(t=ir.length,n=void 0,i=(s=(r=e).__v).__e,a=[],c=[],r.__P&&((n=Lt({},s)).__v=s.__v+1,ke.vnode&&ke.vnode(n),fo(r.__P,n,s,r.__n,r.__P.ownerSVGElement!==void 0,32&s.__u?[i]:null,a,i??fr(s),!!(32&s.__u),c),n.__v=s.__v,n.__.__k[n.__i]=n,Qc(a,n,c),n.__e!=i&&qc(n)),ir.length>t&&ir.sort(qi));ms.__r=0}function Jc(e,t,r,n,s,i,a,c,d,u,p){var f,m,E,M,x,k=n&&n.__k||Wc,I=t.length;for(r.__d=d,Hh(r,t,k),d=r.__d,f=0;f<I;f++)(E=r.__k[f])!=null&&typeof E!="boolean"&&typeof E!="function"&&(m=E.__i===-1?Rn:k[E.__i]||Rn,E.__i=f,fo(e,E,m,s,i,a,c,d,u,p),M=E.__e,E.ref&&m.ref!=E.ref&&(m.ref&&po(m.ref,null,E),p.push(E.ref,E.__c||M,E)),x==null&&M!=null&&(x=M),65536&E.__u||m.__k===E.__k?(d&&!d.isConnected&&(d=fr(m)),d=Gc(E,d,e)):typeof E.type=="function"&&E.__d!==void 0?d=E.__d:M&&(d=M.nextSibling),E.__d=void 0,E.__u&=-196609);r.__d=d,r.__e=x}function Hh(e,t,r){var n,s,i,a,c,d=t.length,u=r.length,p=u,f=0;for(e.__k=[],n=0;n<d;n++)a=n+f,(s=e.__k[n]=(s=t[n])==null||typeof s=="boolean"||typeof s=="function"?null:typeof s=="string"||typeof s=="number"||typeof s=="bigint"||s.constructor==String?En(null,s,null,null,null):Os(s)?En(Dn,{children:s},null,null,null):s.constructor===void 0&&s.__b>0?En(s.type,s.props,s.key,s.ref?s.ref:null,s.__v):s)!=null?(s.__=e,s.__b=e.__b+1,c=Uh(s,r,a,p),s.__i=c,i=null,c!==-1&&(p--,(i=r[c])&&(i.__u|=131072)),i==null||i.__v===null?(c==-1&&f--,typeof s.type!="function"&&(s.__u|=65536)):c!==a&&(c===a+1?f++:c>a?p>d-a?f+=c-a:f--:c<a?c==a-1&&(f=c-a):f=0,c!==n+f&&(s.__u|=65536))):(i=r[a])&&i.key==null&&i.__e&&!(131072&i.__u)&&(i.__e==e.__d&&(e.__d=fr(i)),Ki(i,i,!1),r[a]=null,p--);if(p)for(n=0;n<u;n++)(i=r[n])!=null&&!(131072&i.__u)&&(i.__e==e.__d&&(e.__d=fr(i)),Ki(i,i))}function Gc(e,t,r){var n,s;if(typeof e.type=="function"){for(n=e.__k,s=0;n&&s<n.length;s++)n[s]&&(n[s].__=e,t=Gc(n[s],t,r));return t}e.__e!=t&&(r.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType===8);return t}function Zc(e,t){return t=t||[],e==null||typeof e=="boolean"||(Os(e)?e.some(function(r){Zc(r,t)}):t.push(e)),t}function Uh(e,t,r,n){var s=e.key,i=e.type,a=r-1,c=r+1,d=t[r];if(d===null||d&&s==d.key&&i===d.type&&!(131072&d.__u))return r;if(n>(d!=null&&!(131072&d.__u)?1:0))for(;a>=0||c<t.length;){if(a>=0){if((d=t[a])&&!(131072&d.__u)&&s==d.key&&i===d.type)return a;a--}if(c<t.length){if((d=t[c])&&!(131072&d.__u)&&s==d.key&&i===d.type)return c;c++}}return-1}function ca(e,t,r){t[0]==="-"?e.setProperty(t,r??""):e[t]=r==null?"":typeof r!="number"||Dh.test(t)?r:r+"px"}function ts(e,t,r,n,s){var i;e:if(t==="style")if(typeof r=="string")e.style.cssText=r;else{if(typeof n=="string"&&(e.style.cssText=n=""),n)for(t in n)r&&t in r||ca(e.style,t,"");if(r)for(t in r)n&&r[t]===n[t]||ca(e.style,t,r[t])}else if(t[0]==="o"&&t[1]==="n")i=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e||t==="onFocusOut"||t==="onFocusIn"?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=r,r?n?r.u=n.u:(r.u=ho,e.addEventListener(t,i?Gi:Ji,i)):e.removeEventListener(t,i?Gi:Ji,i);else{if(s)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t in e)try{e[t]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,r))}}function la(e){return function(t){if(this.l){var r=this.l[t.type+e];if(t.t==null)t.t=ho++;else if(t.t<r.u)return;return r(ke.event?ke.event(t):t)}}}function fo(e,t,r,n,s,i,a,c,d,u){var p,f,m,E,M,x,k,I,R,A,D,N,P,W,ee,G=t.type;if(t.constructor!==void 0)return null;128&r.__u&&(d=!!(32&r.__u),i=[c=t.__e=r.__e]),(p=ke.__b)&&p(t);e:if(typeof G=="function")try{if(I=t.props,R=(p=G.contextType)&&n[p.__c],A=p?R?R.props.value:p.__:n,r.__c?k=(f=t.__c=r.__c).__=f.__E:("prototype"in G&&G.prototype.render?t.__c=f=new G(I,A):(t.__c=f=new Sn(I,A),f.constructor=G,f.render=Wh),R&&R.sub(f),f.props=I,f.state||(f.state={}),f.context=A,f.__n=n,m=f.__d=!0,f.__h=[],f._sb=[]),f.__s==null&&(f.__s=f.state),G.getDerivedStateFromProps!=null&&(f.__s==f.state&&(f.__s=Lt({},f.__s)),Lt(f.__s,G.getDerivedStateFromProps(I,f.__s))),E=f.props,M=f.state,f.__v=t,m)G.getDerivedStateFromProps==null&&f.componentWillMount!=null&&f.componentWillMount(),f.componentDidMount!=null&&f.__h.push(f.componentDidMount);else{if(G.getDerivedStateFromProps==null&&I!==E&&f.componentWillReceiveProps!=null&&f.componentWillReceiveProps(I,A),!f.__e&&(f.shouldComponentUpdate!=null&&f.shouldComponentUpdate(I,f.__s,A)===!1||t.__v===r.__v)){for(t.__v!==r.__v&&(f.props=I,f.state=f.__s,f.__d=!1),t.__e=r.__e,t.__k=r.__k,t.__k.forEach(function(Q){Q&&(Q.__=t)}),D=0;D<f._sb.length;D++)f.__h.push(f._sb[D]);f._sb=[],f.__h.length&&a.push(f);break e}f.componentWillUpdate!=null&&f.componentWillUpdate(I,f.__s,A),f.componentDidUpdate!=null&&f.__h.push(function(){f.componentDidUpdate(E,M,x)})}if(f.context=A,f.props=I,f.__P=e,f.__e=!1,N=ke.__r,P=0,"prototype"in G&&G.prototype.render){for(f.state=f.__s,f.__d=!1,N&&N(t),p=f.render(f.props,f.state,f.context),W=0;W<f._sb.length;W++)f.__h.push(f._sb[W]);f._sb=[]}else do f.__d=!1,N&&N(t),p=f.render(f.props,f.state,f.context),f.state=f.__s;while(f.__d&&++P<25);f.state=f.__s,f.getChildContext!=null&&(n=Lt(Lt({},n),f.getChildContext())),m||f.getSnapshotBeforeUpdate==null||(x=f.getSnapshotBeforeUpdate(E,M)),Jc(e,Os(ee=p!=null&&p.type===Dn&&p.key==null?p.props.children:p)?ee:[ee],t,r,n,s,i,a,c,d,u),f.base=t.__e,t.__u&=-161,f.__h.length&&a.push(f),k&&(f.__E=f.__=null)}catch(Q){t.__v=null,d||i!=null?(t.__e=c,t.__u|=d?160:32,i[i.indexOf(c)]=null):(t.__e=r.__e,t.__k=r.__k),ke.__e(Q,t,r)}else i==null&&t.__v===r.__v?(t.__k=r.__k,t.__e=r.__e):t.__e=Vh(r.__e,t,r,n,s,i,a,d,u);(p=ke.diffed)&&p(t)}function Qc(e,t,r){t.__d=void 0;for(var n=0;n<r.length;n++)po(r[n],r[++n],r[++n]);ke.__c&&ke.__c(t,e),e.some(function(s){try{e=s.__h,s.__h=[],e.some(function(i){i.call(s)})}catch(i){ke.__e(i,s.__v)}})}function Vh(e,t,r,n,s,i,a,c,d){var u,p,f,m,E,M,x,k=r.props,I=t.props,R=t.type;if(R==="svg"&&(s=!0),i!=null){for(u=0;u<i.length;u++)if((E=i[u])&&"setAttribute"in E==!!R&&(R?E.localName===R:E.nodeType===3)){e=E,i[u]=null;break}}if(e==null){if(R===null)return document.createTextNode(I);e=s?document.createElementNS("http://www.w3.org/2000/svg",R):document.createElement(R,I.is&&I),i=null,c=!1}if(R===null)k===I||c&&e.data===I||(e.data=I);else{if(i=i&&Fn.call(e.childNodes),k=r.props||Rn,!c&&i!=null)for(k={},u=0;u<e.attributes.length;u++)k[(E=e.attributes[u]).name]=E.value;for(u in k)E=k[u],u=="children"||(u=="dangerouslySetInnerHTML"?f=E:u==="key"||u in I||ts(e,u,null,E,s));for(u in I)E=I[u],u=="children"?m=E:u=="dangerouslySetInnerHTML"?p=E:u=="value"?M=E:u=="checked"?x=E:u==="key"||c&&typeof E!="function"||k[u]===E||ts(e,u,E,k[u],s);if(p)c||f&&(p.__html===f.__html||p.__html===e.innerHTML)||(e.innerHTML=p.__html),t.__k=[];else if(f&&(e.innerHTML=""),Jc(e,Os(m)?m:[m],t,r,n,s&&R!=="foreignObject",i,a,i?i[0]:r.__k&&fr(r,0),c,d),i!=null)for(u=i.length;u--;)i[u]!=null&&zc(i[u]);c||(u="value",M!==void 0&&(M!==e[u]||R==="progress"&&!M||R==="option"&&M!==k[u])&&ts(e,u,M,k[u],!1),u="checked",x!==void 0&&x!==e[u]&&ts(e,u,x,k[u],!1))}return e}function po(e,t,r){try{typeof e=="function"?e(t):e.current=t}catch(n){ke.__e(n,r)}}function Ki(e,t,r){var n,s;if(ke.unmount&&ke.unmount(e),(n=e.ref)&&(n.current&&n.current!==e.__e||po(n,null,t)),(n=e.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(i){ke.__e(i,t)}n.base=n.__P=null}if(n=e.__k)for(s=0;s<n.length;s++)n[s]&&Ki(n[s],t,r||typeof e.type!="function");r||e.__e==null||zc(e.__e),e.__c=e.__=e.__e=e.__d=void 0}function Wh(e,t,r){return this.constructor(e,r)}function Kc(e,t,r){var n,s,i,a;ke.__&&ke.__(e,t),s=(n=typeof r=="function")?null:r&&r.__k||t.__k,i=[],a=[],fo(t,e=(!n&&r||t).__k=Zi(Dn,null,[e]),s||Rn,Rn,t.ownerSVGElement!==void 0,!n&&r?[r]:s?null:t.firstChild?Fn.call(t.childNodes):null,i,!n&&r?r:s?s.__e:t.firstChild,n,a),Qc(i,e,a)}function Xc(e,t){Kc(e,t,Xc)}function zh(e,t,r){var n,s,i,a,c=Lt({},e.props);for(i in e.type&&e.type.defaultProps&&(a=e.type.defaultProps),t)i=="key"?n=t[i]:i=="ref"?s=t[i]:c[i]=t[i]===void 0&&a!==void 0?a[i]:t[i];return arguments.length>2&&(c.children=arguments.length>3?Fn.call(arguments,2):r),En(e.type,c,n||e.key,s||e.ref,null)}function qh(e,t){var r={__c:t="__cC"+Vc++,__:e,Consumer:function(n,s){return n.children(s)},Provider:function(n){var s,i;return this.getChildContext||(s=[],(i={})[t]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(a){this.props.value!==a.value&&s.some(function(c){c.__e=!0,Qi(c)})},this.sub=function(a){s.push(a);var c=a.componentWillUnmount;a.componentWillUnmount=function(){s.splice(s.indexOf(a),1),c&&c.call(a)}}),n.children}};return r.Provider.__=r.Consumer.contextType=r}Fn=Wc.slice,ke={__e:function(e,t,r,n){for(var s,i,a;t=t.__;)if((s=t.__c)&&!s.__)try{if((i=s.constructor)&&i.getDerivedStateFromError!=null&&(s.setState(i.getDerivedStateFromError(e)),a=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(e,n||{}),a=s.__d),a)return s.__E=s}catch(c){e=c}throw e}},jc=0,Hc=function(e){return e!=null&&e.constructor==null},Sn.prototype.setState=function(e,t){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Lt({},this.state),typeof e=="function"&&(e=e(Lt({},r),this.props)),e&&Lt(r,e),e!=null&&this.__v&&(t&&this._sb.push(t),Qi(this))},Sn.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Qi(this))},Sn.prototype.render=Dn,ir=[],Uc=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,qi=function(e,t){return e.__v.__b-t.__v.__b},ms.__r=0,ho=0,Ji=la(!1),Gi=la(!0),Vc=0;const Jh=Object.freeze(Object.defineProperty({__proto__:null,Component:Sn,Fragment:Dn,cloneElement:zh,createContext:qh,createElement:Zi,createRef:jh,h:Zi,hydrate:Xc,get isValidElement(){return Hc},get options(){return ke},render:Kc,toChildArray:Zc},Symbol.toStringTag,{value:"Module"})),nt=tn(Jh);var $s={};function Yc(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=Yc(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function ua(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=Yc(e))&&(n&&(n+=" "),n+=t);return n}const Gh=Object.freeze(Object.defineProperty({__proto__:null,clsx:ua,default:ua},Symbol.toStringTag,{value:"Module"})),jn=tn(Gh);var Pt,Y,bi,ha,Zr=0,el=[],fs=[],He=ke,da=He.__b,fa=He.__r,pa=He.diffed,ga=He.__c,ma=He.unmount,_a=He.__;function vr(e,t){He.__h&&He.__h(Y,e,Zr||t),Zr=0;var r=Y.__H||(Y.__H={__:[],__h:[]});return e>=r.__.length&&r.__.push({__V:fs}),r.__[e]}function tl(e){return Zr=1,rl(sl,e)}function rl(e,t,r){var n=vr(Pt++,2);if(n.t=e,!n.__c&&(n.__=[r?r(t):sl(void 0,t),function(c){var d=n.__N?n.__N[0]:n.__[0],u=n.t(d,c);d!==u&&(n.__N=[u,n.__[1]],n.__c.setState({}))}],n.__c=Y,!Y.u)){var s=function(c,d,u){if(!n.__c.__H)return!0;var p=n.__c.__H.__.filter(function(m){return!!m.__c});if(p.every(function(m){return!m.__N}))return!i||i.call(this,c,d,u);var f=!1;return p.forEach(function(m){if(m.__N){var E=m.__[0];m.__=m.__N,m.__N=void 0,E!==m.__[0]&&(f=!0)}}),!(!f&&n.__c.props===c)&&(!i||i.call(this,c,d,u))};Y.u=!0;var i=Y.shouldComponentUpdate,a=Y.componentWillUpdate;Y.componentWillUpdate=function(c,d,u){if(this.__e){var p=i;i=void 0,s(c,d,u),i=p}a&&a.call(this,c,d,u)},Y.shouldComponentUpdate=s}return n.__N||n.__}function Zh(e,t){var r=vr(Pt++,3);!He.__s&&mo(r.__H,t)&&(r.__=e,r.i=t,Y.__H.__h.push(r))}function nl(e,t){var r=vr(Pt++,4);!He.__s&&mo(r.__H,t)&&(r.__=e,r.i=t,Y.__h.push(r))}function Qh(e){return Zr=5,go(function(){return{current:e}},[])}function Kh(e,t,r){Zr=6,nl(function(){return typeof e=="function"?(e(t()),function(){return e(null)}):e?(e.current=t(),function(){return e.current=null}):void 0},r==null?r:r.concat(e))}function go(e,t){var r=vr(Pt++,7);return mo(r.__H,t)?(r.__V=e(),r.i=t,r.__h=e,r.__V):r.__}function Xh(e,t){return Zr=8,go(function(){return e},t)}function Yh(e){var t=Y.context[e.__c],r=vr(Pt++,9);return r.c=e,t?(r.__==null&&(r.__=!0,t.sub(Y)),t.props.value):e.__}function ed(e,t){He.useDebugValue&&He.useDebugValue(t?t(e):e)}function td(e){var t=vr(Pt++,10),r=tl();return t.__=e,Y.componentDidCatch||(Y.componentDidCatch=function(n,s){t.__&&t.__(n,s),r[1](n)}),[r[0],function(){r[1](void 0)}]}function rd(){var e=vr(Pt++,11);if(!e.__){for(var t=Y.__v;t!==null&&!t.__m&&t.__!==null;)t=t.__;var r=t.__m||(t.__m=[0,0]);e.__="P"+r[0]+"-"+r[1]++}return e.__}function nd(){for(var e;e=el.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(ps),e.__H.__h.forEach(Xi),e.__H.__h=[]}catch(t){e.__H.__h=[],He.__e(t,e.__v)}}He.__b=function(e){Y=null,da&&da(e)},He.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),_a&&_a(e,t)},He.__r=function(e){fa&&fa(e),Pt=0;var t=(Y=e.__c).__H;t&&(bi===Y?(t.__h=[],Y.__h=[],t.__.forEach(function(r){r.__N&&(r.__=r.__N),r.__V=fs,r.__N=r.i=void 0})):(t.__h.forEach(ps),t.__h.forEach(Xi),t.__h=[],Pt=0)),bi=Y},He.diffed=function(e){pa&&pa(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(el.push(t)!==1&&ha===He.requestAnimationFrame||((ha=He.requestAnimationFrame)||sd)(nd)),t.__H.__.forEach(function(r){r.i&&(r.__H=r.i),r.__V!==fs&&(r.__=r.__V),r.i=void 0,r.__V=fs})),bi=Y=null},He.__c=function(e,t){t.some(function(r){try{r.__h.forEach(ps),r.__h=r.__h.filter(function(n){return!n.__||Xi(n)})}catch(n){t.some(function(s){s.__h&&(s.__h=[])}),t=[],He.__e(n,r.__v)}}),ga&&ga(e,t)},He.unmount=function(e){ma&&ma(e);var t,r=e.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{ps(n)}catch(s){t=s}}),r.__H=void 0,t&&He.__e(t,r.__v))};var va=typeof requestAnimationFrame=="function";function sd(e){var t,r=function(){clearTimeout(n),va&&cancelAnimationFrame(t),setTimeout(e)},n=setTimeout(r,100);va&&(t=requestAnimationFrame(r))}function ps(e){var t=Y,r=e.__c;typeof r=="function"&&(e.__c=void 0,r()),Y=t}function Xi(e){var t=Y;e.__c=e.__(),Y=t}function mo(e,t){return!e||e.length!==t.length||t.some(function(r,n){return r!==e[n]})}function sl(e,t){return typeof t=="function"?t(e):t}const id=Object.freeze(Object.defineProperty({__proto__:null,useCallback:Xh,useContext:Yh,useDebugValue:ed,useEffect:Zh,useErrorBoundary:td,useId:rd,useImperativeHandle:Kh,useLayoutEffect:nl,useMemo:go,useReducer:rl,useRef:Qh,useState:tl},Symbol.toStringTag,{value:"Module"})),Bs=tn(id);var Qr={},Fs={};Object.defineProperty(Fs,"__esModule",{value:!0});Fs.CloseIcon=void 0;const ya=nt;function od(e){return(0,ya.h)("svg",Object.assign({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),(0,ya.h)("path",{d:"M13.7677 13L12.3535 14.4142L18.3535 20.4142L12.3535 26.4142L13.7677 27.8284L19.7677 21.8284L25.7677 27.8284L27.1819 26.4142L21.1819 20.4142L27.1819 14.4142L25.7677 13L19.7677 19L13.7677 13Z"}))}Fs.CloseIcon=od;var Ds={};Object.defineProperty(Ds,"__esModule",{value:!0});Ds.CoinbaseWalletRound=void 0;const rs=nt;function ad(e){return(0,rs.h)("svg",Object.assign({width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),(0,rs.h)("circle",{cx:"14",cy:"14",r:"14",fill:"#0052FF"}),(0,rs.h)("path",{d:"M23.8521 14.0003C23.8521 19.455 19.455 23.8521 14.0003 23.8521C8.54559 23.8521 4.14844 19.455 4.14844 14.0003C4.14844 8.54559 8.54559 4.14844 14.0003 4.14844C19.455 4.14844 23.8521 8.54559 23.8521 14.0003Z",fill:"white"}),(0,rs.h)("path",{d:"M11.1855 12.5042C11.1855 12.0477 11.1855 11.7942 11.2835 11.642C11.3814 11.4899 11.4793 11.3377 11.6261 11.287C11.8219 11.1855 12.0178 11.1855 12.5073 11.1855H15.4934C15.983 11.1855 16.1788 11.1855 16.3746 11.287C16.5215 11.3884 16.6683 11.4899 16.7173 11.642C16.8152 11.8449 16.8152 12.0477 16.8152 12.5042V15.4965C16.8152 15.953 16.8152 16.2066 16.7173 16.3587C16.6194 16.5109 16.5215 16.663 16.3746 16.7137C16.1788 16.8152 15.983 16.8152 15.4934 16.8152H12.5073C12.0178 16.8152 11.8219 16.8152 11.6261 16.7137C11.4793 16.6123 11.3324 16.5109 11.2835 16.3587C11.1855 16.1558 11.1855 15.953 11.1855 15.4965V12.5042Z",fill:"#0052FF"}))}Ds.CoinbaseWalletRound=ad;var js={};Object.defineProperty(js,"__esModule",{value:!0});js.QRCodeIcon=void 0;const _n=nt;function cd(e){return(0,_n.h)("svg",Object.assign({width:"18",height:"18",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),(0,_n.h)("path",{d:"M3 3V8.99939L5 8.99996V5H9V3H3Z"}),(0,_n.h)("path",{d:"M15 21L21 21V15.0006L19 15V19L15 19V21Z"}),(0,_n.h)("path",{d:"M21 9H19V5H15.0006L15 3H21V9Z"}),(0,_n.h)("path",{d:"M3 15V21H8.99939L8.99996 19H5L5 15H3Z"}))}js.QRCodeIcon=cd;var Hs={};function il(e){this.mode=ot.MODE_8BIT_BYTE,this.data=e,this.parsedData=[];for(var t=0,r=this.data.length;t<r;t++){var n=[],s=this.data.charCodeAt(t);s>65536?(n[0]=240|(s&1835008)>>>18,n[1]=128|(s&258048)>>>12,n[2]=128|(s&4032)>>>6,n[3]=128|s&63):s>2048?(n[0]=224|(s&61440)>>>12,n[1]=128|(s&4032)>>>6,n[2]=128|s&63):s>128?(n[0]=192|(s&1984)>>>6,n[1]=128|s&63):n[0]=s,this.parsedData.push(n)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}il.prototype={getLength:function(e){return this.parsedData.length},write:function(e){for(var t=0,r=this.parsedData.length;t<r;t++)e.put(this.parsedData[t],8)}};function Mt(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}Mt.prototype={addData:function(e){var t=new il(e);this.dataList.push(t),this.dataCache=null},isDark:function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(e,t){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),this.dataCache==null&&(this.dataCache=Mt.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},setupPositionProbePattern:function(e,t){for(var r=-1;r<=7;r++)if(!(e+r<=-1||this.moduleCount<=e+r))for(var n=-1;n<=7;n++)t+n<=-1||this.moduleCount<=t+n||(0<=r&&r<=6&&(n==0||n==6)||0<=n&&n<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=n&&n<=4?this.modules[e+r][t+n]=!0:this.modules[e+r][t+n]=!1)},getBestMaskPattern:function(){for(var e=0,t=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=je.getLostPoint(this);(r==0||e>n)&&(e=n,t=r)}return t},createMovieClip:function(e,t,r){var n=e.createEmptyMovieClip(t,r),s=1;this.make();for(var i=0;i<this.modules.length;i++)for(var a=i*s,c=0;c<this.modules[i].length;c++){var d=c*s,u=this.modules[i][c];u&&(n.beginFill(0,100),n.moveTo(d,a),n.lineTo(d+s,a),n.lineTo(d+s,a+s),n.lineTo(d,a+s),n.endFill())}return n},setupTimingPattern:function(){for(var e=8;e<this.moduleCount-8;e++)this.modules[e][6]==null&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)this.modules[6][t]==null&&(this.modules[6][t]=t%2==0)},setupPositionAdjustPattern:function(){for(var e=je.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var r=0;r<e.length;r++){var n=e[t],s=e[r];if(this.modules[n][s]==null)for(var i=-2;i<=2;i++)for(var a=-2;a<=2;a++)i==-2||i==2||a==-2||a==2||i==0&&a==0?this.modules[n+i][s+a]=!0:this.modules[n+i][s+a]=!1}},setupTypeNumber:function(e){for(var t=je.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!e&&(t>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(var r=0;r<18;r++){var n=!e&&(t>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}},setupTypeInfo:function(e,t){for(var r=this.errorCorrectLevel<<3|t,n=je.getBCHTypeInfo(r),s=0;s<15;s++){var i=!e&&(n>>s&1)==1;s<6?this.modules[s][8]=i:s<8?this.modules[s+1][8]=i:this.modules[this.moduleCount-15+s][8]=i}for(var s=0;s<15;s++){var i=!e&&(n>>s&1)==1;s<8?this.modules[8][this.moduleCount-s-1]=i:s<9?this.modules[8][15-s-1+1]=i:this.modules[8][15-s-1]=i}this.modules[this.moduleCount-8][8]=!e},mapData:function(e,t){for(var r=-1,n=this.moduleCount-1,s=7,i=0,a=this.moduleCount-1;a>0;a-=2)for(a==6&&a--;;){for(var c=0;c<2;c++)if(this.modules[n][a-c]==null){var d=!1;i<e.length&&(d=(e[i]>>>s&1)==1);var u=je.getMask(t,n,a-c);u&&(d=!d),this.modules[n][a-c]=d,s--,s==-1&&(i++,s=7)}if(n+=r,n<0||this.moduleCount<=n){n-=r,r=-r;break}}}};Mt.PAD0=236;Mt.PAD1=17;Mt.createData=function(e,t,r){for(var n=Ct.getRSBlocks(e,t),s=new ol,i=0;i<r.length;i++){var a=r[i];s.put(a.mode,4),s.put(a.getLength(),je.getLengthInBits(a.mode,e)),a.write(s)}for(var c=0,i=0;i<n.length;i++)c+=n[i].dataCount;if(s.getLengthInBits()>c*8)throw new Error("code length overflow. ("+s.getLengthInBits()+">"+c*8+")");for(s.getLengthInBits()+4<=c*8&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(!1);for(;!(s.getLengthInBits()>=c*8||(s.put(Mt.PAD0,8),s.getLengthInBits()>=c*8));)s.put(Mt.PAD1,8);return Mt.createBytes(s,n)};Mt.createBytes=function(e,t){for(var r=0,n=0,s=0,i=new Array(t.length),a=new Array(t.length),c=0;c<t.length;c++){var d=t[c].dataCount,u=t[c].totalCount-d;n=Math.max(n,d),s=Math.max(s,u),i[c]=new Array(d);for(var p=0;p<i[c].length;p++)i[c][p]=255&e.buffer[p+r];r+=d;var f=je.getErrorCorrectPolynomial(u),m=new Ur(i[c],f.getLength()-1),E=m.mod(f);a[c]=new Array(f.getLength()-1);for(var p=0;p<a[c].length;p++){var M=p+E.getLength()-a[c].length;a[c][p]=M>=0?E.get(M):0}}for(var x=0,p=0;p<t.length;p++)x+=t[p].totalCount;for(var k=new Array(x),I=0,p=0;p<n;p++)for(var c=0;c<t.length;c++)p<i[c].length&&(k[I++]=i[c][p]);for(var p=0;p<s;p++)for(var c=0;c<t.length;c++)p<a[c].length&&(k[I++]=a[c][p]);return k};var ot={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},Ft={L:1,M:0,Q:3,H:2},Ot={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},je={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;je.getBCHDigit(t)-je.getBCHDigit(je.G15)>=0;)t^=je.G15<<je.getBCHDigit(t)-je.getBCHDigit(je.G15);return(e<<10|t)^je.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;je.getBCHDigit(t)-je.getBCHDigit(je.G18)>=0;)t^=je.G18<<je.getBCHDigit(t)-je.getBCHDigit(je.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;e!=0;)t++,e>>>=1;return t},getPatternPosition:function(e){return je.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,r){switch(e){case Ot.PATTERN000:return(t+r)%2==0;case Ot.PATTERN001:return t%2==0;case Ot.PATTERN010:return r%3==0;case Ot.PATTERN011:return(t+r)%3==0;case Ot.PATTERN100:return(Math.floor(t/2)+Math.floor(r/3))%2==0;case Ot.PATTERN101:return t*r%2+t*r%3==0;case Ot.PATTERN110:return(t*r%2+t*r%3)%2==0;case Ot.PATTERN111:return(t*r%3+(t+r)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new Ur([1],0),r=0;r<e;r++)t=t.multiply(new Ur([1,Ze.gexp(r)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case ot.MODE_NUMBER:return 10;case ot.MODE_ALPHA_NUM:return 9;case ot.MODE_8BIT_BYTE:return 8;case ot.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case ot.MODE_NUMBER:return 12;case ot.MODE_ALPHA_NUM:return 11;case ot.MODE_8BIT_BYTE:return 16;case ot.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else if(t<41)switch(e){case ot.MODE_NUMBER:return 14;case ot.MODE_ALPHA_NUM:return 13;case ot.MODE_8BIT_BYTE:return 16;case ot.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}else throw new Error("type:"+t)},getLostPoint:function(e){for(var t=e.getModuleCount(),r=0,n=0;n<t;n++)for(var s=0;s<t;s++){for(var i=0,a=e.isDark(n,s),c=-1;c<=1;c++)if(!(n+c<0||t<=n+c))for(var d=-1;d<=1;d++)s+d<0||t<=s+d||c==0&&d==0||a==e.isDark(n+c,s+d)&&i++;i>5&&(r+=3+i-5)}for(var n=0;n<t-1;n++)for(var s=0;s<t-1;s++){var u=0;e.isDark(n,s)&&u++,e.isDark(n+1,s)&&u++,e.isDark(n,s+1)&&u++,e.isDark(n+1,s+1)&&u++,(u==0||u==4)&&(r+=3)}for(var n=0;n<t;n++)for(var s=0;s<t-6;s++)e.isDark(n,s)&&!e.isDark(n,s+1)&&e.isDark(n,s+2)&&e.isDark(n,s+3)&&e.isDark(n,s+4)&&!e.isDark(n,s+5)&&e.isDark(n,s+6)&&(r+=40);for(var s=0;s<t;s++)for(var n=0;n<t-6;n++)e.isDark(n,s)&&!e.isDark(n+1,s)&&e.isDark(n+2,s)&&e.isDark(n+3,s)&&e.isDark(n+4,s)&&!e.isDark(n+5,s)&&e.isDark(n+6,s)&&(r+=40);for(var p=0,s=0;s<t;s++)for(var n=0;n<t;n++)e.isDark(n,s)&&p++;var f=Math.abs(100*p/t/t-50)/5;return r+=f*10,r}},Ze={glog:function(e){if(e<1)throw new Error("glog("+e+")");return Ze.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return Ze.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var Ke=0;Ke<8;Ke++)Ze.EXP_TABLE[Ke]=1<<Ke;for(var Ke=8;Ke<256;Ke++)Ze.EXP_TABLE[Ke]=Ze.EXP_TABLE[Ke-4]^Ze.EXP_TABLE[Ke-5]^Ze.EXP_TABLE[Ke-6]^Ze.EXP_TABLE[Ke-8];for(var Ke=0;Ke<255;Ke++)Ze.LOG_TABLE[Ze.EXP_TABLE[Ke]]=Ke;function Ur(e,t){if(e.length==null)throw new Error(e.length+"/"+t);for(var r=0;r<e.length&&e[r]==0;)r++;this.num=new Array(e.length-r+t);for(var n=0;n<e.length-r;n++)this.num[n]=e[n+r]}Ur.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<e.getLength();n++)t[r+n]^=Ze.gexp(Ze.glog(this.get(r))+Ze.glog(e.get(n)));return new Ur(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=Ze.glog(this.get(0))-Ze.glog(e.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(var n=0;n<e.getLength();n++)r[n]^=Ze.gexp(Ze.glog(e.get(n))+t);return new Ur(r,0).mod(e)}};function Ct(e,t){this.totalCount=e,this.dataCount=t}Ct.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];Ct.getRSBlocks=function(e,t){var r=Ct.getRsBlockTable(e,t);if(r==null)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var n=r.length/3,s=[],i=0;i<n;i++)for(var a=r[i*3+0],c=r[i*3+1],d=r[i*3+2],u=0;u<a;u++)s.push(new Ct(c,d));return s};Ct.getRsBlockTable=function(e,t){switch(t){case Ft.L:return Ct.RS_BLOCK_TABLE[(e-1)*4+0];case Ft.M:return Ct.RS_BLOCK_TABLE[(e-1)*4+1];case Ft.Q:return Ct.RS_BLOCK_TABLE[(e-1)*4+2];case Ft.H:return Ct.RS_BLOCK_TABLE[(e-1)*4+3];default:return}};function ol(){this.buffer=[],this.length=0}ol.prototype={get:function(e){var t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)==1},put:function(e,t){for(var r=0;r<t;r++)this.putBit((e>>>t-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var Ei=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function al(e){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M",image:{svg:"",width:0,height:0}},typeof e=="string"&&(e={content:e}),e)for(var t in e)this.options[t]=e[t];if(typeof this.options.content!="string")throw new Error("Expected 'content' as string!");if(this.options.content.length===0)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0)||!(this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");function r(d){switch(d){case"L":return Ft.L;case"M":return Ft.M;case"Q":return Ft.Q;case"H":return Ft.H;default:throw new Error("Unknwon error correction level: "+d)}}function n(d,u){for(var p=s(d),f=1,m=0,E=0,M=Ei.length;E<=M;E++){var x=Ei[E];if(!x)throw new Error("Content too long: expected "+m+" but got "+p);switch(u){case"L":m=x[0];break;case"M":m=x[1];break;case"Q":m=x[2];break;case"H":m=x[3];break;default:throw new Error("Unknwon error correction level: "+u)}if(p<=m)break;f++}if(f>Ei.length)throw new Error("Content too long");return f}function s(d){var u=encodeURI(d).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return u.length+(u.length!=d?3:0)}var i=this.options.content,a=n(i,this.options.ecl),c=r(this.options.ecl);this.qrcode=new Mt(a,c),this.qrcode.addData(i),this.qrcode.make()}al.prototype.svg=function(e){var t=this.options||{},r=this.qrcode.modules;typeof e>"u"&&(e={container:t.container||"svg"});for(var n=typeof t.pretty<"u"?!!t.pretty:!0,s=n?"  ":"",i=n?`\r
`:"",a=t.width,c=t.height,d=r.length,u=a/(d+2*t.padding),p=c/(d+2*t.padding),f=typeof t.join<"u"?!!t.join:!1,m=typeof t.swap<"u"?!!t.swap:!1,E=typeof t.xmlDeclaration<"u"?!!t.xmlDeclaration:!0,M=typeof t.predefined<"u"?!!t.predefined:!1,x=M?s+'<defs><path id="qrmodule" d="M0 0 h'+p+" v"+u+' H0 z" style="fill:'+t.color+';shape-rendering:crispEdges;" /></defs>'+i:"",k=s+'<rect x="0" y="0" width="'+a+'" height="'+c+'" style="fill:'+t.background+';shape-rendering:crispEdges;"/>'+i,I="",R="",A=0;A<d;A++)for(var D=0;D<d;D++){var N=r[D][A];if(N){var P=D*u+t.padding*u,W=A*p+t.padding*p;if(m){var ee=P;P=W,W=ee}if(f){var G=u+P,Q=p+W;P=Number.isInteger(P)?Number(P):P.toFixed(2),W=Number.isInteger(W)?Number(W):W.toFixed(2),G=Number.isInteger(G)?Number(G):G.toFixed(2),Q=Number.isInteger(Q)?Number(Q):Q.toFixed(2),R+="M"+P+","+W+" V"+Q+" H"+G+" V"+W+" H"+P+" Z "}else M?I+=s+'<use x="'+P.toString()+'" y="'+W.toString()+'" href="#qrmodule" />'+i:I+=s+'<rect x="'+P.toString()+'" y="'+W.toString()+'" width="'+u+'" height="'+p+'" style="fill:'+t.color+';shape-rendering:crispEdges;"/>'+i}}f&&(I=s+'<path x="0" y="0" style="fill:'+t.color+';shape-rendering:crispEdges;" d="'+R+'" />');let V="";if(this.options.image!==void 0&&this.options.image.svg){const y=a*this.options.image.width/100,o=c*this.options.image.height/100,h=a/2-y/2,g=c/2-o/2;V+=`<svg x="${h}" y="${g}" width="${y}" height="${o}" viewBox="0 0 100 100" preserveAspectRatio="xMinYMin meet">`,V+=this.options.image.svg+i,V+="</svg>"}var K="";switch(e.container){case"svg":E&&(K+='<?xml version="1.0" standalone="yes"?>'+i),K+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+a+'" height="'+c+'">'+i,K+=x+k+I,K+=V,K+="</svg>";break;case"svg-viewbox":E&&(K+='<?xml version="1.0" standalone="yes"?>'+i),K+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+a+" "+c+'">'+i,K+=x+k+I,K+=V,K+="</svg>";break;case"g":K+='<g width="'+a+'" height="'+c+'">'+i,K+=x+k+I,K+=V,K+="</g>";break;default:K+=(x+k+I+V).replace(/^\s+/,"");break}return K};var ld=al,ud=$&&$.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Hs,"__esModule",{value:!0});Hs.QRCode=void 0;const hd=nt,wa=Bs,dd=ud(ld),fd=e=>{const[t,r]=(0,wa.useState)("");return(0,wa.useEffect)(()=>{var n,s;const i=new dd.default({content:e.content,background:e.bgColor||"#ffffff",color:e.fgColor||"#000000",container:"svg",ecl:"M",width:(n=e.width)!==null&&n!==void 0?n:256,height:(s=e.height)!==null&&s!==void 0?s:256,padding:0,image:e.image}),a=H.from(i.svg(),"utf8").toString("base64");r(`data:image/svg+xml;base64,${a}`)},[e.bgColor,e.content,e.fgColor,e.height,e.image,e.width]),t?(0,hd.h)("img",{src:t,alt:"QR Code"}):null};Hs.QRCode=fd;var Us={},_o={};Object.defineProperty(_o,"__esModule",{value:!0});_o.default=".-cbwsdk-css-reset .-cbwsdk-spinner{display:inline-block}.-cbwsdk-css-reset .-cbwsdk-spinner svg{display:inline-block;animation:2s linear infinite -cbwsdk-spinner-svg}.-cbwsdk-css-reset .-cbwsdk-spinner svg circle{animation:1.9s ease-in-out infinite both -cbwsdk-spinner-circle;display:block;fill:rgba(0,0,0,0);stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -cbwsdk-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -cbwsdk-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}";var pd=$&&$.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Us,"__esModule",{value:!0});Us.Spinner=void 0;const ns=nt,gd=pd(_o),md=e=>{var t;const r=(t=e.size)!==null&&t!==void 0?t:64,n=e.color||"#000";return(0,ns.h)("div",{class:"-cbwsdk-spinner"},(0,ns.h)("style",null,gd.default),(0,ns.h)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:r,height:r}},(0,ns.h)("circle",{style:{cx:50,cy:50,r:45,stroke:n}})))};Us.Spinner=md;var vo={};Object.defineProperty(vo,"__esModule",{value:!0});vo.default=".-cbwsdk-css-reset .-cbwsdk-connect-content{height:430px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-connect-content.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-header{display:flex;align-items:center;justify-content:space-between;margin:0 0 30px}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading{font-style:normal;font-weight:500;font-size:28px;line-height:36px;margin:0}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-layout{display:flex;flex-direction:row}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-left{margin-right:30px;display:flex;flex-direction:column;justify-content:space-between}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-right{flex:25%;margin-right:34px}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-wrapper{width:220px;height:220px;border-radius:12px;display:flex;justify-content:center;align-items:center;background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light{background-color:rgba(255,255,255,.95)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light>p{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark{background-color:rgba(10,11,13,.9)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark>p{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting>p{font-size:12px;font-weight:bold;margin-top:16px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app{border-radius:8px;font-size:14px;line-height:20px;padding:12px;width:339px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.light{background:#eef0f3;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.dark{background:#1e2025;color:#8a919e}.-cbwsdk-css-reset .-cbwsdk-cancel-button{-webkit-appearance:none;border:none;background:none;cursor:pointer;padding:0;margin:0}.-cbwsdk-css-reset .-cbwsdk-cancel-button-x{position:relative;display:block;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-wallet-steps{padding:0 0 0 16px;margin:0;width:100%;list-style:decimal}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item{list-style-type:decimal;display:list-item;font-style:normal;font-weight:400;font-size:16px;line-height:24px;margin-top:20px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item-wrapper{display:flex;align-items:center}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-pad-left{margin-left:6px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon{display:flex;border-radius:50%;height:24px;width:24px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.light{background:#0052ff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.dark{background:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item{align-items:center;display:flex;flex-direction:row;padding:16px 24px;gap:12px;cursor:pointer;border-radius:100px;font-weight:600}.-cbwsdk-css-reset .-cbwsdk-connect-item.light{background:#f5f8ff;color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark{background:#001033;color:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item-copy-wrapper{margin:0 4px 0 8px}.-cbwsdk-css-reset .-cbwsdk-connect-item-title{margin:0 0 0;font-size:16px;line-height:24px;font-weight:500}.-cbwsdk-css-reset .-cbwsdk-connect-item-description{font-weight:400;font-size:14px;line-height:20px;margin:0}";var cl=$&&$.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qr,"__esModule",{value:!0});Qr.CoinbaseWalletSteps=Qr.ConnectContent=void 0;const dr=cl(jn),q=nt,_d=T,vd=nn,yd=Fs,wd=Ds,bd=js,Ed=Hs,Sd=Us,Cd=cl(vo),Si={title:"Coinbase Wallet app",description:"Connect with your self-custody wallet",steps:ll},Md=e=>e==="light"?"#FFFFFF":"#0A0B0D";function kd(e){const{theme:t}=e,r=(0,_d.createQrUrl)(e.sessionId,e.sessionSecret,e.linkAPIUrl,e.isParentConnection,e.version,e.chainId),n=Si.steps;return(0,q.h)("div",{"data-testid":"connect-content",className:(0,dr.default)("-cbwsdk-connect-content",t)},(0,q.h)("style",null,Cd.default),(0,q.h)("div",{className:"-cbwsdk-connect-content-header"},(0,q.h)("h2",{className:(0,dr.default)("-cbwsdk-connect-content-heading",t)},"Scan to connect with our mobile app"),e.onCancel&&(0,q.h)("button",{type:"button",className:"-cbwsdk-cancel-button",onClick:e.onCancel},(0,q.h)(yd.CloseIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,q.h)("div",{className:"-cbwsdk-connect-content-layout"},(0,q.h)("div",{className:"-cbwsdk-connect-content-column-left"},(0,q.h)(Rd,{title:Si.title,description:Si.description,theme:t})),(0,q.h)("div",{className:"-cbwsdk-connect-content-column-right"},(0,q.h)("div",{className:"-cbwsdk-connect-content-qr-wrapper"},(0,q.h)(Ed.QRCode,{content:r,width:200,height:200,fgColor:"#000",bgColor:"transparent"}),(0,q.h)("input",{type:"hidden",name:"cbw-cbwsdk-version",value:vd.LIB_VERSION}),(0,q.h)("input",{type:"hidden",value:r})),(0,q.h)(n,{theme:t}),!e.isConnected&&(0,q.h)("div",{"data-testid":"connecting-spinner",className:(0,dr.default)("-cbwsdk-connect-content-qr-connecting",t)},(0,q.h)(Sd.Spinner,{size:36,color:t==="dark"?"#FFF":"#000"}),(0,q.h)("p",null,"Connecting...")))))}Qr.ConnectContent=kd;function Rd({title:e,description:t,theme:r}){return(0,q.h)("div",{className:(0,dr.default)("-cbwsdk-connect-item",r)},(0,q.h)("div",null,(0,q.h)(wd.CoinbaseWalletRound,null)),(0,q.h)("div",{className:"-cbwsdk-connect-item-copy-wrapper"},(0,q.h)("h3",{className:"-cbwsdk-connect-item-title"},e),(0,q.h)("p",{className:"-cbwsdk-connect-item-description"},t)))}function ll({theme:e}){return(0,q.h)("ol",{className:"-cbwsdk-wallet-steps"},(0,q.h)("li",{className:(0,dr.default)("-cbwsdk-wallet-steps-item",e)},(0,q.h)("div",{className:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase Wallet app")),(0,q.h)("li",{className:(0,dr.default)("-cbwsdk-wallet-steps-item",e)},(0,q.h)("div",{className:"-cbwsdk-wallet-steps-item-wrapper"},(0,q.h)("span",null,"Tap ",(0,q.h)("strong",null,"Scan")," "),(0,q.h)("span",{className:(0,dr.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",e)},(0,q.h)(bd.QRCodeIcon,{fill:Md(e)})))))}Qr.CoinbaseWalletSteps=ll;var Vs={},Ws={};Object.defineProperty(Ws,"__esModule",{value:!0});Ws.ArrowLeftIcon=void 0;const ba=nt;function Id(e){return(0,ba.h)("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},e),(0,ba.h)("path",{d:"M8.60675 0.155884L7.37816 1.28209L12.7723 7.16662H0V8.83328H12.6548L6.82149 14.6666L8 15.8451L15.8201 8.02501L8.60675 0.155884Z"}))}Ws.ArrowLeftIcon=Id;var zs={};Object.defineProperty(zs,"__esModule",{value:!0});zs.LaptopIcon=void 0;const Ci=nt;function Ad(e){return(0,Ci.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},e),(0,Ci.h)("path",{d:"M1.8001 2.2002H12.2001V9.40019H1.8001V2.2002ZM3.4001 3.8002V7.80019H10.6001V3.8002H3.4001Z"}),(0,Ci.h)("path",{d:"M13.4001 10.2002H0.600098C0.600098 11.0838 1.31644 11.8002 2.2001 11.8002H11.8001C12.6838 11.8002 13.4001 11.0838 13.4001 10.2002Z"}))}zs.LaptopIcon=Ad;var qs={};Object.defineProperty(qs,"__esModule",{value:!0});qs.SafeIcon=void 0;const Ea=nt;function xd(e){return(0,Ea.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},e),(0,Ea.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.600098 0.600098V11.8001H13.4001V0.600098H0.600098ZM7.0001 9.2001C5.3441 9.2001 4.0001 7.8561 4.0001 6.2001C4.0001 4.5441 5.3441 3.2001 7.0001 3.2001C8.6561 3.2001 10.0001 4.5441 10.0001 6.2001C10.0001 7.8561 8.6561 9.2001 7.0001 9.2001ZM0.600098 12.6001H3.8001V13.4001H0.600098V12.6001ZM10.2001 12.6001H13.4001V13.4001H10.2001V12.6001ZM8.8001 6.2001C8.8001 7.19421 7.99421 8.0001 7.0001 8.0001C6.00598 8.0001 5.2001 7.19421 5.2001 6.2001C5.2001 5.20598 6.00598 4.4001 7.0001 4.4001C7.99421 4.4001 8.8001 5.20598 8.8001 6.2001Z"}))}qs.SafeIcon=xd;var yo={};Object.defineProperty(yo,"__esModule",{value:!0});yo.default=".-cbwsdk-css-reset .-cbwsdk-try-extension{display:flex;margin-top:12px;height:202px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-try-extension.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-column-half{flex:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading{font-style:normal;font-weight:500;font-size:25px;line-height:32px;margin:0;max-width:204px}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta{appearance:none;border:none;background:none;color:#0052ff;cursor:pointer;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.light{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.dark{color:#588af5}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-wrapper{display:flex;align-items:center;margin-top:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-icon{display:block;margin-left:4px;height:14px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:0;padding:0;list-style:none;height:100%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item{display:flex;align-items:center;flex-flow:nowrap;margin-top:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item:first-of-type{margin-top:0}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon-wrapper{display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon{display:flex;height:32px;width:32px;border-radius:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.light{background:#eef0f3}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.dark{background:#1e2025}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy{display:block;font-weight:400;font-size:14px;line-height:20px;padding-left:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.light{color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.dark{color:#8a919e}";var ul=$&&$.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Vs,"__esModule",{value:!0});Vs.TryExtensionContent=void 0;const tr=ul(jn),We=nt,Mi=Bs,Nd=Ws,Ld=zs,Td=qs,Pd=ul(yo);function Od({theme:e}){const[t,r]=(0,Mi.useState)(!1),n=(0,Mi.useCallback)(()=>{window.open("https://api.wallet.coinbase.com/rpc/v2/desktop/chrome","_blank")},[]),s=(0,Mi.useCallback)(()=>{t?window.location.reload():(n(),r(!0))},[n,t]);return(0,We.h)("div",{class:(0,tr.default)("-cbwsdk-try-extension",e)},(0,We.h)("style",null,Pd.default),(0,We.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,We.h)("h3",{class:(0,tr.default)("-cbwsdk-try-extension-heading",e)},"Or try the Coinbase Wallet browser extension"),(0,We.h)("div",{class:"-cbwsdk-try-extension-cta-wrapper"},(0,We.h)("button",{class:(0,tr.default)("-cbwsdk-try-extension-cta",e),onClick:s},t?"Refresh":"Install"),(0,We.h)("div",null,!t&&(0,We.h)(Nd.ArrowLeftIcon,{class:"-cbwsdk-try-extension-cta-icon",fill:e==="light"?"#0052FF":"#588AF5"})))),(0,We.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,We.h)("ul",{class:"-cbwsdk-try-extension-list"},(0,We.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,We.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,We.h)("span",{class:(0,tr.default)("-cbwsdk-try-extension-list-item-icon",e)},(0,We.h)(Ld.LaptopIcon,{fill:e==="light"?"#0A0B0D":"#FFFFFF"}))),(0,We.h)("div",{class:(0,tr.default)("-cbwsdk-try-extension-list-item-copy",e)},"Connect with dapps with just one click on your desktop browser")),(0,We.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,We.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,We.h)("span",{class:(0,tr.default)("-cbwsdk-try-extension-list-item-icon",e)},(0,We.h)(Td.SafeIcon,{fill:e==="light"?"#0A0B0D":"#FFFFFF"}))),(0,We.h)("div",{class:(0,tr.default)("-cbwsdk-try-extension-list-item-copy",e)},"Add an additional layer of security by using a supported Ledger hardware wallet")))))}Vs.TryExtensionContent=Od;var wo={};Object.defineProperty(wo,"__esModule",{value:!0});wo.default=".-cbwsdk-css-reset .-cbwsdk-connect-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.light{background-color:rgba(0,0,0,.5)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.dark{background-color:rgba(50,53,61,.4)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box{display:flex;position:relative;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container{display:block}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container-hidden{display:none}";var hl=$&&$.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($s,"__esModule",{value:!0});$s.ConnectDialog=void 0;const ki=hl(jn),rr=nt,Ri=Bs,$d=Qr,Bd=Vs,Fd=hl(wo),Dd=e=>{const{isOpen:t,darkMode:r}=e,[n,s]=(0,Ri.useState)(!t),[i,a]=(0,Ri.useState)(!t);(0,Ri.useEffect)(()=>{const d=[window.setTimeout(()=>{a(!t)},10)];return t?s(!1):d.push(window.setTimeout(()=>{s(!0)},360)),()=>{d.forEach(window.clearTimeout)}},[t]);const c=r?"dark":"light";return(0,rr.h)("div",{class:(0,ki.default)("-cbwsdk-connect-dialog-container",n&&"-cbwsdk-connect-dialog-container-hidden")},(0,rr.h)("style",null,Fd.default),(0,rr.h)("div",{class:(0,ki.default)("-cbwsdk-connect-dialog-backdrop",c,i&&"-cbwsdk-connect-dialog-backdrop-hidden")}),(0,rr.h)("div",{class:"-cbwsdk-connect-dialog"},(0,rr.h)("div",{class:(0,ki.default)("-cbwsdk-connect-dialog-box",i&&"-cbwsdk-connect-dialog-box-hidden")},e.connectDisabled?null:(0,rr.h)($d.ConnectContent,{theme:c,version:e.version,sessionId:e.sessionId,sessionSecret:e.sessionSecret,linkAPIUrl:e.linkAPIUrl,isConnected:e.isConnected,isParentConnection:e.isParentConnection,chainId:e.chainId,onCancel:e.onCancel}),(0,rr.h)(Bd.TryExtensionContent,{theme:c}))))};$s.ConnectDialog=Dd;Object.defineProperty(Ps,"__esModule",{value:!0});Ps.LinkFlow=void 0;const Ii=nt,jd=$s;class Hd{constructor(t){this.connected=!1,this.chainId=1,this.isOpen=!1,this.onCancel=null,this.root=null,this.connectDisabled=!1,this.darkMode=t.darkMode,this.version=t.version,this.sessionId=t.sessionId,this.sessionSecret=t.sessionSecret,this.linkAPIUrl=t.linkAPIUrl,this.isParentConnection=t.isParentConnection}attach(t){this.root=document.createElement("div"),this.root.className="-cbwsdk-link-flow-root",t.appendChild(this.root),this.render()}setConnected(t){this.connected!==t&&(this.connected=t,this.render())}setChainId(t){this.chainId!==t&&(this.chainId=t,this.render())}detach(){var t;this.root&&((0,Ii.render)(null,this.root),(t=this.root.parentElement)===null||t===void 0||t.removeChild(this.root))}setConnectDisabled(t){this.connectDisabled=t}open(t){this.isOpen=!0,this.onCancel=t.onCancel,this.render()}close(){this.isOpen=!1,this.onCancel=null,this.render()}render(){this.root&&(0,Ii.render)((0,Ii.h)(jd.ConnectDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,linkAPIUrl:this.linkAPIUrl,isOpen:this.isOpen,isConnected:this.connected,isParentConnection:this.isParentConnection,chainId:this.chainId,onCancel:this.onCancel,connectDisabled:this.connectDisabled}),this.root)}}Ps.LinkFlow=Hd;var bo={},Eo={};Object.defineProperty(Eo,"__esModule",{value:!0});Eo.default=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}";(function(e){var t=$&&$.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(e,"__esModule",{value:!0}),e.SnackbarInstance=e.SnackbarContainer=e.Snackbar=void 0;const r=t(jn),n=nt,s=Bs,i=t(Eo),a="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",c="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";class d{constructor(m){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=m.darkMode}attach(m){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",m.appendChild(this.root),this.render()}presentItem(m){const E=this.nextItemKey++;return this.items.set(E,m),this.render(),()=>{this.items.delete(E),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&(0,n.render)((0,n.h)("div",null,(0,n.h)(e.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([m,E])=>(0,n.h)(e.SnackbarInstance,Object.assign({},E,{key:m}))))),this.root)}}e.Snackbar=d;const u=f=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-container")},(0,n.h)("style",null,i.default),(0,n.h)("div",{class:"-cbwsdk-snackbar"},f.children));e.SnackbarContainer=u;const p=({autoExpand:f,message:m,menuItems:E})=>{const[M,x]=(0,s.useState)(!0),[k,I]=(0,s.useState)(f??!1);(0,s.useEffect)(()=>{const A=[window.setTimeout(()=>{x(!1)},1),window.setTimeout(()=>{I(!0)},1e4)];return()=>{A.forEach(window.clearTimeout)}});const R=()=>{I(!k)};return(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance",M&&"-cbwsdk-snackbar-instance-hidden",k&&"-cbwsdk-snackbar-instance-expanded")},(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:R},(0,n.h)("img",{src:a,class:"-cbwsdk-snackbar-instance-header-cblogo"})," ",(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},m),(0,n.h)("div",{class:"-gear-container"},!k&&(0,n.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,n.h)("img",{src:c,class:"-gear-icon",title:"Expand"}))),E&&E.length>0&&(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},E.map((A,D)=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item",A.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:A.onClick,key:D},(0,n.h)("svg",{width:A.svgWidth,height:A.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("path",{"fill-rule":A.defaultFillRule,"clip-rule":A.defaultClipRule,d:A.path,fill:"#AAAAAA"})),(0,n.h)("span",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item-info",A.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},A.info)))))};e.SnackbarInstance=p})(bo);Object.defineProperty($n,"__esModule",{value:!0});$n.WalletLinkRelayUI=void 0;const Ud=Bn,Vd=Ps,Wd=bo;class zd{constructor(t){this.standalone=null,this.attached=!1,this.snackbar=new Wd.Snackbar({darkMode:t.darkMode}),this.linkFlow=new Vd.LinkFlow({darkMode:t.darkMode,version:t.version,sessionId:t.session.id,sessionSecret:t.session.secret,linkAPIUrl:t.linkAPIUrl,isParentConnection:!1})}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const t=document.documentElement,r=document.createElement("div");r.className="-cbwsdk-css-reset",t.appendChild(r),this.linkFlow.attach(r),this.snackbar.attach(r),this.attached=!0,(0,Ud.injectCssReset)()}setConnected(t){this.linkFlow.setConnected(t)}setChainId(t){this.linkFlow.setChainId(t)}setConnectDisabled(t){this.linkFlow.setConnectDisabled(t)}addEthereumChain(){}watchAsset(){}switchEthereumChain(){}requestEthereumAccounts(t){this.linkFlow.open({onCancel:t.onCancel})}hideRequestEthereumAccounts(){this.linkFlow.close()}signEthereumMessage(){}signEthereumTransaction(){}submitEthereumTransaction(){}ethereumAddressFromSignedMessage(){}showConnecting(t){let r;return t.isUnlinkedErrorState?r={autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:t.onResetConnection}]}:r={message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:t.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:t.onResetConnection}]},this.snackbar.presentItem(r)}reloadUI(){document.location.reload()}inlineAccountsResponse(){return!1}inlineAddEthereumChain(){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}setStandalone(t){this.standalone=t}isStandalone(){var t;return(t=this.standalone)!==null&&t!==void 0?t:!1}}$n.WalletLinkRelayUI=zd;Object.defineProperty(On,"__esModule",{value:!0});On.WalletLinkRelay=void 0;const $r=xn,qd=qe,De=T,nr=sn,Sa=ht,$t=on,Jd=Ns,sr=rn,Gd=$n;class xt extends Sa.RelayAbstract{constructor(t){var r;super(),this.accountsCallback=null,this.chainCallbackParams={chainId:"",jsonRpcUrl:""},this.chainCallback=null,this.dappDefaultChain=1,this.appName="",this.appLogoUrl=null,this.linkedUpdated=a=>{var c;this.isLinked=a;const d=this.storage.getItem(Sa.LOCAL_STORAGE_ADDRESSES_KEY);if(a&&(this.session.linked=a),this.isUnlinkedErrorState=!1,d){const u=d.split(" "),p=this.storage.getItem("IsStandaloneSigning")==="true";if(u[0]!==""&&!a&&this.session.linked&&!p){this.isUnlinkedErrorState=!0;const f=this.getSessionIdHash();(c=this.diagnostic)===null||c===void 0||c.log(nr.EVENTS.UNLINKED_ERROR_STATE,{sessionIdHash:f})}}},this.metadataUpdated=(a,c)=>{this.storage.setItem(a,c)},this.chainUpdated=(a,c)=>{this.chainCallbackParams.chainId===a&&this.chainCallbackParams.jsonRpcUrl===c||(this.chainCallbackParams={chainId:a,jsonRpcUrl:c},this.chainCallback&&this.chainCallback(a,c))},this.accountUpdated=a=>{this.accountsCallback&&this.accountsCallback([a]),xt.accountRequestCallbackIds.size>0&&(Array.from(xt.accountRequestCallbackIds.values()).forEach(c=>{const d={type:"WEB3_RESPONSE",id:c,response:{method:"requestEthereumAccounts",result:[a]}};this.invokeCallback(Object.assign(Object.assign({},d),{id:c}))}),xt.accountRequestCallbackIds.clear())},this.connectedUpdated=a=>{this.ui.setConnected(a)},this.resetAndReload=this.resetAndReload.bind(this),this.linkAPIUrl=t.linkAPIUrl,this.storage=t.storage,this.options=t;const{session:n,ui:s,connection:i}=this.subscribe();this._session=n,this.connection=i,this.relayEventManager=t.relayEventManager,this.diagnostic=t.diagnosticLogger,this._reloadOnDisconnect=(r=t.reloadOnDisconnect)!==null&&r!==void 0?r:!0,this.ui=s}subscribe(){const t=$t.Session.load(this.storage)||new $t.Session(this.storage).save(),{linkAPIUrl:r,diagnostic:n}=this,s=new Jd.WalletLinkConnection({session:t,linkAPIUrl:r,diagnostic:n,listener:this}),{version:i,darkMode:a}=this.options,c=this.options.uiConstructor({linkAPIUrl:r,version:i,darkMode:a,session:t});return s.connect(),{session:t,ui:c,connection:s}}attachUI(){this.ui.attach()}resetAndReload(){Promise.race([this.connection.setSessionMetadata("__destroyed","1"),new Promise(t=>setTimeout(()=>t(null),1e3))]).then(()=>{var t,r;const n=this.ui.isStandalone();(t=this.diagnostic)===null||t===void 0||t.log(nr.EVENTS.SESSION_STATE_CHANGE,{method:"relay::resetAndReload",sessionMetadataChange:"__destroyed, 1",sessionIdHash:this.getSessionIdHash()}),this.connection.destroy();const s=$t.Session.load(this.storage);if((s==null?void 0:s.id)===this._session.id?this.storage.clear():s&&((r=this.diagnostic)===null||r===void 0||r.log(nr.EVENTS.SKIPPED_CLEARING_SESSION,{sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:$t.Session.hash(s.id)})),this._reloadOnDisconnect){this.ui.reloadUI();return}this.accountsCallback&&this.accountsCallback([],!0);const{session:i,ui:a,connection:c}=this.subscribe();this._session=i,this.connection=c,this.ui=a,n&&this.ui.setStandalone&&this.ui.setStandalone(!0),this.attachUI()}).catch(t=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(nr.EVENTS.FAILURE,{method:"relay::resetAndReload",message:`failed to reset and reload with ${t}`,sessionIdHash:this.getSessionIdHash()})})}setAppInfo(t,r){this.appName=t,this.appLogoUrl=r}getStorageItem(t){return this.storage.getItem(t)}get session(){return this._session}setStorageItem(t,r){this.storage.setItem(t,r)}signEthereumMessage(t,r,n,s){return this.sendRequest({method:"signEthereumMessage",params:{message:(0,De.hexStringFromBuffer)(t,!0),address:r,addPrefix:n,typedDataJson:s||null}})}ethereumAddressFromSignedMessage(t,r,n){return this.sendRequest({method:"ethereumAddressFromSignedMessage",params:{message:(0,De.hexStringFromBuffer)(t,!0),signature:(0,De.hexStringFromBuffer)(r,!0),addPrefix:n}})}signEthereumTransaction(t){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:t.fromAddress,toAddress:t.toAddress,weiValue:(0,De.bigIntStringFromBN)(t.weiValue),data:(0,De.hexStringFromBuffer)(t.data,!0),nonce:t.nonce,gasPriceInWei:t.gasPriceInWei?(0,De.bigIntStringFromBN)(t.gasPriceInWei):null,maxFeePerGas:t.gasPriceInWei?(0,De.bigIntStringFromBN)(t.gasPriceInWei):null,maxPriorityFeePerGas:t.gasPriceInWei?(0,De.bigIntStringFromBN)(t.gasPriceInWei):null,gasLimit:t.gasLimit?(0,De.bigIntStringFromBN)(t.gasLimit):null,chainId:t.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(t){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:t.fromAddress,toAddress:t.toAddress,weiValue:(0,De.bigIntStringFromBN)(t.weiValue),data:(0,De.hexStringFromBuffer)(t.data,!0),nonce:t.nonce,gasPriceInWei:t.gasPriceInWei?(0,De.bigIntStringFromBN)(t.gasPriceInWei):null,maxFeePerGas:t.maxFeePerGas?(0,De.bigIntStringFromBN)(t.maxFeePerGas):null,maxPriorityFeePerGas:t.maxPriorityFeePerGas?(0,De.bigIntStringFromBN)(t.maxPriorityFeePerGas):null,gasLimit:t.gasLimit?(0,De.bigIntStringFromBN)(t.gasLimit):null,chainId:t.chainId,shouldSubmit:!0}})}submitEthereumTransaction(t,r){return this.sendRequest({method:"submitEthereumTransaction",params:{signedTransaction:(0,De.hexStringFromBuffer)(t,!0),chainId:r}})}scanQRCode(t){return this.sendRequest({method:"scanQRCode",params:{regExp:t}})}getQRCodeUrl(){return(0,De.createQrUrl)(this._session.id,this._session.secret,this.linkAPIUrl,!1,this.options.version,this.dappDefaultChain)}genericRequest(t,r){return this.sendRequest({method:"generic",params:{action:r,data:t}})}sendGenericMessage(t){return this.sendRequest(t)}sendRequest(t){let r=null;const n=(0,De.randomBytesHex)(8),s=a=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,t.method,a),r==null||r()};return{promise:new Promise((a,c)=>{this.ui.isStandalone()||(r=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:s,onResetConnection:this.resetAndReload})),this.relayEventManager.callbacks.set(n,d=>{if(r==null||r(),(0,sr.isErrorResponse)(d))return c(new Error(d.errorMessage));a(d)}),this.ui.isStandalone()?this.sendRequestStandalone(n,t):this.publishWeb3RequestEvent(n,t)}),cancel:s}}setConnectDisabled(t){this.ui.setConnectDisabled(t)}setAccountsCallback(t){this.accountsCallback=t}setChainCallback(t){this.chainCallback=t}setDappDefaultChainCallback(t){this.dappDefaultChain=t,this.ui instanceof Gd.WalletLinkRelayUI&&this.ui.setChainId(t)}publishWeb3RequestEvent(t,r){var n;const s={type:"WEB3_REQUEST",id:t,request:r},i=$t.Session.load(this.storage);(n=this.diagnostic)===null||n===void 0||n.log(nr.EVENTS.WEB3_REQUEST,{eventId:s.id,method:`relay::${r.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:i?$t.Session.hash(i.id):"",isSessionMismatched:((i==null?void 0:i.id)!==this._session.id).toString()}),this.publishEvent("Web3Request",s,!0).then(a=>{var c;(c=this.diagnostic)===null||c===void 0||c.log(nr.EVENTS.WEB3_REQUEST_PUBLISHED,{eventId:s.id,method:`relay::${r.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:i?$t.Session.hash(i.id):"",isSessionMismatched:((i==null?void 0:i.id)!==this._session.id).toString()})}).catch(a=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:s.id,response:{method:r.method,errorMessage:a.message}})})}publishWeb3RequestCanceledEvent(t){const r={type:"WEB3_REQUEST_CANCELED",id:t};this.publishEvent("Web3RequestCanceled",r,!1).then()}publishEvent(t,r,n){return this.connection.publishEvent(t,r,n)}handleWeb3ResponseMessage(t){var r;const{response:n}=t;if((r=this.diagnostic)===null||r===void 0||r.log(nr.EVENTS.WEB3_RESPONSE,{eventId:t.id,method:`relay::${n.method}`,sessionIdHash:this.getSessionIdHash()}),n.method==="requestEthereumAccounts"){xt.accountRequestCallbackIds.forEach(s=>this.invokeCallback(Object.assign(Object.assign({},t),{id:s}))),xt.accountRequestCallbackIds.clear();return}this.invokeCallback(t)}handleErrorResponse(t,r,n,s){var i;const a=(i=n==null?void 0:n.message)!==null&&i!==void 0?i:(0,$r.getMessageFromCode)(s);this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:t,response:{method:r,errorMessage:a,errorCode:s}})}invokeCallback(t){const r=this.relayEventManager.callbacks.get(t.id);r&&(r(t.response),this.relayEventManager.callbacks.delete(t.id))}requestEthereumAccounts(){const t={method:"requestEthereumAccounts",params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},r=(0,De.randomBytesHex)(8),n=i=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,t.method,i)};return{promise:new Promise((i,a)=>{if(this.relayEventManager.callbacks.set(r,c=>{if(this.ui.hideRequestEthereumAccounts(),(0,sr.isErrorResponse)(c))return a(new Error(c.errorMessage));i(c)}),this.ui.inlineAccountsResponse()){const c=d=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:r,response:{method:"requestEthereumAccounts",result:d}})};this.ui.requestEthereumAccounts({onCancel:n,onAccounts:c})}else{const c=$r.standardErrors.provider.userRejectedRequest("User denied account authorization");this.ui.requestEthereumAccounts({onCancel:()=>n(c)})}xt.accountRequestCallbackIds.add(r),!this.ui.inlineAccountsResponse()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(r,t)}),cancel:n}}selectProvider(t){const r={method:"selectProvider",params:{providerOptions:t}},n=(0,De.randomBytesHex)(8),s=a=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,r.method,a)},i=new Promise((a,c)=>{this.relayEventManager.callbacks.set(n,p=>{if((0,sr.isErrorResponse)(p))return c(new Error(p.errorMessage));a(p)});const d=p=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:n,response:{method:"selectProvider",result:qd.ProviderType.Unselected}})},u=p=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:n,response:{method:"selectProvider",result:p}})};this.ui.selectProvider&&this.ui.selectProvider({onApprove:u,onCancel:d,providerOptions:t})});return{cancel:s,promise:i}}watchAsset(t,r,n,s,i,a){const c={method:"watchAsset",params:{type:t,options:{address:r,symbol:n,decimals:s,image:i},chainId:a}};let d=null;const u=(0,De.randomBytesHex)(8),p=m=>{this.publishWeb3RequestCanceledEvent(u),this.handleErrorResponse(u,c.method,m),d==null||d()};this.ui.inlineWatchAsset()||(d=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:p,onResetConnection:this.resetAndReload}));const f=new Promise((m,E)=>{this.relayEventManager.callbacks.set(u,k=>{if(d==null||d(),(0,sr.isErrorResponse)(k))return E(new Error(k.errorMessage));m(k)});const M=k=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:u,response:{method:"watchAsset",result:!1}})},x=()=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:u,response:{method:"watchAsset",result:!0}})};this.ui.inlineWatchAsset()&&this.ui.watchAsset({onApprove:x,onCancel:M,type:t,address:r,symbol:n,decimals:s,image:i,chainId:a}),!this.ui.inlineWatchAsset()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(u,c)});return{cancel:p,promise:f}}addEthereumChain(t,r,n,s,i,a){const c={method:"addEthereumChain",params:{chainId:t,rpcUrls:r,blockExplorerUrls:s,chainName:i,iconUrls:n,nativeCurrency:a}};let d=null;const u=(0,De.randomBytesHex)(8),p=m=>{this.publishWeb3RequestCanceledEvent(u),this.handleErrorResponse(u,c.method,m),d==null||d()};return this.ui.inlineAddEthereumChain(t)||(d=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:p,onResetConnection:this.resetAndReload})),{promise:new Promise((m,E)=>{this.relayEventManager.callbacks.set(u,k=>{if(d==null||d(),(0,sr.isErrorResponse)(k))return E(new Error(k.errorMessage));m(k)});const M=k=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:u,response:{method:"addEthereumChain",result:{isApproved:!1,rpcUrl:""}}})},x=k=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:u,response:{method:"addEthereumChain",result:{isApproved:!0,rpcUrl:k}}})};this.ui.inlineAddEthereumChain(t)&&this.ui.addEthereumChain({onCancel:M,onApprove:x,chainId:c.params.chainId,rpcUrls:c.params.rpcUrls,blockExplorerUrls:c.params.blockExplorerUrls,chainName:c.params.chainName,iconUrls:c.params.iconUrls,nativeCurrency:c.params.nativeCurrency}),!this.ui.inlineAddEthereumChain(t)&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(u,c)}),cancel:p}}switchEthereumChain(t,r){const n={method:"switchEthereumChain",params:Object.assign({chainId:t},{address:r})},s=(0,De.randomBytesHex)(8),i=c=>{this.publishWeb3RequestCanceledEvent(s),this.handleErrorResponse(s,n.method,c)};return{promise:new Promise((c,d)=>{this.relayEventManager.callbacks.set(s,f=>{if((0,sr.isErrorResponse)(f)&&f.errorCode)return d($r.standardErrors.provider.custom({code:f.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if((0,sr.isErrorResponse)(f))return d(new Error(f.errorMessage));c(f)});const u=f=>{var m;if(f){const E=(m=(0,$r.getErrorCode)(f))!==null&&m!==void 0?m:$r.standardErrorCodes.provider.unsupportedChain;this.handleErrorResponse(s,"switchEthereumChain",f instanceof Error?f:$r.standardErrors.provider.unsupportedChain(t),E)}else this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:s,response:{method:"switchEthereumChain",result:{isApproved:!1,rpcUrl:""}}})},p=f=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:s,response:{method:"switchEthereumChain",result:{isApproved:!0,rpcUrl:f}}})};this.ui.switchEthereumChain({onCancel:u,onApprove:p,chainId:n.params.chainId,address:n.params.address}),!this.ui.inlineSwitchEthereumChain()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(s,n)}),cancel:i}}inlineAddEthereumChain(t){return this.ui.inlineAddEthereumChain(t)}getSessionIdHash(){return $t.Session.hash(this._session.id)}sendRequestStandalone(t,r){const n=i=>{this.handleErrorResponse(t,r.method,i)},s=i=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:t,response:i})};switch(r.method){case"signEthereumMessage":this.ui.signEthereumMessage({request:r,onSuccess:s,onCancel:n});break;case"signEthereumTransaction":this.ui.signEthereumTransaction({request:r,onSuccess:s,onCancel:n});break;case"submitEthereumTransaction":this.ui.submitEthereumTransaction({request:r,onSuccess:s,onCancel:n});break;case"ethereumAddressFromSignedMessage":this.ui.ethereumAddressFromSignedMessage({request:r,onSuccess:s});break;default:n();break}}}On.WalletLinkRelay=xt;xt.accountRequestCallbackIds=new Set;var Hn={},Js={},dl={};(function(e){var t=$&&$.__createBinding||(Object.create?function(n,s,i,a){a===void 0&&(a=i);var c=Object.getOwnPropertyDescriptor(s,i);(!c||("get"in c?!s.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(n,a,c)}:function(n,s,i,a){a===void 0&&(a=i),n[a]=s[i]}),r=$&&$.__exportStar||function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&t(s,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(bo,e)})(dl);var So={};Object.defineProperty(So,"__esModule",{value:!0});So.default=".-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s;background-color:rgba(10,11,13,.5)}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box{display:block;position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);padding:20px;border-radius:8px;background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box p{display:block;font-weight:400;font-size:14px;line-height:20px;padding-bottom:12px;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box button{appearance:none;border:none;background:none;color:#0052ff;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark{background-color:#0a0b0d;color:#fff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark button{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light{background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light button{color:#0052ff}";var fl=$&&$.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Js,"__esModule",{value:!0});Js.RedirectDialog=void 0;const Zd=fl(jn),St=nt,Qd=Bn,Kd=dl,Xd=fl(So);class Yd{constructor(){this.root=null}attach(){const t=document.documentElement;this.root=document.createElement("div"),this.root.className="-cbwsdk-css-reset",t.appendChild(this.root),(0,Qd.injectCssReset)()}present(t){this.render(t)}clear(){this.render(null)}render(t){this.root&&((0,St.render)(null,this.root),t&&(0,St.render)((0,St.h)(ef,Object.assign({},t,{onDismiss:()=>{this.clear()}})),this.root))}}Js.RedirectDialog=Yd;const ef=({title:e,buttonText:t,darkMode:r,onButtonClick:n,onDismiss:s})=>{const i=r?"dark":"light";return(0,St.h)(Kd.SnackbarContainer,{darkMode:r},(0,St.h)("div",{class:"-cbwsdk-redirect-dialog"},(0,St.h)("style",null,Xd.default),(0,St.h)("div",{class:"-cbwsdk-redirect-dialog-backdrop",onClick:s}),(0,St.h)("div",{class:(0,Zd.default)("-cbwsdk-redirect-dialog-box",i)},(0,St.h)("p",null,e),(0,St.h)("button",{onClick:n},t))))};Object.defineProperty(Hn,"__esModule",{value:!0});Hn.MobileRelayUI=void 0;const tf=Js;class rf{constructor(t){this.attached=!1,this.darkMode=!1,this.openedWindow=null,this.redirectDialog=new tf.RedirectDialog,this.darkMode=t.darkMode}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");this.redirectDialog.attach(),this.attached=!0}setConnected(t){}closeOpenedWindow(){var t;(t=this.openedWindow)===null||t===void 0||t.close(),this.openedWindow=null}redirectToCoinbaseWallet(t){const r=new URL("https://go.cb-w.com/walletlink");r.searchParams.append("redirect_url",window.location.href),t&&r.searchParams.append("wl_url",t),this.openedWindow=window.open(r.href,"cbw-opener"),this.openedWindow&&setTimeout(()=>this.closeOpenedWindow(),5e3)}openCoinbaseWalletDeeplink(t){this.redirectDialog.present({title:"Redirecting to Coinbase Wallet...",buttonText:"Open",darkMode:this.darkMode,onButtonClick:()=>{this.redirectToCoinbaseWallet(t)}}),setTimeout(()=>{this.redirectToCoinbaseWallet(t)},99)}showConnecting(t){return()=>{this.closeOpenedWindow(),this.redirectDialog.clear()}}hideRequestEthereumAccounts(){this.closeOpenedWindow(),this.redirectDialog.clear()}requestEthereumAccounts(){}addEthereumChain(){}watchAsset(){}selectProvider(){}switchEthereumChain(){}signEthereumMessage(){}signEthereumTransaction(){}submitEthereumTransaction(){}ethereumAddressFromSignedMessage(){}reloadUI(){}setStandalone(){}setConnectDisabled(){}inlineAccountsResponse(){return!1}inlineAddEthereumChain(){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}isStandalone(){return!1}}Hn.MobileRelayUI=rf;Object.defineProperty(Pn,"__esModule",{value:!0});Pn.MobileRelay=void 0;const nf=T,sf=On,Ca=Hn;class of extends sf.WalletLinkRelay{constructor(t){var r;super(t),this._enableMobileWalletLink=(r=t.enableMobileWalletLink)!==null&&r!==void 0?r:!1}requestEthereumAccounts(){return this._enableMobileWalletLink?super.requestEthereumAccounts():{promise:new Promise(()=>{const t=(0,nf.getLocation)();t.href=`https://go.cb-w.com/dapp?cb_url=${encodeURIComponent(t.href)}`}),cancel:()=>{}}}publishWeb3RequestEvent(t,r){if(super.publishWeb3RequestEvent(t,r),!(this._enableMobileWalletLink&&this.ui instanceof Ca.MobileRelayUI))return;let n=!1;switch(r.method){case"requestEthereumAccounts":case"connectAndSignIn":n=!0,this.ui.openCoinbaseWalletDeeplink(this.getQRCodeUrl());break;case"switchEthereumChain":return;default:n=!0,this.ui.openCoinbaseWalletDeeplink();break}n&&window.addEventListener("blur",()=>{window.addEventListener("focus",()=>{this.connection.checkUnseenEvents()},{once:!0})},{once:!0})}handleWeb3ResponseMessage(t){super.handleWeb3ResponseMessage(t),this._enableMobileWalletLink&&this.ui instanceof Ca.MobileRelayUI&&this.ui.closeOpenedWindow()}connectAndSignIn(t){if(!this._enableMobileWalletLink)throw new Error("connectAndSignIn is supported only when enableMobileWalletLink is on");return this.sendRequest({method:"connectAndSignIn",params:{appName:this.appName,appLogoUrl:this.appLogoUrl,domain:window.location.hostname,aud:window.location.href,version:"1",type:"eip4361",nonce:t.nonce,iat:new Date().toISOString(),chainId:`eip155:${this.dappDefaultChain}`,statement:t.statement,resources:t.resources}})}}Pn.MobileRelay=of;const{Transform:af}=kc;var cf=e=>class pl extends af{constructor(r,n,s,i,a){super(a),this._rate=r,this._capacity=n,this._delimitedSuffix=s,this._hashBitLength=i,this._options=a,this._state=new e,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,s){let i=null;try{this.update(r,n)}catch(a){i=a}s(i)}_flush(r){let n=null;try{this.push(this.digest())}catch(s){n=s}r(n)}update(r,n){if(!H.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return H.isBuffer(r)||(r=H.from(r,n)),this._state.absorb(r),this}digest(r){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let n=this._state.squeeze(this._hashBitLength/8);return r!==void 0&&(n=n.toString(r)),this._resetState(),n}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new pl(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const{Transform:lf}=kc;var uf=e=>class gl extends lf{constructor(r,n,s,i){super(i),this._rate=r,this._capacity=n,this._delimitedSuffix=s,this._options=i,this._state=new e,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,s){let i=null;try{this.update(r,n)}catch(a){i=a}s(i)}_flush(){}_read(r){this.push(this.squeeze(r))}update(r,n){if(!H.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return H.isBuffer(r)||(r=H.from(r,n)),this._state.absorb(r),this}squeeze(r,n){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let s=this._state.squeeze(r);return n!==void 0&&(s=s.toString(n)),s}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new gl(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const hf=cf,df=uf;var ff=function(e){const t=hf(e),r=df(e);return function(n,s){switch(typeof n=="string"?n.toLowerCase():n){case"keccak224":return new t(1152,448,null,224,s);case"keccak256":return new t(1088,512,null,256,s);case"keccak384":return new t(832,768,null,384,s);case"keccak512":return new t(576,1024,null,512,s);case"sha3-224":return new t(1152,448,6,224,s);case"sha3-256":return new t(1088,512,6,256,s);case"sha3-384":return new t(832,768,6,384,s);case"sha3-512":return new t(576,1024,6,512,s);case"shake128":return new r(1344,256,31,s);case"shake256":return new r(1088,512,31,s);default:throw new Error("Invald algorithm: "+n)}}},ml={};const Ma=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];ml.p1600=function(e){for(let t=0;t<24;++t){const r=e[0]^e[10]^e[20]^e[30]^e[40],n=e[1]^e[11]^e[21]^e[31]^e[41],s=e[2]^e[12]^e[22]^e[32]^e[42],i=e[3]^e[13]^e[23]^e[33]^e[43],a=e[4]^e[14]^e[24]^e[34]^e[44],c=e[5]^e[15]^e[25]^e[35]^e[45],d=e[6]^e[16]^e[26]^e[36]^e[46],u=e[7]^e[17]^e[27]^e[37]^e[47],p=e[8]^e[18]^e[28]^e[38]^e[48],f=e[9]^e[19]^e[29]^e[39]^e[49];let m=p^(s<<1|i>>>31),E=f^(i<<1|s>>>31);const M=e[0]^m,x=e[1]^E,k=e[10]^m,I=e[11]^E,R=e[20]^m,A=e[21]^E,D=e[30]^m,N=e[31]^E,P=e[40]^m,W=e[41]^E;m=r^(a<<1|c>>>31),E=n^(c<<1|a>>>31);const ee=e[2]^m,G=e[3]^E,Q=e[12]^m,V=e[13]^E,K=e[22]^m,y=e[23]^E,o=e[32]^m,h=e[33]^E,g=e[42]^m,_=e[43]^E;m=s^(d<<1|u>>>31),E=i^(u<<1|d>>>31);const w=e[4]^m,S=e[5]^E,C=e[14]^m,v=e[15]^E,l=e[24]^m,b=e[25]^E,L=e[34]^m,O=e[35]^E,B=e[44]^m,ze=e[45]^E;m=a^(p<<1|f>>>31),E=c^(f<<1|p>>>31);const X=e[6]^m,te=e[7]^E,hn=e[16]^m,Re=e[17]^E,Ie=e[26]^m,dn=e[27]^E,Ae=e[36]^m,xe=e[37]^E,fn=e[46]^m,Ne=e[47]^E;m=d^(r<<1|n>>>31),E=u^(n<<1|r>>>31);const Le=e[8]^m,pn=e[9]^E,Te=e[18]^m,Pe=e[19]^E,gn=e[28]^m,Oe=e[29]^E,$e=e[38]^m,mn=e[39]^E,Be=e[48]^m,Fe=e[49]^E,br=M,re=x,ne=I<<4|k>>>28,Er=k<<4|I>>>28,se=R<<3|A>>>29,ie=A<<3|R>>>29,Sr=N<<9|D>>>23,oe=D<<9|N>>>23,ae=P<<18|W>>>14,Cr=W<<18|P>>>14,ce=ee<<1|G>>>31,le=G<<1|ee>>>31,Mr=V<<12|Q>>>20,ue=Q<<12|V>>>20,he=K<<10|y>>>22,kr=y<<10|K>>>22,de=h<<13|o>>>19,fe=o<<13|h>>>19,Rr=g<<2|_>>>30,pe=_<<2|g>>>30,ge=S<<30|w>>>2,Ir=w<<30|S>>>2,me=C<<6|v>>>26,_e=v<<6|C>>>26,Ar=b<<11|l>>>21,ve=l<<11|b>>>21,ye=L<<15|O>>>17,xr=O<<15|L>>>17,we=ze<<29|B>>>3,be=B<<29|ze>>>3,Nr=X<<28|te>>>4,Ee=te<<28|X>>>4,Se=Re<<23|hn>>>9,Lr=hn<<23|Re>>>9,Ce=Ie<<25|dn>>>7,Me=dn<<25|Ie>>>7,Ht=Ae<<21|xe>>>11,Ut=xe<<21|Ae>>>11,Vt=Ne<<24|fn>>>8,Wt=fn<<24|Ne>>>8,zt=Le<<27|pn>>>5,qt=pn<<27|Le>>>5,Jt=Te<<20|Pe>>>12,Gt=Pe<<20|Te>>>12,Zt=Oe<<7|gn>>>25,Qt=gn<<7|Oe>>>25,Kt=$e<<8|mn>>>24,Xt=mn<<8|$e>>>24,Yt=Be<<14|Fe>>>18,er=Fe<<14|Be>>>18;e[0]=br^~Mr&Ar,e[1]=re^~ue&ve,e[10]=Nr^~Jt&se,e[11]=Ee^~Gt&ie,e[20]=ce^~me&Ce,e[21]=le^~_e&Me,e[30]=zt^~ne&he,e[31]=qt^~Er&kr,e[40]=ge^~Se&Zt,e[41]=Ir^~Lr&Qt,e[2]=Mr^~Ar&Ht,e[3]=ue^~ve&Ut,e[12]=Jt^~se&de,e[13]=Gt^~ie&fe,e[22]=me^~Ce&Kt,e[23]=_e^~Me&Xt,e[32]=ne^~he&ye,e[33]=Er^~kr&xr,e[42]=Se^~Zt&Sr,e[43]=Lr^~Qt&oe,e[4]=Ar^~Ht&Yt,e[5]=ve^~Ut&er,e[14]=se^~de&we,e[15]=ie^~fe&be,e[24]=Ce^~Kt&ae,e[25]=Me^~Xt&Cr,e[34]=he^~ye&Vt,e[35]=kr^~xr&Wt,e[44]=Zt^~Sr&Rr,e[45]=Qt^~oe&pe,e[6]=Ht^~Yt&br,e[7]=Ut^~er&re,e[16]=de^~we&Nr,e[17]=fe^~be&Ee,e[26]=Kt^~ae&ce,e[27]=Xt^~Cr&le,e[36]=ye^~Vt&zt,e[37]=xr^~Wt&qt,e[46]=Sr^~Rr&ge,e[47]=oe^~pe&Ir,e[8]=Yt^~br&Mr,e[9]=er^~re&ue,e[18]=we^~Nr&Jt,e[19]=be^~Ee&Gt,e[28]=ae^~ce&me,e[29]=Cr^~le&_e,e[38]=Vt^~zt&ne,e[39]=Wt^~qt&Er,e[48]=Rr^~ge&Se,e[49]=pe^~Ir&Lr,e[0]^=Ma[t*2],e[1]^=Ma[t*2+1]}};const _s=ml;function an(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}an.prototype.initialize=function(e,t){for(let r=0;r<50;++r)this.state[r]=0;this.blockSize=e/8,this.count=0,this.squeezing=!1};an.prototype.absorb=function(e){for(let t=0;t<e.length;++t)this.state[~~(this.count/4)]^=e[t]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(_s.p1600(this.state),this.count=0)};an.prototype.absorbLastFewBits=function(e){this.state[~~(this.count/4)]^=e<<8*(this.count%4),e&128&&this.count===this.blockSize-1&&_s.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),_s.p1600(this.state),this.count=0,this.squeezing=!0};an.prototype.squeeze=function(e){this.squeezing||this.absorbLastFewBits(1);const t=H.alloc(e);for(let r=0;r<e;++r)t[r]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(_s.p1600(this.state),this.count=0);return t};an.prototype.copy=function(e){for(let t=0;t<50;++t)e.state[t]=this.state[t];e.blockSize=this.blockSize,e.count=this.count,e.squeezing=this.squeezing};var pf=an,gf=ff(pf);const mf=gf,_f=Ms;function _l(e){return H.allocUnsafe(e).fill(0)}function vl(e,t,r){const n=_l(t);return e=Gs(e),r?e.length<t?(e.copy(n),n):e.slice(0,t):e.length<t?(e.copy(n,t-e.length),n):e.slice(-t)}function vf(e,t){return vl(e,t,!0)}function Gs(e){if(!H.isBuffer(e))if(Array.isArray(e))e=H.from(e);else if(typeof e=="string")yl(e)?e=H.from(bf(wl(e)),"hex"):e=H.from(e);else if(typeof e=="number")e=intToBuffer(e);else if(e==null)e=H.allocUnsafe(0);else if(_f.isBN(e))e=e.toArrayLike(H);else if(e.toArray)e=H.from(e.toArray());else throw new Error("invalid type");return e}function yf(e){return e=Gs(e),"0x"+e.toString("hex")}function wf(e,t){return e=Gs(e),t||(t=256),mf("keccak"+t).update(e).digest()}function bf(e){return e.length%2?"0"+e:e}function yl(e){return typeof e=="string"&&e.match(/^0x[0-9A-Fa-f]*$/)}function wl(e){return typeof e=="string"&&e.startsWith("0x")?e.slice(2):e}var bl={zeros:_l,setLength:vl,setLengthRight:vf,isHexString:yl,stripHexPrefix:wl,toBuffer:Gs,bufferToHex:yf,keccak:wf};const pr=bl,lr=Ms;function El(e){return e.startsWith("int[")?"int256"+e.slice(3):e==="int"?"int256":e.startsWith("uint[")?"uint256"+e.slice(4):e==="uint"?"uint256":e.startsWith("fixed[")?"fixed128x128"+e.slice(5):e==="fixed"?"fixed128x128":e.startsWith("ufixed[")?"ufixed128x128"+e.slice(6):e==="ufixed"?"ufixed128x128":e}function Vr(e){return parseInt(/^\D+(\d+)$/.exec(e)[1],10)}function ka(e){var t=/^\D+(\d+)x(\d+)$/.exec(e);return[parseInt(t[1],10),parseInt(t[2],10)]}function Sl(e){var t=e.match(/(.*)\[(.*?)\]$/);return t?t[2]===""?"dynamic":parseInt(t[2],10):null}function or(e){var t=typeof e;if(t==="string")return pr.isHexString(e)?new lr(pr.stripHexPrefix(e),16):new lr(e,10);if(t==="number")return new lr(e);if(e.toArray)return e;throw new Error("Argument is not a number")}function Et(e,t){var r,n,s,i;if(e==="address")return Et("uint160",or(t));if(e==="bool")return Et("uint8",t?1:0);if(e==="string")return Et("bytes",new H(t,"utf8"));if(Sf(e)){if(typeof t.length>"u")throw new Error("Not an array?");if(r=Sl(e),r!=="dynamic"&&r!==0&&t.length>r)throw new Error("Elements exceed array size: "+r);s=[],e=e.slice(0,e.lastIndexOf("[")),typeof t=="string"&&(t=JSON.parse(t));for(i in t)s.push(Et(e,t[i]));if(r==="dynamic"){var a=Et("uint256",t.length);s.unshift(a)}return H.concat(s)}else{if(e==="bytes")return t=new H(t),s=H.concat([Et("uint256",t.length),t]),t.length%32!==0&&(s=H.concat([s,pr.zeros(32-t.length%32)])),s;if(e.startsWith("bytes")){if(r=Vr(e),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);return pr.setLengthRight(t,32)}else if(e.startsWith("uint")){if(r=Vr(e),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=or(t),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());if(n<0)throw new Error("Supplied uint is negative");return n.toArrayLike(H,"be",32)}else if(e.startsWith("int")){if(r=Vr(e),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=or(t),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());return n.toTwos(256).toArrayLike(H,"be",32)}else if(e.startsWith("ufixed")){if(r=ka(e),n=or(t),n<0)throw new Error("Supplied ufixed is negative");return Et("uint256",n.mul(new lr(2).pow(new lr(r[1]))))}else if(e.startsWith("fixed"))return r=ka(e),Et("int256",or(t).mul(new lr(2).pow(new lr(r[1]))))}throw new Error("Unsupported or invalid type: "+e)}function Ef(e){return e==="string"||e==="bytes"||Sl(e)==="dynamic"}function Sf(e){return e.lastIndexOf("]")===e.length-1}function Cf(e,t){var r=[],n=[],s=32*e.length;for(var i in e){var a=El(e[i]),c=t[i],d=Et(a,c);Ef(a)?(r.push(Et("uint256",s)),n.push(d),s+=d.length):r.push(d)}return H.concat(r.concat(n))}function Cl(e,t){if(e.length!==t.length)throw new Error("Number of types are not matching the values");for(var r,n,s=[],i=0;i<e.length;i++){var a=El(e[i]),c=t[i];if(a==="bytes")s.push(c);else if(a==="string")s.push(new H(c,"utf8"));else if(a==="bool")s.push(new H(c?"01":"00","hex"));else if(a==="address")s.push(pr.setLength(c,20));else if(a.startsWith("bytes")){if(r=Vr(a),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);s.push(pr.setLengthRight(c,r))}else if(a.startsWith("uint")){if(r=Vr(a),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=or(c),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());s.push(n.toArrayLike(H,"be",r/8))}else if(a.startsWith("int")){if(r=Vr(a),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=or(c),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());s.push(n.toTwos(r).toArrayLike(H,"be",r/8))}else throw new Error("Unsupported or invalid type: "+a)}return H.concat(s)}function Mf(e,t){return pr.keccak(Cl(e,t))}var kf={rawEncode:Cf,solidityPack:Cl,soliditySHA3:Mf};const gt=bl,Cn=kf,Ml={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},Ai={encodeData(e,t,r,n=!0){const s=["bytes32"],i=[this.hashType(e,r)];if(n){const a=(c,d,u)=>{if(r[d]!==void 0)return["bytes32",u==null?"0x0000000000000000000000000000000000000000000000000000000000000000":gt.keccak(this.encodeData(d,u,r,n))];if(u===void 0)throw new Error(`missing value for field ${c} of type ${d}`);if(d==="bytes")return["bytes32",gt.keccak(u)];if(d==="string")return typeof u=="string"&&(u=H.from(u,"utf8")),["bytes32",gt.keccak(u)];if(d.lastIndexOf("]")===d.length-1){const p=d.slice(0,d.lastIndexOf("[")),f=u.map(m=>a(c,p,m));return["bytes32",gt.keccak(Cn.rawEncode(f.map(([m])=>m),f.map(([,m])=>m)))]}return[d,u]};for(const c of r[e]){const[d,u]=a(c.name,c.type,t[c.name]);s.push(d),i.push(u)}}else for(const a of r[e]){let c=t[a.name];if(c!==void 0)if(a.type==="bytes")s.push("bytes32"),c=gt.keccak(c),i.push(c);else if(a.type==="string")s.push("bytes32"),typeof c=="string"&&(c=H.from(c,"utf8")),c=gt.keccak(c),i.push(c);else if(r[a.type]!==void 0)s.push("bytes32"),c=gt.keccak(this.encodeData(a.type,c,r,n)),i.push(c);else{if(a.type.lastIndexOf("]")===a.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");s.push(a.type),i.push(c)}}return Cn.rawEncode(s,i)},encodeType(e,t){let r="",n=this.findTypeDependencies(e,t).filter(s=>s!==e);n=[e].concat(n.sort());for(const s of n){if(!t[s])throw new Error("No type definition specified: "+s);r+=s+"("+t[s].map(({name:a,type:c})=>c+" "+a).join(",")+")"}return r},findTypeDependencies(e,t,r=[]){if(e=e.match(/^\w*/)[0],r.includes(e)||t[e]===void 0)return r;r.push(e);for(const n of t[e])for(const s of this.findTypeDependencies(n.type,t,r))!r.includes(s)&&r.push(s);return r},hashStruct(e,t,r,n=!0){return gt.keccak(this.encodeData(e,t,r,n))},hashType(e,t){return gt.keccak(this.encodeType(e,t))},sanitizeData(e){const t={};for(const r in Ml.properties)e[r]&&(t[r]=e[r]);return t.types&&(t.types=Object.assign({EIP712Domain:[]},t.types)),t},hash(e,t=!0){const r=this.sanitizeData(e),n=[H.from("1901","hex")];return n.push(this.hashStruct("EIP712Domain",r.domain,r.types,t)),r.primaryType!=="EIP712Domain"&&n.push(this.hashStruct(r.primaryType,r.message,r.types,t)),gt.keccak(H.concat(n))}};var Rf={TYPED_MESSAGE_SCHEMA:Ml,TypedDataUtils:Ai,hashForSignTypedDataLegacy:function(e){return If(e.data)},hashForSignTypedData_v3:function(e){return Ai.hash(e.data,!1)},hashForSignTypedData_v4:function(e){return Ai.hash(e.data)}};function If(e){const t=new Error("Expect argument to be non-empty array");if(typeof e!="object"||!e.length)throw t;const r=e.map(function(i){return i.type==="bytes"?gt.toBuffer(i.value):i.value}),n=e.map(function(i){return i.type}),s=e.map(function(i){if(!i.name)throw t;return i.type+" "+i.name});return Cn.soliditySHA3(["bytes32","bytes32"],[Cn.soliditySHA3(new Array(e.length).fill("string"),s),Cn.soliditySHA3(n,r)])}var Kr={};Object.defineProperty(Kr,"__esModule",{value:!0});Kr.filterFromParam=Kr.FilterPolyfill=void 0;const jr=qe,et=T,Af=5*60*1e3,ar={jsonrpc:"2.0",id:0};class xf{constructor(t){this.logFilters=new Map,this.blockFilters=new Set,this.pendingTransactionFilters=new Set,this.cursors=new Map,this.timeouts=new Map,this.nextFilterId=(0,jr.IntNumber)(1),this.REQUEST_THROTTLE_INTERVAL=1e3,this.lastFetchTimestamp=new Date(0),this.resolvers=[],this.provider=t}async newFilter(t){const r=kl(t),n=this.makeFilterId(),s=await this.setInitialCursorPosition(n,r.fromBlock);return console.info(`Installing new log filter(${n}):`,r,"initial cursor position:",s),this.logFilters.set(n,r),this.setFilterTimeout(n),(0,et.hexStringFromIntNumber)(n)}async newBlockFilter(){const t=this.makeFilterId(),r=await this.setInitialCursorPosition(t,"latest");return console.info(`Installing new block filter (${t}) with initial cursor position:`,r),this.blockFilters.add(t),this.setFilterTimeout(t),(0,et.hexStringFromIntNumber)(t)}async newPendingTransactionFilter(){const t=this.makeFilterId(),r=await this.setInitialCursorPosition(t,"latest");return console.info(`Installing new block filter (${t}) with initial cursor position:`,r),this.pendingTransactionFilters.add(t),this.setFilterTimeout(t),(0,et.hexStringFromIntNumber)(t)}uninstallFilter(t){const r=(0,et.intNumberFromHexString)(t);return console.info(`Uninstalling filter (${r})`),this.deleteFilter(r),!0}getFilterChanges(t){const r=(0,et.intNumberFromHexString)(t);return this.timeouts.has(r)&&this.setFilterTimeout(r),this.logFilters.has(r)?this.getLogFilterChanges(r):this.blockFilters.has(r)?this.getBlockFilterChanges(r):this.pendingTransactionFilters.has(r)?this.getPendingTransactionFilterChanges(r):Promise.resolve(ss())}async getFilterLogs(t){const r=(0,et.intNumberFromHexString)(t),n=this.logFilters.get(r);return n?this.sendAsyncPromise(Object.assign(Object.assign({},ar),{method:"eth_getLogs",params:[Ra(n)]})):ss()}makeFilterId(){return(0,jr.IntNumber)(++this.nextFilterId)}sendAsyncPromise(t){return new Promise((r,n)=>{this.provider.sendAsync(t,(s,i)=>{if(s)return n(s);if(Array.isArray(i)||i==null)return n(new Error(`unexpected response received: ${JSON.stringify(i)}`));r(i)})})}deleteFilter(t){console.info(`Deleting filter (${t})`),this.logFilters.delete(t),this.blockFilters.delete(t),this.pendingTransactionFilters.delete(t),this.cursors.delete(t),this.timeouts.delete(t)}async getLogFilterChanges(t){const r=this.logFilters.get(t),n=this.cursors.get(t);if(!n||!r)return ss();const s=await this.getCurrentBlockHeight(),i=r.toBlock==="latest"?s:r.toBlock;if(n>s||n>Number(r.toBlock))return is();console.info(`Fetching logs from ${n} to ${i} for filter ${t}`);const a=await this.sendAsyncPromise(Object.assign(Object.assign({},ar),{method:"eth_getLogs",params:[Ra(Object.assign(Object.assign({},r),{fromBlock:n,toBlock:i}))]}));if(Array.isArray(a.result)){const c=a.result.map(u=>(0,et.intNumberFromHexString)(u.blockNumber||"0x0")),d=Math.max(...c);if(d&&d>n){const u=(0,jr.IntNumber)(d+1);console.info(`Moving cursor position for filter (${t}) from ${n} to ${u}`),this.cursors.set(t,u)}}return a}async getBlockFilterChanges(t){const r=this.cursors.get(t);if(!r)return ss();const n=await this.getCurrentBlockHeight();if(r>n)return is();console.info(`Fetching blocks from ${r} to ${n} for filter (${t})`);const s=(await Promise.all((0,et.range)(r,n+1).map(a=>this.getBlockHashByNumber((0,jr.IntNumber)(a))))).filter(a=>!!a),i=(0,jr.IntNumber)(r+s.length);return console.info(`Moving cursor position for filter (${t}) from ${r} to ${i}`),this.cursors.set(t,i),Object.assign(Object.assign({},ar),{result:s})}async getPendingTransactionFilterChanges(t){return Promise.resolve(is())}async setInitialCursorPosition(t,r){const n=await this.getCurrentBlockHeight(),s=typeof r=="number"&&r>n?r:n;return this.cursors.set(t,s),s}setFilterTimeout(t){const r=this.timeouts.get(t);r&&window.clearTimeout(r);const n=window.setTimeout(()=>{console.info(`Filter (${t}) timed out`),this.deleteFilter(t)},Af);this.timeouts.set(t,n)}async getCurrentBlockHeight(){const t=new Date;if(t.getTime()-this.lastFetchTimestamp.getTime()>this.REQUEST_THROTTLE_INTERVAL){this.lastFetchTimestamp=t;const r=await this._getCurrentBlockHeight();this.currentBlockHeight=r,this.resolvers.forEach(n=>n(r)),this.resolvers=[]}return this.currentBlockHeight?this.currentBlockHeight:new Promise(r=>this.resolvers.push(r))}async _getCurrentBlockHeight(){const{result:t}=await this.sendAsyncPromise(Object.assign(Object.assign({},ar),{method:"eth_blockNumber",params:[]}));return(0,et.intNumberFromHexString)((0,et.ensureHexString)(t))}async getBlockHashByNumber(t){const r=await this.sendAsyncPromise(Object.assign(Object.assign({},ar),{method:"eth_getBlockByNumber",params:[(0,et.hexStringFromIntNumber)(t),!1]}));return r.result&&typeof r.result.hash=="string"?(0,et.ensureHexString)(r.result.hash):null}}Kr.FilterPolyfill=xf;function kl(e){return{fromBlock:Ia(e.fromBlock),toBlock:Ia(e.toBlock),addresses:e.address===void 0?null:Array.isArray(e.address)?e.address:[e.address],topics:e.topics||[]}}Kr.filterFromParam=kl;function Ra(e){const t={fromBlock:Aa(e.fromBlock),toBlock:Aa(e.toBlock),topics:e.topics};return e.addresses!==null&&(t.address=e.addresses),t}function Ia(e){if(e===void 0||e==="latest"||e==="pending")return"latest";if(e==="earliest")return(0,jr.IntNumber)(0);if((0,et.isHexString)(e))return(0,et.intNumberFromHexString)(e);throw new Error(`Invalid block option: ${String(e)}`)}function Aa(e){return e==="latest"?e:(0,et.hexStringFromIntNumber)(e)}function ss(){return Object.assign(Object.assign({},ar),{error:{code:-32e3,message:"filter not found"}})}function is(){return Object.assign(Object.assign({},ar),{result:[]})}var Zs={},Rl={},Qs={},Co=Nf;function Nf(e){e=e||{};var t=e.max||Number.MAX_SAFE_INTEGER,r=typeof e.start<"u"?e.start:Math.floor(Math.random()*t);return function(){return r=r%t,r++}}const xa=(e,t)=>function(){const r=t.promiseModule,n=new Array(arguments.length);for(let s=0;s<arguments.length;s++)n[s]=arguments[s];return new r((s,i)=>{t.errorFirst?n.push(function(a,c){if(t.multiArgs){const d=new Array(arguments.length-1);for(let u=1;u<arguments.length;u++)d[u-1]=arguments[u];a?(d.unshift(a),i(d)):s(d)}else a?i(a):s(c)}):n.push(function(a){if(t.multiArgs){const c=new Array(arguments.length-1);for(let d=0;d<arguments.length;d++)c[d]=arguments[d];s(c)}else s(a)}),e.apply(this,n)})};var Lf=(e,t)=>{t=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},t);const r=s=>{const i=a=>typeof a=="string"?s===a:a.test(s);return t.include?t.include.some(i):!t.exclude.some(i)};let n;typeof e=="function"?n=function(){return t.excludeMain?e.apply(this,arguments):xa(e,t).apply(this,arguments)}:n=Object.create(Object.getPrototypeOf(e));for(const s in e){const i=e[s];n[s]=typeof i=="function"&&r(s)?xa(i,t):i}return n},Un={},Vn={};Object.defineProperty(Vn,"__esModule",{value:!0});const Tf=Rc;function Na(e,t,r){try{Reflect.apply(e,t,r)}catch(n){setTimeout(()=>{throw n})}}function Pf(e){const t=e.length,r=new Array(t);for(let n=0;n<t;n+=1)r[n]=e[n];return r}let Of=class extends Tf.EventEmitter{emit(t,...r){let n=t==="error";const s=this._events;if(s!==void 0)n=n&&s.error===void 0;else if(!n)return!1;if(n){let a;if(r.length>0&&([a]=r),a instanceof Error)throw a;const c=new Error(`Unhandled error.${a?` (${a.message})`:""}`);throw c.context=a,c}const i=s[t];if(i===void 0)return!1;if(typeof i=="function")Na(i,this,r);else{const a=i.length,c=Pf(i);for(let d=0;d<a;d+=1)Na(c[d],this,r)}return!0}};Vn.default=Of;var $f=$&&$.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Un,"__esModule",{value:!0});Un.BaseBlockTracker=void 0;const Bf=$f(Vn),Ff=1e3,Df=(e,t)=>e+t,La=["sync","latest"];class jf extends Bf.default{constructor(t){super(),this._blockResetDuration=t.blockResetDuration||20*Ff,this._usePastBlocks=t.usePastBlocks||!1,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}async destroy(){this._cancelBlockResetTimeout(),await this._maybeEnd(),super.removeAllListeners()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){return this._currentBlock?this._currentBlock:await new Promise(r=>this.once("latest",r))}removeAllListeners(t){return t?super.removeAllListeners(t):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener(),this}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(t){La.includes(t)&&this._maybeStart()}_onRemoveListener(){this._getBlockTrackerEventCount()>0||this._maybeEnd()}async _maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),await this._start(),this.emit("_started"))}async _maybeEnd(){this._isRunning&&(this._isRunning=!1,this._setupBlockResetTimeout(),await this._end(),this.emit("_ended"))}_getBlockTrackerEventCount(){return La.map(t=>this.listenerCount(t)).reduce(Df)}_shouldUseNewBlock(t){const r=this._currentBlock;if(!r)return!0;const n=Ta(t),s=Ta(r);return this._usePastBlocks&&n<s||n>s}_newPotentialLatest(t){this._shouldUseNewBlock(t)&&this._setCurrentBlock(t)}_setCurrentBlock(t){const r=this._currentBlock;this._currentBlock=t,this.emit("latest",t),this.emit("sync",{oldBlock:r,newBlock:t})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){this._blockResetTimeout&&clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}}Un.BaseBlockTracker=jf;function Ta(e){return Number.parseInt(e,16)}var Il={},Al={},Xe={};class xl extends TypeError{constructor(t,r){let n;const{message:s,explanation:i,...a}=t,{path:c}=t,d=c.length===0?s:`At path: ${c.join(".")} -- ${s}`;super(i??d),i!=null&&(this.cause=d),Object.assign(this,a),this.name=this.constructor.name,this.failures=()=>n??(n=[t,...r()])}}function Hf(e){return ft(e)&&typeof e[Symbol.iterator]=="function"}function ft(e){return typeof e=="object"&&e!=null}function Pa(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function Je(e){return typeof e=="symbol"?e.toString():typeof e=="string"?JSON.stringify(e):`${e}`}function Uf(e){const{done:t,value:r}=e.next();return t?void 0:r}function Vf(e,t,r,n){if(e===!0)return;e===!1?e={}:typeof e=="string"&&(e={message:e});const{path:s,branch:i}=t,{type:a}=r,{refinement:c,message:d=`Expected a value of type \`${a}\`${c?` with refinement \`${c}\``:""}, but received: \`${Je(n)}\``}=e;return{value:n,type:a,refinement:c,key:s[s.length-1],path:s,branch:i,...e,message:d}}function*Yi(e,t,r,n){Hf(e)||(e=[e]);for(const s of e){const i=Vf(s,t,r,n);i&&(yield i)}}function*Mo(e,t,r={}){const{path:n=[],branch:s=[e],coerce:i=!1,mask:a=!1}=r,c={path:n,branch:s};if(i&&(e=t.coercer(e,c),a&&t.type!=="type"&&ft(t.schema)&&ft(e)&&!Array.isArray(e)))for(const u in e)t.schema[u]===void 0&&delete e[u];let d="valid";for(const u of t.validator(e,c))u.explanation=r.message,d="not_valid",yield[u,void 0];for(let[u,p,f]of t.entries(e,c)){const m=Mo(p,f,{path:u===void 0?n:[...n,u],branch:u===void 0?s:[...s,p],coerce:i,mask:a,message:r.message});for(const E of m)E[0]?(d=E[0].refinement!=null?"not_refined":"not_valid",yield[E[0],void 0]):i&&(p=E[1],u===void 0?e=p:e instanceof Map?e.set(u,p):e instanceof Set?e.add(p):ft(e)&&(p!==void 0||u in e)&&(e[u]=p))}if(d!=="not_valid")for(const u of t.refiner(e,c))u.explanation=r.message,d="not_refined",yield[u,void 0];d==="valid"&&(yield[void 0,e])}class Ve{constructor(t){const{type:r,schema:n,validator:s,refiner:i,coercer:a=d=>d,entries:c=function*(){}}=t;this.type=r,this.schema=n,this.entries=c,this.coercer=a,s?this.validator=(d,u)=>{const p=s(d,u);return Yi(p,u,this,d)}:this.validator=()=>[],i?this.refiner=(d,u)=>{const p=i(d,u);return Yi(p,u,this,d)}:this.refiner=()=>[]}assert(t,r){return Nl(t,this,r)}create(t,r){return Ll(t,this,r)}is(t){return ko(t,this)}mask(t,r){return Tl(t,this,r)}validate(t,r={}){return cn(t,this,r)}}function Nl(e,t,r){const n=cn(e,t,{message:r});if(n[0])throw n[0]}function Ll(e,t,r){const n=cn(e,t,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function Tl(e,t,r){const n=cn(e,t,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}function ko(e,t){return!cn(e,t)[0]}function cn(e,t,r={}){const n=Mo(e,t,r),s=Uf(n);return s[0]?[new xl(s[0],function*(){for(const a of n)a[0]&&(yield a[0])}),void 0]:[void 0,s[1]]}function Wf(...e){const t=e[0].type==="type",r=e.map(s=>s.schema),n=Object.assign({},...r);return t?zn(n):Wn(n)}function st(e,t){return new Ve({type:e,schema:null,validator:t})}function zf(e,t){return new Ve({...e,refiner:(r,n)=>r===void 0||e.refiner(r,n),validator(r,n){return r===void 0?!0:(t(r,n),e.validator(r,n))}})}function qf(e){return new Ve({type:"dynamic",schema:null,*entries(t,r){yield*e(t,r).entries(t,r)},validator(t,r){return e(t,r).validator(t,r)},coercer(t,r){return e(t,r).coercer(t,r)},refiner(t,r){return e(t,r).refiner(t,r)}})}function Jf(e){let t;return new Ve({type:"lazy",schema:null,*entries(r,n){t??(t=e()),yield*t.entries(r,n)},validator(r,n){return t??(t=e()),t.validator(r,n)},coercer(r,n){return t??(t=e()),t.coercer(r,n)},refiner(r,n){return t??(t=e()),t.refiner(r,n)}})}function Gf(e,t){const{schema:r}=e,n={...r};for(const s of t)delete n[s];switch(e.type){case"type":return zn(n);default:return Wn(n)}}function Zf(e){const t=e instanceof Ve,r=t?{...e.schema}:{...e};for(const n in r)r[n]=Pl(r[n]);return t&&e.type==="type"?zn(r):Wn(r)}function Qf(e,t){const{schema:r}=e,n={};for(const s of t)n[s]=r[s];switch(e.type){case"type":return zn(n);default:return Wn(n)}}function Kf(e,t){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),st(e,t)}function Xf(){return st("any",()=>!0)}function Yf(e){return new Ve({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[r,n]of t.entries())yield[r,n,e]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||`Expected an array value, but received: ${Je(t)}`}})}function e0(){return st("bigint",e=>typeof e=="bigint")}function t0(){return st("boolean",e=>typeof e=="boolean")}function r0(){return st("date",e=>e instanceof Date&&!isNaN(e.getTime())||`Expected a valid \`Date\` object, but received: ${Je(e)}`)}function n0(e){const t={},r=e.map(n=>Je(n)).join();for(const n of e)t[n]=n;return new Ve({type:"enums",schema:t,validator(n){return e.includes(n)||`Expected one of \`${r}\`, but received: ${Je(n)}`}})}function s0(){return st("func",e=>typeof e=="function"||`Expected a function, but received: ${Je(e)}`)}function i0(e){return st("instance",t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${Je(t)}`)}function o0(){return st("integer",e=>typeof e=="number"&&!isNaN(e)&&Number.isInteger(e)||`Expected an integer, but received: ${Je(e)}`)}function a0(e){return new Ve({type:"intersection",schema:null,*entries(t,r){for(const n of e)yield*n.entries(t,r)},*validator(t,r){for(const n of e)yield*n.validator(t,r)},*refiner(t,r){for(const n of e)yield*n.refiner(t,r)}})}function c0(e){const t=Je(e),r=typeof e;return new Ve({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?e:null,validator(n){return n===e||`Expected the literal \`${t}\`, but received: ${Je(n)}`}})}function l0(e,t){return new Ve({type:"map",schema:null,*entries(r){if(e&&t&&r instanceof Map)for(const[n,s]of r.entries())yield[n,n,e],yield[n,s,t]},coercer(r){return r instanceof Map?new Map(r):r},validator(r){return r instanceof Map||`Expected a \`Map\` object, but received: ${Je(r)}`}})}function Ro(){return st("never",()=>!1)}function u0(e){return new Ve({...e,validator:(t,r)=>t===null||e.validator(t,r),refiner:(t,r)=>t===null||e.refiner(t,r)})}function h0(){return st("number",e=>typeof e=="number"&&!isNaN(e)||`Expected a number, but received: ${Je(e)}`)}function Wn(e){const t=e?Object.keys(e):[],r=Ro();return new Ve({type:"object",schema:e||null,*entries(n){if(e&&ft(n)){const s=new Set(Object.keys(n));for(const i of t)s.delete(i),yield[i,n[i],e[i]];for(const i of s)yield[i,n[i],r]}},validator(n){return ft(n)||`Expected an object, but received: ${Je(n)}`},coercer(n){return ft(n)?{...n}:n}})}function Pl(e){return new Ve({...e,validator:(t,r)=>t===void 0||e.validator(t,r),refiner:(t,r)=>t===void 0||e.refiner(t,r)})}function d0(e,t){return new Ve({type:"record",schema:null,*entries(r){if(ft(r))for(const n in r){const s=r[n];yield[n,n,e],yield[n,s,t]}},validator(r){return ft(r)||`Expected an object, but received: ${Je(r)}`}})}function f0(){return st("regexp",e=>e instanceof RegExp)}function p0(e){return new Ve({type:"set",schema:null,*entries(t){if(e&&t instanceof Set)for(const r of t)yield[r,r,e]},coercer(t){return t instanceof Set?new Set(t):t},validator(t){return t instanceof Set||`Expected a \`Set\` object, but received: ${Je(t)}`}})}function Ol(){return st("string",e=>typeof e=="string"||`Expected a string, but received: ${Je(e)}`)}function g0(e){const t=Ro();return new Ve({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(e.length,r.length);for(let s=0;s<n;s++)yield[s,r[s],e[s]||t]}},validator(r){return Array.isArray(r)||`Expected an array, but received: ${Je(r)}`}})}function zn(e){const t=Object.keys(e);return new Ve({type:"type",schema:e,*entries(r){if(ft(r))for(const n of t)yield[n,r[n],e[n]]},validator(r){return ft(r)||`Expected an object, but received: ${Je(r)}`},coercer(r){return ft(r)?{...r}:r}})}function m0(e){const t=e.map(r=>r.type).join(" | ");return new Ve({type:"union",schema:null,coercer(r){for(const n of e){const[s,i]=n.validate(r,{coerce:!0});if(!s)return i}return r},validator(r,n){const s=[];for(const i of e){const[...a]=Mo(r,i,n),[c]=a;if(c[0])for(const[d]of a)d&&s.push(d);else return[]}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${Je(r)}`,...s]}})}function $l(){return st("unknown",()=>!0)}function Io(e,t,r){return new Ve({...e,coercer:(n,s)=>ko(n,t)?e.coercer(r(n,s),s):e.coercer(n,s)})}function _0(e,t,r={}){return Io(e,$l(),n=>{const s=typeof t=="function"?t():t;if(n===void 0)return s;if(!r.strict&&Pa(n)&&Pa(s)){const i={...n};let a=!1;for(const c in s)i[c]===void 0&&(i[c]=s[c],a=!0);if(a)return i}return n})}function v0(e){return Io(e,Ol(),t=>t.trim())}function y0(e){return yr(e,"empty",t=>{const r=Bl(t);return r===0||`Expected an empty ${e.type} but received one with a size of \`${r}\``})}function Bl(e){return e instanceof Map||e instanceof Set?e.size:e.length}function w0(e,t,r={}){const{exclusive:n}=r;return yr(e,"max",s=>n?s<t:s<=t||`Expected a ${e.type} less than ${n?"":"or equal to "}${t} but received \`${s}\``)}function b0(e,t,r={}){const{exclusive:n}=r;return yr(e,"min",s=>n?s>t:s>=t||`Expected a ${e.type} greater than ${n?"":"or equal to "}${t} but received \`${s}\``)}function E0(e){return yr(e,"nonempty",t=>Bl(t)>0||`Expected a nonempty ${e.type} but received an empty one`)}function S0(e,t){return yr(e,"pattern",r=>t.test(r)||`Expected a ${e.type} matching \`/${t.source}/\` but received "${r}"`)}function C0(e,t,r=t){const n=`Expected a ${e.type}`,s=t===r?`of \`${t}\``:`between \`${t}\` and \`${r}\``;return yr(e,"size",i=>{if(typeof i=="number"||i instanceof Date)return t<=i&&i<=r||`${n} ${s} but received \`${i}\``;if(i instanceof Map||i instanceof Set){const{size:a}=i;return t<=a&&a<=r||`${n} with a size ${s} but received one with a size of \`${a}\``}else{const{length:a}=i;return t<=a&&a<=r||`${n} with a length ${s} but received one with a length of \`${a}\``}})}function yr(e,t,r){return new Ve({...e,*refiner(n,s){yield*e.refiner(n,s);const i=r(n,s),a=Yi(i,s,e,n);for(const c of a)yield{...c,refinement:t}}})}const M0=Object.freeze(Object.defineProperty({__proto__:null,Struct:Ve,StructError:xl,any:Xf,array:Yf,assert:Nl,assign:Wf,bigint:e0,boolean:t0,coerce:Io,create:Ll,date:r0,defaulted:_0,define:st,deprecated:zf,dynamic:qf,empty:y0,enums:n0,func:s0,instance:i0,integer:o0,intersection:a0,is:ko,lazy:Jf,literal:c0,map:l0,mask:Tl,max:w0,min:b0,never:Ro,nonempty:E0,nullable:u0,number:h0,object:Wn,omit:Gf,optional:Pl,partial:Zf,pattern:S0,pick:Qf,record:d0,refine:yr,regexp:f0,set:p0,size:C0,string:Ol,struct:Kf,trimmed:v0,tuple:g0,type:zn,union:m0,unknown:$l,validate:cn},Symbol.toStringTag,{value:"Module"})),wr=tn(M0);Object.defineProperty(Xe,"__esModule",{value:!0});Xe.assertExhaustive=Xe.assertStruct=Xe.assert=Xe.AssertionError=void 0;const k0=wr;function R0(e){return typeof e=="object"&&e!==null&&"message"in e}function I0(e){var t,r;return typeof((r=(t=e==null?void 0:e.prototype)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)=="string"}function A0(e){const t=R0(e)?e.message:String(e);return t.endsWith(".")?t.slice(0,-1):t}function Fl(e,t){return I0(e)?new e({message:t}):e({message:t})}class Ao extends Error{constructor(t){super(t.message),this.code="ERR_ASSERTION"}}Xe.AssertionError=Ao;function x0(e,t="Assertion failed.",r=Ao){if(!e)throw t instanceof Error?t:Fl(r,t)}Xe.assert=x0;function N0(e,t,r="Assertion failed",n=Ao){try{(0,k0.assert)(e,t)}catch(s){throw Fl(n,`${r}: ${A0(s)}.`)}}Xe.assertStruct=N0;function L0(e){throw new Error("Invalid branch reached. Should be detected during compilation.")}Xe.assertExhaustive=L0;var qn={};Object.defineProperty(qn,"__esModule",{value:!0});qn.base64=void 0;const T0=wr,P0=Xe,O0=(e,t={})=>{var r,n;const s=(r=t.paddingRequired)!==null&&r!==void 0?r:!1,i=(n=t.characterSet)!==null&&n!==void 0?n:"base64";let a;i==="base64"?a=String.raw`[A-Za-z0-9+\/]`:((0,P0.assert)(i==="base64url"),a=String.raw`[-_A-Za-z0-9]`);let c;return s?c=new RegExp(`^(?:${a}{4})*(?:${a}{3}=|${a}{2}==)?$`,"u"):c=new RegExp(`^(?:${a}{4})*(?:${a}{2,3}|${a}{3}=|${a}{2}==)?$`,"u"),(0,T0.pattern)(e,c)};qn.base64=O0;var J={},Jn={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.remove0x=e.add0x=e.assertIsStrictHexString=e.assertIsHexString=e.isStrictHexString=e.isHexString=e.StrictHexStruct=e.HexStruct=void 0;const t=wr,r=Xe;e.HexStruct=(0,t.pattern)((0,t.string)(),/^(?:0x)?[0-9a-f]+$/iu),e.StrictHexStruct=(0,t.pattern)((0,t.string)(),/^0x[0-9a-f]+$/iu);function n(u){return(0,t.is)(u,e.HexStruct)}e.isHexString=n;function s(u){return(0,t.is)(u,e.StrictHexStruct)}e.isStrictHexString=s;function i(u){(0,r.assert)(n(u),"Value must be a hexadecimal string.")}e.assertIsHexString=i;function a(u){(0,r.assert)(s(u),'Value must be a hexadecimal string, starting with "0x".')}e.assertIsStrictHexString=a;function c(u){return u.startsWith("0x")?u:u.startsWith("0X")?`0x${u.substring(2)}`:`0x${u}`}e.add0x=c;function d(u){return u.startsWith("0x")||u.startsWith("0X")?u.substring(2):u}e.remove0x=d})(Jn);Object.defineProperty(J,"__esModule",{value:!0});J.createDataView=J.concatBytes=J.valueToBytes=J.stringToBytes=J.numberToBytes=J.signedBigIntToBytes=J.bigIntToBytes=J.hexToBytes=J.bytesToString=J.bytesToNumber=J.bytesToSignedBigInt=J.bytesToBigInt=J.bytesToHex=J.assertIsBytes=J.isBytes=void 0;const at=Xe,eo=Jn,Oa=48,$a=58,Ba=87;function $0(){const e=[];return()=>{if(e.length===0)for(let t=0;t<256;t++)e.push(t.toString(16).padStart(2,"0"));return e}}const B0=$0();function xo(e){return e instanceof Uint8Array}J.isBytes=xo;function ln(e){(0,at.assert)(xo(e),"Value must be a Uint8Array.")}J.assertIsBytes=ln;function Dl(e){if(ln(e),e.length===0)return"0x";const t=B0(),r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=t[e[n]];return(0,eo.add0x)(r.join(""))}J.bytesToHex=Dl;function jl(e){ln(e);const t=Dl(e);return BigInt(t)}J.bytesToBigInt=jl;function F0(e){ln(e);let t=BigInt(0);for(const r of e)t=(t<<BigInt(8))+BigInt(r);return BigInt.asIntN(e.length*8,t)}J.bytesToSignedBigInt=F0;function D0(e){ln(e);const t=jl(e);return(0,at.assert)(t<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(t)}J.bytesToNumber=D0;function j0(e){return ln(e),new TextDecoder().decode(e)}J.bytesToString=j0;function Ks(e){var t;if(((t=e==null?void 0:e.toLowerCase)===null||t===void 0?void 0:t.call(e))==="0x")return new Uint8Array;(0,eo.assertIsHexString)(e);const r=(0,eo.remove0x)(e).toLowerCase(),n=r.length%2===0?r:`0${r}`,s=new Uint8Array(n.length/2);for(let i=0;i<s.length;i++){const a=n.charCodeAt(i*2),c=n.charCodeAt(i*2+1),d=a-(a<$a?Oa:Ba),u=c-(c<$a?Oa:Ba);s[i]=d*16+u}return s}J.hexToBytes=Ks;function Hl(e){(0,at.assert)(typeof e=="bigint","Value must be a bigint."),(0,at.assert)(e>=BigInt(0),"Value must be a non-negative bigint.");const t=e.toString(16);return Ks(t)}J.bigIntToBytes=Hl;function H0(e,t){(0,at.assert)(t>0);const r=e>>BigInt(31);return!((~e&r)+(e&~r)>>BigInt(t*8+-1))}function U0(e,t){(0,at.assert)(typeof e=="bigint","Value must be a bigint."),(0,at.assert)(typeof t=="number","Byte length must be a number."),(0,at.assert)(t>0,"Byte length must be greater than 0."),(0,at.assert)(H0(e,t),"Byte length is too small to represent the given value.");let r=e;const n=new Uint8Array(t);for(let s=0;s<n.length;s++)n[s]=Number(BigInt.asUintN(8,r)),r>>=BigInt(8);return n.reverse()}J.signedBigIntToBytes=U0;function Ul(e){(0,at.assert)(typeof e=="number","Value must be a number."),(0,at.assert)(e>=0,"Value must be a non-negative number."),(0,at.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToBytes` instead.");const t=e.toString(16);return Ks(t)}J.numberToBytes=Ul;function Vl(e){return(0,at.assert)(typeof e=="string","Value must be a string."),new TextEncoder().encode(e)}J.stringToBytes=Vl;function Wl(e){if(typeof e=="bigint")return Hl(e);if(typeof e=="number")return Ul(e);if(typeof e=="string")return e.startsWith("0x")?Ks(e):Vl(e);if(xo(e))return e;throw new TypeError(`Unsupported value type: "${typeof e}".`)}J.valueToBytes=Wl;function V0(e){const t=new Array(e.length);let r=0;for(let s=0;s<e.length;s++){const i=Wl(e[s]);t[s]=i,r+=i.length}const n=new Uint8Array(r);for(let s=0,i=0;s<t.length;s++)n.set(t[s],i),i+=t[s].length;return n}J.concatBytes=V0;function W0(e){if(typeof H<"u"&&e instanceof H){const t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return new DataView(t)}return new DataView(e.buffer,e.byteOffset,e.byteLength)}J.createDataView=W0;var Xs={};Object.defineProperty(Xs,"__esModule",{value:!0});Xs.ChecksumStruct=void 0;const Fa=wr,z0=qn;Xs.ChecksumStruct=(0,Fa.size)((0,z0.base64)((0,Fa.string)(),{paddingRequired:!0}),44,44);var kt={};Object.defineProperty(kt,"__esModule",{value:!0});kt.createHex=kt.createBytes=kt.createBigInt=kt.createNumber=void 0;const Ue=wr,q0=Xe,zl=J,Ys=Jn,ql=(0,Ue.union)([(0,Ue.number)(),(0,Ue.bigint)(),(0,Ue.string)(),Ys.StrictHexStruct]),J0=(0,Ue.coerce)((0,Ue.number)(),ql,Number),G0=(0,Ue.coerce)((0,Ue.bigint)(),ql,BigInt);(0,Ue.union)([Ys.StrictHexStruct,(0,Ue.instance)(Uint8Array)]);const Z0=(0,Ue.coerce)((0,Ue.instance)(Uint8Array),(0,Ue.union)([Ys.StrictHexStruct]),zl.hexToBytes),Q0=(0,Ue.coerce)(Ys.StrictHexStruct,(0,Ue.instance)(Uint8Array),zl.bytesToHex);function K0(e){try{const t=(0,Ue.create)(e,J0);return(0,q0.assert)(Number.isFinite(t),`Expected a number-like value, got "${e}".`),t}catch(t){throw t instanceof Ue.StructError?new Error(`Expected a number-like value, got "${e}".`):t}}kt.createNumber=K0;function X0(e){try{return(0,Ue.create)(e,G0)}catch(t){throw t instanceof Ue.StructError?new Error(`Expected a number-like value, got "${String(t.value)}".`):t}}kt.createBigInt=X0;function Y0(e){if(typeof e=="string"&&e.toLowerCase()==="0x")return new Uint8Array;try{return(0,Ue.create)(e,Z0)}catch(t){throw t instanceof Ue.StructError?new Error(`Expected a bytes-like value, got "${String(t.value)}".`):t}}kt.createBytes=Y0;function e1(e){if(e instanceof Uint8Array&&e.length===0||typeof e=="string"&&e.toLowerCase()==="0x")return"0x";try{return(0,Ue.create)(e,Q0)}catch(t){throw t instanceof Ue.StructError?new Error(`Expected a bytes-like value, got "${String(t.value)}".`):t}}kt.createHex=e1;var Xr={},Jl=$&&$.__classPrivateFieldSet||function(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r},tt=$&&$.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},pt,wt;Object.defineProperty(Xr,"__esModule",{value:!0});Xr.FrozenSet=Xr.FrozenMap=void 0;class No{constructor(t){pt.set(this,void 0),Jl(this,pt,new Map(t),"f"),Object.freeze(this)}get size(){return tt(this,pt,"f").size}[(pt=new WeakMap,Symbol.iterator)](){return tt(this,pt,"f")[Symbol.iterator]()}entries(){return tt(this,pt,"f").entries()}forEach(t,r){return tt(this,pt,"f").forEach((n,s,i)=>t.call(r,n,s,this))}get(t){return tt(this,pt,"f").get(t)}has(t){return tt(this,pt,"f").has(t)}keys(){return tt(this,pt,"f").keys()}values(){return tt(this,pt,"f").values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map(([t,r])=>`${String(t)} => ${String(r)}`).join(", ")} `:""}}`}}Xr.FrozenMap=No;class Lo{constructor(t){wt.set(this,void 0),Jl(this,wt,new Set(t),"f"),Object.freeze(this)}get size(){return tt(this,wt,"f").size}[(wt=new WeakMap,Symbol.iterator)](){return tt(this,wt,"f")[Symbol.iterator]()}entries(){return tt(this,wt,"f").entries()}forEach(t,r){return tt(this,wt,"f").forEach((n,s,i)=>t.call(r,n,s,this))}has(t){return tt(this,wt,"f").has(t)}keys(){return tt(this,wt,"f").keys()}values(){return tt(this,wt,"f").values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map(t=>String(t)).join(", ")} `:""}}`}}Xr.FrozenSet=Lo;Object.freeze(No);Object.freeze(No.prototype);Object.freeze(Lo);Object.freeze(Lo.prototype);var Gl={};Object.defineProperty(Gl,"__esModule",{value:!0});var Zl={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getJsonRpcIdValidator=e.assertIsJsonRpcError=e.isJsonRpcError=e.assertIsJsonRpcFailure=e.isJsonRpcFailure=e.assertIsJsonRpcSuccess=e.isJsonRpcSuccess=e.assertIsJsonRpcResponse=e.isJsonRpcResponse=e.assertIsPendingJsonRpcResponse=e.isPendingJsonRpcResponse=e.JsonRpcResponseStruct=e.JsonRpcFailureStruct=e.JsonRpcSuccessStruct=e.PendingJsonRpcResponseStruct=e.assertIsJsonRpcRequest=e.isJsonRpcRequest=e.assertIsJsonRpcNotification=e.isJsonRpcNotification=e.JsonRpcNotificationStruct=e.JsonRpcRequestStruct=e.JsonRpcParamsStruct=e.JsonRpcErrorStruct=e.JsonRpcIdStruct=e.JsonRpcVersionStruct=e.jsonrpc2=e.getJsonSize=e.isValidJson=e.JsonStruct=e.UnsafeJsonStruct=void 0;const t=wr,r=Xe,n=()=>(0,t.define)("finite number",N=>(0,t.is)(N,(0,t.number)())&&Number.isFinite(N));e.UnsafeJsonStruct=(0,t.union)([(0,t.literal)(null),(0,t.boolean)(),n(),(0,t.string)(),(0,t.array)((0,t.lazy)(()=>e.UnsafeJsonStruct)),(0,t.record)((0,t.string)(),(0,t.lazy)(()=>e.UnsafeJsonStruct))]),e.JsonStruct=(0,t.define)("Json",(N,P)=>{function W(ee,G){const V=[...G.validator(ee,P)];return V.length>0?V:!0}try{const ee=W(N,e.UnsafeJsonStruct);return ee!==!0?ee:W(JSON.parse(JSON.stringify(N)),e.UnsafeJsonStruct)}catch(ee){return ee instanceof RangeError?"Circular reference detected":!1}});function s(N){return(0,t.is)(N,e.JsonStruct)}e.isValidJson=s;function i(N){(0,r.assertStruct)(N,e.JsonStruct,"Invalid JSON value");const P=JSON.stringify(N);return new TextEncoder().encode(P).byteLength}e.getJsonSize=i,e.jsonrpc2="2.0",e.JsonRpcVersionStruct=(0,t.literal)(e.jsonrpc2),e.JsonRpcIdStruct=(0,t.nullable)((0,t.union)([(0,t.number)(),(0,t.string)()])),e.JsonRpcErrorStruct=(0,t.object)({code:(0,t.integer)(),message:(0,t.string)(),data:(0,t.optional)(e.JsonStruct),stack:(0,t.optional)((0,t.string)())}),e.JsonRpcParamsStruct=(0,t.optional)((0,t.union)([(0,t.record)((0,t.string)(),e.JsonStruct),(0,t.array)(e.JsonStruct)])),e.JsonRpcRequestStruct=(0,t.object)({id:e.JsonRpcIdStruct,jsonrpc:e.JsonRpcVersionStruct,method:(0,t.string)(),params:e.JsonRpcParamsStruct}),e.JsonRpcNotificationStruct=(0,t.omit)(e.JsonRpcRequestStruct,["id"]);function a(N){return(0,t.is)(N,e.JsonRpcNotificationStruct)}e.isJsonRpcNotification=a;function c(N,P){(0,r.assertStruct)(N,e.JsonRpcNotificationStruct,"Invalid JSON-RPC notification",P)}e.assertIsJsonRpcNotification=c;function d(N){return(0,t.is)(N,e.JsonRpcRequestStruct)}e.isJsonRpcRequest=d;function u(N,P){(0,r.assertStruct)(N,e.JsonRpcRequestStruct,"Invalid JSON-RPC request",P)}e.assertIsJsonRpcRequest=u,e.PendingJsonRpcResponseStruct=(0,t.object)({id:e.JsonRpcIdStruct,jsonrpc:e.JsonRpcVersionStruct,result:(0,t.optional)((0,t.unknown)()),error:(0,t.optional)(e.JsonRpcErrorStruct)}),e.JsonRpcSuccessStruct=(0,t.object)({id:e.JsonRpcIdStruct,jsonrpc:e.JsonRpcVersionStruct,result:e.JsonStruct}),e.JsonRpcFailureStruct=(0,t.object)({id:e.JsonRpcIdStruct,jsonrpc:e.JsonRpcVersionStruct,error:e.JsonRpcErrorStruct}),e.JsonRpcResponseStruct=(0,t.union)([e.JsonRpcSuccessStruct,e.JsonRpcFailureStruct]);function p(N){return(0,t.is)(N,e.PendingJsonRpcResponseStruct)}e.isPendingJsonRpcResponse=p;function f(N,P){(0,r.assertStruct)(N,e.PendingJsonRpcResponseStruct,"Invalid pending JSON-RPC response",P)}e.assertIsPendingJsonRpcResponse=f;function m(N){return(0,t.is)(N,e.JsonRpcResponseStruct)}e.isJsonRpcResponse=m;function E(N,P){(0,r.assertStruct)(N,e.JsonRpcResponseStruct,"Invalid JSON-RPC response",P)}e.assertIsJsonRpcResponse=E;function M(N){return(0,t.is)(N,e.JsonRpcSuccessStruct)}e.isJsonRpcSuccess=M;function x(N,P){(0,r.assertStruct)(N,e.JsonRpcSuccessStruct,"Invalid JSON-RPC success response",P)}e.assertIsJsonRpcSuccess=x;function k(N){return(0,t.is)(N,e.JsonRpcFailureStruct)}e.isJsonRpcFailure=k;function I(N,P){(0,r.assertStruct)(N,e.JsonRpcFailureStruct,"Invalid JSON-RPC failure response",P)}e.assertIsJsonRpcFailure=I;function R(N){return(0,t.is)(N,e.JsonRpcErrorStruct)}e.isJsonRpcError=R;function A(N,P){(0,r.assertStruct)(N,e.JsonRpcErrorStruct,"Invalid JSON-RPC error",P)}e.assertIsJsonRpcError=A;function D(N){const{permitEmptyString:P,permitFractions:W,permitNull:ee}=Object.assign({permitEmptyString:!0,permitFractions:!1,permitNull:!0},N);return Q=>!!(typeof Q=="number"&&(W||Number.isInteger(Q))||typeof Q=="string"&&(P||Q.length>0)||ee&&Q===null)}e.getJsonRpcIdValidator=D})(Zl);var Ql={};Object.defineProperty(Ql,"__esModule",{value:!0});var Yr={},to={exports:{}},xi,Da;function t1(){if(Da)return xi;Da=1;var e=1e3,t=e*60,r=t*60,n=r*24,s=n*7,i=n*365.25;xi=function(p,f){f=f||{};var m=typeof p;if(m==="string"&&p.length>0)return a(p);if(m==="number"&&isFinite(p))return f.long?d(p):c(p);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(p))};function a(p){if(p=String(p),!(p.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(p);if(f){var m=parseFloat(f[1]),E=(f[2]||"ms").toLowerCase();switch(E){case"years":case"year":case"yrs":case"yr":case"y":return m*i;case"weeks":case"week":case"w":return m*s;case"days":case"day":case"d":return m*n;case"hours":case"hour":case"hrs":case"hr":case"h":return m*r;case"minutes":case"minute":case"mins":case"min":case"m":return m*t;case"seconds":case"second":case"secs":case"sec":case"s":return m*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return m;default:return}}}}function c(p){var f=Math.abs(p);return f>=n?Math.round(p/n)+"d":f>=r?Math.round(p/r)+"h":f>=t?Math.round(p/t)+"m":f>=e?Math.round(p/e)+"s":p+"ms"}function d(p){var f=Math.abs(p);return f>=n?u(p,f,n,"day"):f>=r?u(p,f,r,"hour"):f>=t?u(p,f,t,"minute"):f>=e?u(p,f,e,"second"):p+" ms"}function u(p,f,m,E){var M=f>=m*1.5;return Math.round(p/m)+" "+E+(M?"s":"")}return xi}function r1(e){r.debug=r,r.default=r,r.coerce=d,r.disable=i,r.enable=s,r.enabled=a,r.humanize=t1(),r.destroy=u,Object.keys(e).forEach(p=>{r[p]=e[p]}),r.names=[],r.skips=[],r.formatters={};function t(p){let f=0;for(let m=0;m<p.length;m++)f=(f<<5)-f+p.charCodeAt(m),f|=0;return r.colors[Math.abs(f)%r.colors.length]}r.selectColor=t;function r(p){let f,m=null,E,M;function x(...k){if(!x.enabled)return;const I=x,R=Number(new Date),A=R-(f||R);I.diff=A,I.prev=f,I.curr=R,f=R,k[0]=r.coerce(k[0]),typeof k[0]!="string"&&k.unshift("%O");let D=0;k[0]=k[0].replace(/%([a-zA-Z%])/g,(P,W)=>{if(P==="%%")return"%";D++;const ee=r.formatters[W];if(typeof ee=="function"){const G=k[D];P=ee.call(I,G),k.splice(D,1),D--}return P}),r.formatArgs.call(I,k),(I.log||r.log).apply(I,k)}return x.namespace=p,x.useColors=r.useColors(),x.color=r.selectColor(p),x.extend=n,x.destroy=r.destroy,Object.defineProperty(x,"enabled",{enumerable:!0,configurable:!1,get:()=>m!==null?m:(E!==r.namespaces&&(E=r.namespaces,M=r.enabled(p)),M),set:k=>{m=k}}),typeof r.init=="function"&&r.init(x),x}function n(p,f){const m=r(this.namespace+(typeof f>"u"?":":f)+p);return m.log=this.log,m}function s(p){r.save(p),r.namespaces=p,r.names=[],r.skips=[];let f;const m=(typeof p=="string"?p:"").split(/[\s,]+/),E=m.length;for(f=0;f<E;f++)m[f]&&(p=m[f].replace(/\*/g,".*?"),p[0]==="-"?r.skips.push(new RegExp("^"+p.slice(1)+"$")):r.names.push(new RegExp("^"+p+"$")))}function i(){const p=[...r.names.map(c),...r.skips.map(c).map(f=>"-"+f)].join(",");return r.enable(""),p}function a(p){if(p[p.length-1]==="*")return!0;let f,m;for(f=0,m=r.skips.length;f<m;f++)if(r.skips[f].test(p))return!1;for(f=0,m=r.names.length;f<m;f++)if(r.names[f].test(p))return!0;return!1}function c(p){return p.toString().substring(2,p.toString().length-2).replace(/\.\*\?$/,"*")}function d(p){return p instanceof Error?p.stack||p.message:p}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}var n1=r1;(function(e,t){var r={};t.formatArgs=s,t.save=i,t.load=a,t.useColors=n,t.storage=c(),t.destroy=(()=>{let u=!1;return()=>{u||(u=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function s(u){if(u[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+u[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const p="color: "+this.color;u.splice(1,0,p,"color: inherit");let f=0,m=0;u[0].replace(/%[a-zA-Z%]/g,E=>{E!=="%%"&&(f++,E==="%c"&&(m=f))}),u.splice(m,0,p)}t.log=console.debug||console.log||(()=>{});function i(u){try{u?t.storage.setItem("debug",u):t.storage.removeItem("debug")}catch{}}function a(){let u;try{u=t.storage.getItem("debug")}catch{}return!u&&typeof zi<"u"&&"env"in zi&&(u=r.DEBUG),u}function c(){try{return localStorage}catch{}}e.exports=n1(t);const{formatters:d}=e.exports;d.j=function(u){try{return JSON.stringify(u)}catch(p){return"[UnexpectedJSONParseError]: "+p.message}}})(to,to.exports);var s1=to.exports,i1=$&&$.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Yr,"__esModule",{value:!0});Yr.createModuleLogger=Yr.createProjectLogger=void 0;const o1=i1(s1),a1=(0,o1.default)("metamask");function c1(e){return a1.extend(e)}Yr.createProjectLogger=c1;function l1(e,t){return e.extend(t)}Yr.createModuleLogger=l1;var Kl={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.calculateNumberSize=e.calculateStringSize=e.isASCII=e.isPlainObject=e.ESCAPE_CHARACTERS_REGEXP=e.JsonSize=e.hasProperty=e.isObject=e.isNullOrUndefined=e.isNonEmptyArray=void 0;function t(u){return Array.isArray(u)&&u.length>0}e.isNonEmptyArray=t;function r(u){return u==null}e.isNullOrUndefined=r;function n(u){return!!u&&typeof u=="object"&&!Array.isArray(u)}e.isObject=n;const s=(u,p)=>Object.hasOwnProperty.call(u,p);e.hasProperty=s,function(u){u[u.Null=4]="Null",u[u.Comma=1]="Comma",u[u.Wrapper=1]="Wrapper",u[u.True=4]="True",u[u.False=5]="False",u[u.Quote=1]="Quote",u[u.Colon=1]="Colon",u[u.Date=24]="Date"}(e.JsonSize||(e.JsonSize={})),e.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/gu;function i(u){if(typeof u!="object"||u===null)return!1;try{let p=u;for(;Object.getPrototypeOf(p)!==null;)p=Object.getPrototypeOf(p);return Object.getPrototypeOf(u)===p}catch{return!1}}e.isPlainObject=i;function a(u){return u.charCodeAt(0)<=127}e.isASCII=a;function c(u){var p;return u.split("").reduce((m,E)=>a(E)?m+1:m+2,0)+((p=u.match(e.ESCAPE_CHARACTERS_REGEXP))!==null&&p!==void 0?p:[]).length}e.calculateStringSize=c;function d(u){return u.toString().length}e.calculateNumberSize=d})(Kl);var Rt={};Object.defineProperty(Rt,"__esModule",{value:!0});Rt.hexToBigInt=Rt.hexToNumber=Rt.bigIntToHex=Rt.numberToHex=void 0;const Wr=Xe,In=Jn,u1=e=>((0,Wr.assert)(typeof e=="number","Value must be a number."),(0,Wr.assert)(e>=0,"Value must be a non-negative number."),(0,Wr.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,In.add0x)(e.toString(16)));Rt.numberToHex=u1;const h1=e=>((0,Wr.assert)(typeof e=="bigint","Value must be a bigint."),(0,Wr.assert)(e>=0,"Value must be a non-negative bigint."),(0,In.add0x)(e.toString(16)));Rt.bigIntToHex=h1;const d1=e=>{(0,In.assertIsHexString)(e);const t=parseInt(e,16);return(0,Wr.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `hexToBigInt` instead."),t};Rt.hexToNumber=d1;const f1=e=>((0,In.assertIsHexString)(e),BigInt((0,In.add0x)(e)));Rt.hexToBigInt=f1;var Xl={};Object.defineProperty(Xl,"__esModule",{value:!0});var Yl={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.timeSince=e.inMilliseconds=e.Duration=void 0,function(i){i[i.Millisecond=1]="Millisecond",i[i.Second=1e3]="Second",i[i.Minute=6e4]="Minute",i[i.Hour=36e5]="Hour",i[i.Day=864e5]="Day",i[i.Week=6048e5]="Week",i[i.Year=31536e6]="Year"}(e.Duration||(e.Duration={}));const t=i=>Number.isInteger(i)&&i>=0,r=(i,a)=>{if(!t(i))throw new Error(`"${a}" must be a non-negative integer. Received: "${i}".`)};function n(i,a){return r(i,"count"),i*a}e.inMilliseconds=n;function s(i){return r(i,"timestamp"),Date.now()-i}e.timeSince=s})(Yl);var eu={};Object.defineProperty(eu,"__esModule",{value:!0});var tu={},ro={exports:{}};const p1="2.0.0",ru=256,g1=Number.MAX_SAFE_INTEGER||9007199254740991,m1=16,_1=ru-6,v1=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var ei={MAX_LENGTH:ru,MAX_SAFE_COMPONENT_LENGTH:m1,MAX_SAFE_BUILD_LENGTH:_1,MAX_SAFE_INTEGER:g1,RELEASE_TYPES:v1,SEMVER_SPEC_VERSION:p1,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},Ni={};const y1=typeof zi=="object"&&Ni&&Ni.NODE_DEBUG&&/\bsemver\b/i.test(Ni.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var ti=y1;(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:s}=ei,i=ti;t=e.exports={};const a=t.re=[],c=t.safeRe=[],d=t.src=[],u=t.t={};let p=0;const f="[a-zA-Z0-9-]",m=[["\\s",1],["\\d",s],[f,n]],E=x=>{for(const[k,I]of m)x=x.split(`${k}*`).join(`${k}{0,${I}}`).split(`${k}+`).join(`${k}{1,${I}}`);return x},M=(x,k,I)=>{const R=E(k),A=p++;i(x,A,k),u[x]=A,d[A]=k,a[A]=new RegExp(k,I?"g":void 0),c[A]=new RegExp(R,I?"g":void 0)};M("NUMERICIDENTIFIER","0|[1-9]\\d*"),M("NUMERICIDENTIFIERLOOSE","\\d+"),M("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${f}*`),M("MAINVERSION",`(${d[u.NUMERICIDENTIFIER]})\\.(${d[u.NUMERICIDENTIFIER]})\\.(${d[u.NUMERICIDENTIFIER]})`),M("MAINVERSIONLOOSE",`(${d[u.NUMERICIDENTIFIERLOOSE]})\\.(${d[u.NUMERICIDENTIFIERLOOSE]})\\.(${d[u.NUMERICIDENTIFIERLOOSE]})`),M("PRERELEASEIDENTIFIER",`(?:${d[u.NUMERICIDENTIFIER]}|${d[u.NONNUMERICIDENTIFIER]})`),M("PRERELEASEIDENTIFIERLOOSE",`(?:${d[u.NUMERICIDENTIFIERLOOSE]}|${d[u.NONNUMERICIDENTIFIER]})`),M("PRERELEASE",`(?:-(${d[u.PRERELEASEIDENTIFIER]}(?:\\.${d[u.PRERELEASEIDENTIFIER]})*))`),M("PRERELEASELOOSE",`(?:-?(${d[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${d[u.PRERELEASEIDENTIFIERLOOSE]})*))`),M("BUILDIDENTIFIER",`${f}+`),M("BUILD",`(?:\\+(${d[u.BUILDIDENTIFIER]}(?:\\.${d[u.BUILDIDENTIFIER]})*))`),M("FULLPLAIN",`v?${d[u.MAINVERSION]}${d[u.PRERELEASE]}?${d[u.BUILD]}?`),M("FULL",`^${d[u.FULLPLAIN]}$`),M("LOOSEPLAIN",`[v=\\s]*${d[u.MAINVERSIONLOOSE]}${d[u.PRERELEASELOOSE]}?${d[u.BUILD]}?`),M("LOOSE",`^${d[u.LOOSEPLAIN]}$`),M("GTLT","((?:<|>)?=?)"),M("XRANGEIDENTIFIERLOOSE",`${d[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),M("XRANGEIDENTIFIER",`${d[u.NUMERICIDENTIFIER]}|x|X|\\*`),M("XRANGEPLAIN",`[v=\\s]*(${d[u.XRANGEIDENTIFIER]})(?:\\.(${d[u.XRANGEIDENTIFIER]})(?:\\.(${d[u.XRANGEIDENTIFIER]})(?:${d[u.PRERELEASE]})?${d[u.BUILD]}?)?)?`),M("XRANGEPLAINLOOSE",`[v=\\s]*(${d[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${d[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${d[u.XRANGEIDENTIFIERLOOSE]})(?:${d[u.PRERELEASELOOSE]})?${d[u.BUILD]}?)?)?`),M("XRANGE",`^${d[u.GTLT]}\\s*${d[u.XRANGEPLAIN]}$`),M("XRANGELOOSE",`^${d[u.GTLT]}\\s*${d[u.XRANGEPLAINLOOSE]}$`),M("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),M("COERCE",`${d[u.COERCEPLAIN]}(?:$|[^\\d])`),M("COERCEFULL",d[u.COERCEPLAIN]+`(?:${d[u.PRERELEASE]})?(?:${d[u.BUILD]})?(?:$|[^\\d])`),M("COERCERTL",d[u.COERCE],!0),M("COERCERTLFULL",d[u.COERCEFULL],!0),M("LONETILDE","(?:~>?)"),M("TILDETRIM",`(\\s*)${d[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",M("TILDE",`^${d[u.LONETILDE]}${d[u.XRANGEPLAIN]}$`),M("TILDELOOSE",`^${d[u.LONETILDE]}${d[u.XRANGEPLAINLOOSE]}$`),M("LONECARET","(?:\\^)"),M("CARETTRIM",`(\\s*)${d[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",M("CARET",`^${d[u.LONECARET]}${d[u.XRANGEPLAIN]}$`),M("CARETLOOSE",`^${d[u.LONECARET]}${d[u.XRANGEPLAINLOOSE]}$`),M("COMPARATORLOOSE",`^${d[u.GTLT]}\\s*(${d[u.LOOSEPLAIN]})$|^$`),M("COMPARATOR",`^${d[u.GTLT]}\\s*(${d[u.FULLPLAIN]})$|^$`),M("COMPARATORTRIM",`(\\s*)${d[u.GTLT]}\\s*(${d[u.LOOSEPLAIN]}|${d[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",M("HYPHENRANGE",`^\\s*(${d[u.XRANGEPLAIN]})\\s+-\\s+(${d[u.XRANGEPLAIN]})\\s*$`),M("HYPHENRANGELOOSE",`^\\s*(${d[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${d[u.XRANGEPLAINLOOSE]})\\s*$`),M("STAR","(<|>)?=?\\s*\\*"),M("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),M("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(ro,ro.exports);var Gn=ro.exports;const w1=Object.freeze({loose:!0}),b1=Object.freeze({}),E1=e=>e?typeof e!="object"?w1:e:b1;var To=E1;const ja=/^[0-9]+$/,nu=(e,t)=>{const r=ja.test(e),n=ja.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1},S1=(e,t)=>nu(t,e);var su={compareIdentifiers:nu,rcompareIdentifiers:S1};const os=ti,{MAX_LENGTH:Ha,MAX_SAFE_INTEGER:as}=ei,{safeRe:Ua,t:Va}=Gn,C1=To,{compareIdentifiers:Br}=su;let M1=class bt{constructor(t,r){if(r=C1(r),t instanceof bt){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>Ha)throw new TypeError(`version is longer than ${Ha} characters`);os("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=t.trim().match(r.loose?Ua[Va.LOOSE]:Ua[Va.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>as||this.major<0)throw new TypeError("Invalid major version");if(this.minor>as||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>as||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){const i=+s;if(i>=0&&i<as)return i}return s}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(os("SemVer.compare",this.version,this.options,t),!(t instanceof bt)){if(typeof t=="string"&&t===this.version)return 0;t=new bt(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof bt||(t=new bt(t,this.options)),Br(this.major,t.major)||Br(this.minor,t.minor)||Br(this.patch,t.patch)}comparePre(t){if(t instanceof bt||(t=new bt(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],s=t.prerelease[r];if(os("prerelease compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return Br(n,s)}while(++r)}compareBuild(t){t instanceof bt||(t=new bt(t,this.options));let r=0;do{const n=this.build[r],s=t.build[r];if(os("prerelease compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return Br(n,s)}while(++r)}inc(t,r,n){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const s=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[s];else{let i=this.prerelease.length;for(;--i>=0;)typeof this.prerelease[i]=="number"&&(this.prerelease[i]++,i=-2);if(i===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(s)}}if(r){let i=[r,s];n===!1&&(i=[r]),Br(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var rt=M1;const Wa=rt,k1=(e,t,r=!1)=>{if(e instanceof Wa)return e;try{return new Wa(e,t)}catch(n){if(!r)return null;throw n}};var un=k1;const R1=un,I1=(e,t)=>{const r=R1(e,t);return r?r.version:null};var A1=I1;const x1=un,N1=(e,t)=>{const r=x1(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};var L1=N1;const za=rt,T1=(e,t,r,n,s)=>{typeof r=="string"&&(s=n,n=r,r=void 0);try{return new za(e instanceof za?e.version:e,r).inc(t,n,s).version}catch{return null}};var P1=T1;const qa=un,O1=(e,t)=>{const r=qa(e,null,!0),n=qa(t,null,!0),s=r.compare(n);if(s===0)return null;const i=s>0,a=i?r:n,c=i?n:r,d=!!a.prerelease.length;if(!!c.prerelease.length&&!d)return!c.patch&&!c.minor?"major":a.patch?"patch":a.minor?"minor":"major";const p=d?"pre":"";return r.major!==n.major?p+"major":r.minor!==n.minor?p+"minor":r.patch!==n.patch?p+"patch":"prerelease"};var $1=O1;const B1=rt,F1=(e,t)=>new B1(e,t).major;var D1=F1;const j1=rt,H1=(e,t)=>new j1(e,t).minor;var U1=H1;const V1=rt,W1=(e,t)=>new V1(e,t).patch;var z1=W1;const q1=un,J1=(e,t)=>{const r=q1(e,t);return r&&r.prerelease.length?r.prerelease:null};var G1=J1;const Ja=rt,Z1=(e,t,r)=>new Ja(e,r).compare(new Ja(t,r));var _t=Z1;const Q1=_t,K1=(e,t,r)=>Q1(t,e,r);var X1=K1;const Y1=_t,ep=(e,t)=>Y1(e,t,!0);var tp=ep;const Ga=rt,rp=(e,t,r)=>{const n=new Ga(e,r),s=new Ga(t,r);return n.compare(s)||n.compareBuild(s)};var Po=rp;const np=Po,sp=(e,t)=>e.sort((r,n)=>np(r,n,t));var ip=sp;const op=Po,ap=(e,t)=>e.sort((r,n)=>op(n,r,t));var cp=ap;const lp=_t,up=(e,t,r)=>lp(e,t,r)>0;var ri=up;const hp=_t,dp=(e,t,r)=>hp(e,t,r)<0;var Oo=dp;const fp=_t,pp=(e,t,r)=>fp(e,t,r)===0;var iu=pp;const gp=_t,mp=(e,t,r)=>gp(e,t,r)!==0;var ou=mp;const _p=_t,vp=(e,t,r)=>_p(e,t,r)>=0;var $o=vp;const yp=_t,wp=(e,t,r)=>yp(e,t,r)<=0;var Bo=wp;const bp=iu,Ep=ou,Sp=ri,Cp=$o,Mp=Oo,kp=Bo,Rp=(e,t,r,n)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return bp(e,r,n);case"!=":return Ep(e,r,n);case">":return Sp(e,r,n);case">=":return Cp(e,r,n);case"<":return Mp(e,r,n);case"<=":return kp(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}};var au=Rp;const Ip=rt,Ap=un,{safeRe:cs,t:ls}=Gn,xp=(e,t)=>{if(e instanceof Ip)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(t.includePrerelease?cs[ls.COERCEFULL]:cs[ls.COERCE]);else{const d=t.includePrerelease?cs[ls.COERCERTLFULL]:cs[ls.COERCERTL];let u;for(;(u=d.exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||u.index+u[0].length!==r.index+r[0].length)&&(r=u),d.lastIndex=u.index+u[1].length+u[2].length;d.lastIndex=-1}if(r===null)return null;const n=r[2],s=r[3]||"0",i=r[4]||"0",a=t.includePrerelease&&r[5]?`-${r[5]}`:"",c=t.includePrerelease&&r[6]?`+${r[6]}`:"";return Ap(`${n}.${s}.${i}${a}${c}`,t)};var Np=xp,Li,Za;function Lp(){return Za||(Za=1,Li=function(e){e.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}),Li}var Tp=Z;Z.Node=gr;Z.create=Z;function Z(e){var t=this;if(t instanceof Z||(t=new Z),t.tail=null,t.head=null,t.length=0,e&&typeof e.forEach=="function")e.forEach(function(s){t.push(s)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)t.push(arguments[r]);return t}Z.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t};Z.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}};Z.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}};Z.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)Op(this,arguments[e]);return this.length};Z.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)$p(this,arguments[e]);return this.length};Z.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}};Z.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}};Z.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;r!==null;n++)e.call(t,r.value,n,this),r=r.next};Z.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;r!==null;n--)e.call(t,r.value,n,this),r=r.prev};Z.prototype.get=function(e){for(var t=0,r=this.head;r!==null&&t<e;t++)r=r.next;if(t===e&&r!==null)return r.value};Z.prototype.getReverse=function(e){for(var t=0,r=this.tail;r!==null&&t<e;t++)r=r.prev;if(t===e&&r!==null)return r.value};Z.prototype.map=function(e,t){t=t||this;for(var r=new Z,n=this.head;n!==null;)r.push(e.call(t,n.value,this)),n=n.next;return r};Z.prototype.mapReverse=function(e,t){t=t||this;for(var r=new Z,n=this.tail;n!==null;)r.push(e.call(t,n.value,this)),n=n.prev;return r};Z.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=0;n!==null;s++)r=e(r,n.value,s),n=n.next;return r};Z.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=this.length-1;n!==null;s--)r=e(r,n.value,s),n=n.prev;return r};Z.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;r!==null;t++)e[t]=r.value,r=r.next;return e};Z.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;r!==null;t++)e[t]=r.value,r=r.prev;return e};Z.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new Z;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=0,s=this.head;s!==null&&n<e;n++)s=s.next;for(;s!==null&&n<t;n++,s=s.next)r.push(s.value);return r};Z.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new Z;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=this.length,s=this.tail;s!==null&&n>t;n--)s=s.prev;for(;s!==null&&n>e;n--,s=s.prev)r.push(s.value);return r};Z.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,s=this.head;s!==null&&n<e;n++)s=s.next;for(var i=[],n=0;s&&n<t;n++)i.push(s.value),s=this.removeNode(s);s===null&&(s=this.tail),s!==this.head&&s!==this.tail&&(s=s.prev);for(var n=0;n<r.length;n++)s=Pp(this,s,r[n]);return i};Z.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};function Pp(e,t,r){var n=t===e.head?new gr(r,null,t,e):new gr(r,t,t.next,e);return n.next===null&&(e.tail=n),n.prev===null&&(e.head=n),e.length++,n}function Op(e,t){e.tail=new gr(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function $p(e,t){e.head=new gr(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function gr(e,t,r,n){if(!(this instanceof gr))return new gr(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{Lp()(Z)}catch{}const Bp=Tp,cr=Symbol("max"),Nt=Symbol("length"),Fr=Symbol("lengthCalculator"),Mn=Symbol("allowStale"),ur=Symbol("maxAge"),It=Symbol("dispose"),Qa=Symbol("noDisposeOnSet"),Ge=Symbol("lruList"),mt=Symbol("cache"),cu=Symbol("updateAgeOnGet"),Ti=()=>1;class Fp{constructor(t){if(typeof t=="number"&&(t={max:t}),t||(t={}),t.max&&(typeof t.max!="number"||t.max<0))throw new TypeError("max must be a non-negative number");this[cr]=t.max||1/0;const r=t.length||Ti;if(this[Fr]=typeof r!="function"?Ti:r,this[Mn]=t.stale||!1,t.maxAge&&typeof t.maxAge!="number")throw new TypeError("maxAge must be a number");this[ur]=t.maxAge||0,this[It]=t.dispose,this[Qa]=t.noDisposeOnSet||!1,this[cu]=t.updateAgeOnGet||!1,this.reset()}set max(t){if(typeof t!="number"||t<0)throw new TypeError("max must be a non-negative number");this[cr]=t||1/0,vn(this)}get max(){return this[cr]}set allowStale(t){this[Mn]=!!t}get allowStale(){return this[Mn]}set maxAge(t){if(typeof t!="number")throw new TypeError("maxAge must be a non-negative number");this[ur]=t,vn(this)}get maxAge(){return this[ur]}set lengthCalculator(t){typeof t!="function"&&(t=Ti),t!==this[Fr]&&(this[Fr]=t,this[Nt]=0,this[Ge].forEach(r=>{r.length=this[Fr](r.value,r.key),this[Nt]+=r.length})),vn(this)}get lengthCalculator(){return this[Fr]}get length(){return this[Nt]}get itemCount(){return this[Ge].length}rforEach(t,r){r=r||this;for(let n=this[Ge].tail;n!==null;){const s=n.prev;Ka(this,t,n,r),n=s}}forEach(t,r){r=r||this;for(let n=this[Ge].head;n!==null;){const s=n.next;Ka(this,t,n,r),n=s}}keys(){return this[Ge].toArray().map(t=>t.key)}values(){return this[Ge].toArray().map(t=>t.value)}reset(){this[It]&&this[Ge]&&this[Ge].length&&this[Ge].forEach(t=>this[It](t.key,t.value)),this[mt]=new Map,this[Ge]=new Bp,this[Nt]=0}dump(){return this[Ge].map(t=>vs(this,t)?!1:{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[Ge]}set(t,r,n){if(n=n||this[ur],n&&typeof n!="number")throw new TypeError("maxAge must be a number");const s=n?Date.now():0,i=this[Fr](r,t);if(this[mt].has(t)){if(i>this[cr])return zr(this,this[mt].get(t)),!1;const d=this[mt].get(t).value;return this[It]&&(this[Qa]||this[It](t,d.value)),d.now=s,d.maxAge=n,d.value=r,this[Nt]+=i-d.length,d.length=i,this.get(t),vn(this),!0}const a=new Dp(t,r,i,s,n);return a.length>this[cr]?(this[It]&&this[It](t,r),!1):(this[Nt]+=a.length,this[Ge].unshift(a),this[mt].set(t,this[Ge].head),vn(this),!0)}has(t){if(!this[mt].has(t))return!1;const r=this[mt].get(t).value;return!vs(this,r)}get(t){return Pi(this,t,!0)}peek(t){return Pi(this,t,!1)}pop(){const t=this[Ge].tail;return t?(zr(this,t),t.value):null}del(t){zr(this,this[mt].get(t))}load(t){this.reset();const r=Date.now();for(let n=t.length-1;n>=0;n--){const s=t[n],i=s.e||0;if(i===0)this.set(s.k,s.v);else{const a=i-r;a>0&&this.set(s.k,s.v,a)}}}prune(){this[mt].forEach((t,r)=>Pi(this,r,!1))}}const Pi=(e,t,r)=>{const n=e[mt].get(t);if(n){const s=n.value;if(vs(e,s)){if(zr(e,n),!e[Mn])return}else r&&(e[cu]&&(n.value.now=Date.now()),e[Ge].unshiftNode(n));return s.value}},vs=(e,t)=>{if(!t||!t.maxAge&&!e[ur])return!1;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[ur]&&r>e[ur]},vn=e=>{if(e[Nt]>e[cr])for(let t=e[Ge].tail;e[Nt]>e[cr]&&t!==null;){const r=t.prev;zr(e,t),t=r}},zr=(e,t)=>{if(t){const r=t.value;e[It]&&e[It](r.key,r.value),e[Nt]-=r.length,e[mt].delete(r.key),e[Ge].removeNode(t)}};class Dp{constructor(t,r,n,s,i){this.key=t,this.value=r,this.length=n,this.now=s,this.maxAge=i||0}}const Ka=(e,t,r,n)=>{let s=r.value;vs(e,s)&&(zr(e,r),e[Mn]||(s=void 0)),s&&t.call(n,s.value,s.key,e)};var jp=Fp,Oi,Xa;function vt(){if(Xa)return Oi;Xa=1;class e{constructor(o,h){if(h=n(h),o instanceof e)return o.loose===!!h.loose&&o.includePrerelease===!!h.includePrerelease?o:new e(o.raw,h);if(o instanceof s)return this.raw=o.value,this.set=[[o]],this.format(),this;if(this.options=h,this.loose=!!h.loose,this.includePrerelease=!!h.includePrerelease,this.raw=o.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(g=>this.parseRange(g.trim())).filter(g=>g.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const g=this.set[0];if(this.set=this.set.filter(_=>!M(_[0])),this.set.length===0)this.set=[g];else if(this.set.length>1){for(const _ of this.set)if(_.length===1&&x(_[0])){this.set=[_];break}}}this.format()}format(){return this.range=this.set.map(o=>o.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(o){const g=((this.options.includePrerelease&&m)|(this.options.loose&&E))+":"+o,_=r.get(g);if(_)return _;const w=this.options.loose,S=w?c[d.HYPHENRANGELOOSE]:c[d.HYPHENRANGE];o=o.replace(S,V(this.options.includePrerelease)),i("hyphen replace",o),o=o.replace(c[d.COMPARATORTRIM],u),i("comparator trim",o),o=o.replace(c[d.TILDETRIM],p),i("tilde trim",o),o=o.replace(c[d.CARETTRIM],f),i("caret trim",o);let C=o.split(" ").map(L=>I(L,this.options)).join(" ").split(/\s+/).map(L=>Q(L,this.options));w&&(C=C.filter(L=>(i("loose invalid filter",L,this.options),!!L.match(c[d.COMPARATORLOOSE])))),i("range list",C);const v=new Map,l=C.map(L=>new s(L,this.options));for(const L of l){if(M(L))return[L];v.set(L.value,L)}v.size>1&&v.has("")&&v.delete("");const b=[...v.values()];return r.set(g,b),b}intersects(o,h){if(!(o instanceof e))throw new TypeError("a Range is required");return this.set.some(g=>k(g,h)&&o.set.some(_=>k(_,h)&&g.every(w=>_.every(S=>w.intersects(S,h)))))}test(o){if(!o)return!1;if(typeof o=="string")try{o=new a(o,this.options)}catch{return!1}for(let h=0;h<this.set.length;h++)if(K(this.set[h],o,this.options))return!0;return!1}}Oi=e;const t=jp,r=new t({max:1e3}),n=To,s=ni(),i=ti,a=rt,{safeRe:c,t:d,comparatorTrimReplace:u,tildeTrimReplace:p,caretTrimReplace:f}=Gn,{FLAG_INCLUDE_PRERELEASE:m,FLAG_LOOSE:E}=ei,M=y=>y.value==="<0.0.0-0",x=y=>y.value==="",k=(y,o)=>{let h=!0;const g=y.slice();let _=g.pop();for(;h&&g.length;)h=g.every(w=>_.intersects(w,o)),_=g.pop();return h},I=(y,o)=>(i("comp",y,o),y=N(y,o),i("caret",y),y=A(y,o),i("tildes",y),y=W(y,o),i("xrange",y),y=G(y,o),i("stars",y),y),R=y=>!y||y.toLowerCase()==="x"||y==="*",A=(y,o)=>y.trim().split(/\s+/).map(h=>D(h,o)).join(" "),D=(y,o)=>{const h=o.loose?c[d.TILDELOOSE]:c[d.TILDE];return y.replace(h,(g,_,w,S,C)=>{i("tilde",y,g,_,w,S,C);let v;return R(_)?v="":R(w)?v=`>=${_}.0.0 <${+_+1}.0.0-0`:R(S)?v=`>=${_}.${w}.0 <${_}.${+w+1}.0-0`:C?(i("replaceTilde pr",C),v=`>=${_}.${w}.${S}-${C} <${_}.${+w+1}.0-0`):v=`>=${_}.${w}.${S} <${_}.${+w+1}.0-0`,i("tilde return",v),v})},N=(y,o)=>y.trim().split(/\s+/).map(h=>P(h,o)).join(" "),P=(y,o)=>{i("caret",y,o);const h=o.loose?c[d.CARETLOOSE]:c[d.CARET],g=o.includePrerelease?"-0":"";return y.replace(h,(_,w,S,C,v)=>{i("caret",y,_,w,S,C,v);let l;return R(w)?l="":R(S)?l=`>=${w}.0.0${g} <${+w+1}.0.0-0`:R(C)?w==="0"?l=`>=${w}.${S}.0${g} <${w}.${+S+1}.0-0`:l=`>=${w}.${S}.0${g} <${+w+1}.0.0-0`:v?(i("replaceCaret pr",v),w==="0"?S==="0"?l=`>=${w}.${S}.${C}-${v} <${w}.${S}.${+C+1}-0`:l=`>=${w}.${S}.${C}-${v} <${w}.${+S+1}.0-0`:l=`>=${w}.${S}.${C}-${v} <${+w+1}.0.0-0`):(i("no pr"),w==="0"?S==="0"?l=`>=${w}.${S}.${C}${g} <${w}.${S}.${+C+1}-0`:l=`>=${w}.${S}.${C}${g} <${w}.${+S+1}.0-0`:l=`>=${w}.${S}.${C} <${+w+1}.0.0-0`),i("caret return",l),l})},W=(y,o)=>(i("replaceXRanges",y,o),y.split(/\s+/).map(h=>ee(h,o)).join(" ")),ee=(y,o)=>{y=y.trim();const h=o.loose?c[d.XRANGELOOSE]:c[d.XRANGE];return y.replace(h,(g,_,w,S,C,v)=>{i("xRange",y,g,_,w,S,C,v);const l=R(w),b=l||R(S),L=b||R(C),O=L;return _==="="&&O&&(_=""),v=o.includePrerelease?"-0":"",l?_===">"||_==="<"?g="<0.0.0-0":g="*":_&&O?(b&&(S=0),C=0,_===">"?(_=">=",b?(w=+w+1,S=0,C=0):(S=+S+1,C=0)):_==="<="&&(_="<",b?w=+w+1:S=+S+1),_==="<"&&(v="-0"),g=`${_+w}.${S}.${C}${v}`):b?g=`>=${w}.0.0${v} <${+w+1}.0.0-0`:L&&(g=`>=${w}.${S}.0${v} <${w}.${+S+1}.0-0`),i("xRange return",g),g})},G=(y,o)=>(i("replaceStars",y,o),y.trim().replace(c[d.STAR],"")),Q=(y,o)=>(i("replaceGTE0",y,o),y.trim().replace(c[o.includePrerelease?d.GTE0PRE:d.GTE0],"")),V=y=>(o,h,g,_,w,S,C,v,l,b,L,O,B)=>(R(g)?h="":R(_)?h=`>=${g}.0.0${y?"-0":""}`:R(w)?h=`>=${g}.${_}.0${y?"-0":""}`:S?h=`>=${h}`:h=`>=${h}${y?"-0":""}`,R(l)?v="":R(b)?v=`<${+l+1}.0.0-0`:R(L)?v=`<${l}.${+b+1}.0-0`:O?v=`<=${l}.${b}.${L}-${O}`:y?v=`<${l}.${b}.${+L+1}-0`:v=`<=${v}`,`${h} ${v}`.trim()),K=(y,o,h)=>{for(let g=0;g<y.length;g++)if(!y[g].test(o))return!1;if(o.prerelease.length&&!h.includePrerelease){for(let g=0;g<y.length;g++)if(i(y[g].semver),y[g].semver!==s.ANY&&y[g].semver.prerelease.length>0){const _=y[g].semver;if(_.major===o.major&&_.minor===o.minor&&_.patch===o.patch)return!0}return!1}return!0};return Oi}var $i,Ya;function ni(){if(Ya)return $i;Ya=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(p,f){if(f=r(f),p instanceof t){if(p.loose===!!f.loose)return p;p=p.value}p=p.trim().split(/\s+/).join(" "),a("comparator",p,f),this.options=f,this.loose=!!f.loose,this.parse(p),this.semver===e?this.value="":this.value=this.operator+this.semver.version,a("comp",this)}parse(p){const f=this.options.loose?n[s.COMPARATORLOOSE]:n[s.COMPARATOR],m=p.match(f);if(!m)throw new TypeError(`Invalid comparator: ${p}`);this.operator=m[1]!==void 0?m[1]:"",this.operator==="="&&(this.operator=""),m[2]?this.semver=new c(m[2],this.options.loose):this.semver=e}toString(){return this.value}test(p){if(a("Comparator.test",p,this.options.loose),this.semver===e||p===e)return!0;if(typeof p=="string")try{p=new c(p,this.options)}catch{return!1}return i(p,this.operator,this.semver,this.options)}intersects(p,f){if(!(p instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new d(p.value,f).test(this.value):p.operator===""?p.value===""?!0:new d(this.value,f).test(p.semver):(f=r(f),f.includePrerelease&&(this.value==="<0.0.0-0"||p.value==="<0.0.0-0")||!f.includePrerelease&&(this.value.startsWith("<0.0.0")||p.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&p.operator.startsWith(">")||this.operator.startsWith("<")&&p.operator.startsWith("<")||this.semver.version===p.semver.version&&this.operator.includes("=")&&p.operator.includes("=")||i(this.semver,"<",p.semver,f)&&this.operator.startsWith(">")&&p.operator.startsWith("<")||i(this.semver,">",p.semver,f)&&this.operator.startsWith("<")&&p.operator.startsWith(">")))}}$i=t;const r=To,{safeRe:n,t:s}=Gn,i=au,a=ti,c=rt,d=vt();return $i}const Hp=vt(),Up=(e,t,r)=>{try{t=new Hp(t,r)}catch{return!1}return t.test(e)};var si=Up;const Vp=vt(),Wp=(e,t)=>new Vp(e,t).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));var zp=Wp;const qp=rt,Jp=vt(),Gp=(e,t,r)=>{let n=null,s=null,i=null;try{i=new Jp(t,r)}catch{return null}return e.forEach(a=>{i.test(a)&&(!n||s.compare(a)===-1)&&(n=a,s=new qp(n,r))}),n};var Zp=Gp;const Qp=rt,Kp=vt(),Xp=(e,t,r)=>{let n=null,s=null,i=null;try{i=new Kp(t,r)}catch{return null}return e.forEach(a=>{i.test(a)&&(!n||s.compare(a)===1)&&(n=a,s=new Qp(n,r))}),n};var Yp=Xp;const Bi=rt,eg=vt(),ec=ri,tg=(e,t)=>{e=new eg(e,t);let r=new Bi("0.0.0");if(e.test(r)||(r=new Bi("0.0.0-0"),e.test(r)))return r;r=null;for(let n=0;n<e.set.length;++n){const s=e.set[n];let i=null;s.forEach(a=>{const c=new Bi(a.semver.version);switch(a.operator){case">":c.prerelease.length===0?c.patch++:c.prerelease.push(0),c.raw=c.format();case"":case">=":(!i||ec(c,i))&&(i=c);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${a.operator}`)}}),i&&(!r||ec(r,i))&&(r=i)}return r&&e.test(r)?r:null};var rg=tg;const ng=vt(),sg=(e,t)=>{try{return new ng(e,t).range||"*"}catch{return null}};var ig=sg;const og=rt,lu=ni(),{ANY:ag}=lu,cg=vt(),lg=si,tc=ri,rc=Oo,ug=Bo,hg=$o,dg=(e,t,r,n)=>{e=new og(e,n),t=new cg(t,n);let s,i,a,c,d;switch(r){case">":s=tc,i=ug,a=rc,c=">",d=">=";break;case"<":s=rc,i=hg,a=tc,c="<",d="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(lg(e,t,n))return!1;for(let u=0;u<t.set.length;++u){const p=t.set[u];let f=null,m=null;if(p.forEach(E=>{E.semver===ag&&(E=new lu(">=0.0.0")),f=f||E,m=m||E,s(E.semver,f.semver,n)?f=E:a(E.semver,m.semver,n)&&(m=E)}),f.operator===c||f.operator===d||(!m.operator||m.operator===c)&&i(e,m.semver))return!1;if(m.operator===d&&a(e,m.semver))return!1}return!0};var Fo=dg;const fg=Fo,pg=(e,t,r)=>fg(e,t,">",r);var gg=pg;const mg=Fo,_g=(e,t,r)=>mg(e,t,"<",r);var vg=_g;const nc=vt(),yg=(e,t,r)=>(e=new nc(e,r),t=new nc(t,r),e.intersects(t,r));var wg=yg;const bg=si,Eg=_t;var Sg=(e,t,r)=>{const n=[];let s=null,i=null;const a=e.sort((p,f)=>Eg(p,f,r));for(const p of a)bg(p,t,r)?(i=p,s||(s=p)):(i&&n.push([s,i]),i=null,s=null);s&&n.push([s,null]);const c=[];for(const[p,f]of n)p===f?c.push(p):!f&&p===a[0]?c.push("*"):f?p===a[0]?c.push(`<=${f}`):c.push(`${p} - ${f}`):c.push(`>=${p}`);const d=c.join(" || "),u=typeof t.raw=="string"?t.raw:String(t);return d.length<u.length?d:t};const sc=vt(),Do=ni(),{ANY:Fi}=Do,yn=si,jo=_t,Cg=(e,t,r={})=>{if(e===t)return!0;e=new sc(e,r),t=new sc(t,r);let n=!1;e:for(const s of e.set){for(const i of t.set){const a=kg(s,i,r);if(n=n||a!==null,a)continue e}if(n)return!1}return!0},Mg=[new Do(">=0.0.0-0")],ic=[new Do(">=0.0.0")],kg=(e,t,r)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===Fi){if(t.length===1&&t[0].semver===Fi)return!0;r.includePrerelease?e=Mg:e=ic}if(t.length===1&&t[0].semver===Fi){if(r.includePrerelease)return!0;t=ic}const n=new Set;let s,i;for(const E of e)E.operator===">"||E.operator===">="?s=oc(s,E,r):E.operator==="<"||E.operator==="<="?i=ac(i,E,r):n.add(E.semver);if(n.size>1)return null;let a;if(s&&i){if(a=jo(s.semver,i.semver,r),a>0)return null;if(a===0&&(s.operator!==">="||i.operator!=="<="))return null}for(const E of n){if(s&&!yn(E,String(s),r)||i&&!yn(E,String(i),r))return null;for(const M of t)if(!yn(E,String(M),r))return!1;return!0}let c,d,u,p,f=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1,m=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1;f&&f.prerelease.length===1&&i.operator==="<"&&f.prerelease[0]===0&&(f=!1);for(const E of t){if(p=p||E.operator===">"||E.operator===">=",u=u||E.operator==="<"||E.operator==="<=",s){if(m&&E.semver.prerelease&&E.semver.prerelease.length&&E.semver.major===m.major&&E.semver.minor===m.minor&&E.semver.patch===m.patch&&(m=!1),E.operator===">"||E.operator===">="){if(c=oc(s,E,r),c===E&&c!==s)return!1}else if(s.operator===">="&&!yn(s.semver,String(E),r))return!1}if(i){if(f&&E.semver.prerelease&&E.semver.prerelease.length&&E.semver.major===f.major&&E.semver.minor===f.minor&&E.semver.patch===f.patch&&(f=!1),E.operator==="<"||E.operator==="<="){if(d=ac(i,E,r),d===E&&d!==i)return!1}else if(i.operator==="<="&&!yn(i.semver,String(E),r))return!1}if(!E.operator&&(i||s)&&a!==0)return!1}return!(s&&u&&!i&&a!==0||i&&p&&!s&&a!==0||m||f)},oc=(e,t,r)=>{if(!e)return t;const n=jo(e.semver,t.semver,r);return n>0?e:n<0||t.operator===">"&&e.operator===">="?t:e},ac=(e,t,r)=>{if(!e)return t;const n=jo(e.semver,t.semver,r);return n<0?e:n>0||t.operator==="<"&&e.operator==="<="?t:e};var Rg=Cg;const Di=Gn,cc=ei,Ig=rt,lc=su,Ag=un,xg=A1,Ng=L1,Lg=P1,Tg=$1,Pg=D1,Og=U1,$g=z1,Bg=G1,Fg=_t,Dg=X1,jg=tp,Hg=Po,Ug=ip,Vg=cp,Wg=ri,zg=Oo,qg=iu,Jg=ou,Gg=$o,Zg=Bo,Qg=au,Kg=Np,Xg=ni(),Yg=vt(),em=si,tm=zp,rm=Zp,nm=Yp,sm=rg,im=ig,om=Fo,am=gg,cm=vg,lm=wg,um=Sg,hm=Rg;var dm={parse:Ag,valid:xg,clean:Ng,inc:Lg,diff:Tg,major:Pg,minor:Og,patch:$g,prerelease:Bg,compare:Fg,rcompare:Dg,compareLoose:jg,compareBuild:Hg,sort:Ug,rsort:Vg,gt:Wg,lt:zg,eq:qg,neq:Jg,gte:Gg,lte:Zg,cmp:Qg,coerce:Kg,Comparator:Xg,Range:Yg,satisfies:em,toComparators:tm,maxSatisfying:rm,minSatisfying:nm,minVersion:sm,validRange:im,outside:om,gtr:am,ltr:cm,intersects:lm,simplifyRange:um,subset:hm,SemVer:Ig,re:Di.re,src:Di.src,tokens:Di.t,SEMVER_SPEC_VERSION:cc.SEMVER_SPEC_VERSION,RELEASE_TYPES:cc.RELEASE_TYPES,compareIdentifiers:lc.compareIdentifiers,rcompareIdentifiers:lc.rcompareIdentifiers};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.satisfiesVersionRange=e.gtRange=e.gtVersion=e.assertIsSemVerRange=e.assertIsSemVerVersion=e.isValidSemVerRange=e.isValidSemVerVersion=e.VersionRangeStruct=e.VersionStruct=void 0;const t=dm,r=wr,n=Xe;e.VersionStruct=(0,r.refine)((0,r.string)(),"Version",f=>(0,t.valid)(f)===null?`Expected SemVer version, got "${f}"`:!0),e.VersionRangeStruct=(0,r.refine)((0,r.string)(),"Version range",f=>(0,t.validRange)(f)===null?`Expected SemVer range, got "${f}"`:!0);function s(f){return(0,r.is)(f,e.VersionStruct)}e.isValidSemVerVersion=s;function i(f){return(0,r.is)(f,e.VersionRangeStruct)}e.isValidSemVerRange=i;function a(f){(0,n.assertStruct)(f,e.VersionStruct)}e.assertIsSemVerVersion=a;function c(f){(0,n.assertStruct)(f,e.VersionRangeStruct)}e.assertIsSemVerRange=c;function d(f,m){return(0,t.gt)(f,m)}e.gtVersion=d;function u(f,m){return(0,t.gtr)(f,m)}e.gtRange=u;function p(f,m){return(0,t.satisfies)(f,m,{includePrerelease:!0})}e.satisfiesVersionRange=p})(tu);(function(e){var t=$&&$.__createBinding||(Object.create?function(n,s,i,a){a===void 0&&(a=i);var c=Object.getOwnPropertyDescriptor(s,i);(!c||("get"in c?!s.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(n,a,c)}:function(n,s,i,a){a===void 0&&(a=i),n[a]=s[i]}),r=$&&$.__exportStar||function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&t(s,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(Xe,e),r(qn,e),r(J,e),r(Xs,e),r(kt,e),r(Xr,e),r(Gl,e),r(Jn,e),r(Zl,e),r(Ql,e),r(Yr,e),r(Kl,e),r(Rt,e),r(Xl,e),r(Yl,e),r(eu,e),r(tu,e)})(Al);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createModuleLogger=e.projectLogger=void 0;const t=Al;Object.defineProperty(e,"createModuleLogger",{enumerable:!0,get:function(){return t.createModuleLogger}}),e.projectLogger=(0,t.createProjectLogger)("eth-block-tracker")})(Il);var uu=$&&$.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qs,"__esModule",{value:!0});Qs.PollingBlockTracker=void 0;const fm=uu(Co),pm=uu(Lf),gm=Un,uc=Il,hc=(0,uc.createModuleLogger)(uc.projectLogger,"polling-block-tracker"),mm=(0,fm.default)(),_m=1e3;class vm extends gm.BaseBlockTracker{constructor(t={}){var r;if(!t.provider)throw new Error("PollingBlockTracker - no provider specified.");super(Object.assign(Object.assign({},t),{blockResetDuration:(r=t.blockResetDuration)!==null&&r!==void 0?r:t.pollingInterval})),this._provider=t.provider,this._pollingInterval=t.pollingInterval||20*_m,this._retryTimeout=t.retryTimeout||this._pollingInterval/10,this._keepEventLoopActive=t.keepEventLoopActive===void 0?!0:t.keepEventLoopActive,this._setSkipCacheFlag=t.setSkipCacheFlag||!1}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}async _start(){this._synchronize()}async _end(){}async _synchronize(){for(var t;this._isRunning;)try{await this._updateLatestBlock();const r=dc(this._pollingInterval,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await r}catch(r){const n=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:
${(t=r.stack)!==null&&t!==void 0?t:r}`);try{this.emit("error",n)}catch{console.error(n)}const s=dc(this._retryTimeout,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await s}}async _updateLatestBlock(){const t=await this._fetchLatestBlock();this._newPotentialLatest(t)}async _fetchLatestBlock(){const t={jsonrpc:"2.0",id:mm(),method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(t.skipCache=!0),hc("Making request",t);const r=await(0,pm.default)(n=>this._provider.sendAsync(t,n))();if(hc("Got response",r),r.error)throw new Error(`PollingBlockTracker - encountered error fetching block:
${r.error.message}`);return r.result}}Qs.PollingBlockTracker=vm;function dc(e,t){return new Promise(r=>{const n=setTimeout(r,e);n.unref&&t&&n.unref()})}var ii={},ym=$&&$.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ii,"__esModule",{value:!0});ii.SubscribeBlockTracker=void 0;const wm=ym(Co),bm=Un,Em=(0,wm.default)();class Sm extends bm.BaseBlockTracker{constructor(t={}){if(!t.provider)throw new Error("SubscribeBlockTracker - no provider specified.");super(t),this._provider=t.provider,this._subscriptionId=null}async checkForLatestBlock(){return await this.getLatestBlock()}async _start(){if(this._subscriptionId===void 0||this._subscriptionId===null)try{const t=await this._call("eth_blockNumber");this._subscriptionId=await this._call("eth_subscribe","newHeads"),this._provider.on("data",this._handleSubData.bind(this)),this._newPotentialLatest(t)}catch(t){this.emit("error",t)}}async _end(){if(this._subscriptionId!==null&&this._subscriptionId!==void 0)try{await this._call("eth_unsubscribe",this._subscriptionId),this._subscriptionId=null}catch(t){this.emit("error",t)}}_call(t,...r){return new Promise((n,s)=>{this._provider.sendAsync({id:Em(),method:t,params:r,jsonrpc:"2.0"},(i,a)=>{i?s(i):n(a.result)})})}_handleSubData(t,r){var n;r.method==="eth_subscription"&&((n=r.params)===null||n===void 0?void 0:n.subscription)===this._subscriptionId&&this._newPotentialLatest(r.params.result.number)}}ii.SubscribeBlockTracker=Sm;(function(e){var t=$&&$.__createBinding||(Object.create?function(n,s,i,a){a===void 0&&(a=i),Object.defineProperty(n,a,{enumerable:!0,get:function(){return s[i]}})}:function(n,s,i,a){a===void 0&&(a=i),n[a]=s[i]}),r=$&&$.__exportStar||function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&t(s,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(Qs,e),r(ii,e)})(Rl);var Ho={},oi={},Zn={};Object.defineProperty(Zn,"__esModule",{value:!0});Zn.getUniqueId=void 0;const hu=4294967295;let ji=Math.floor(Math.random()*hu);function Cm(){return ji=(ji+1)%hu,ji}Zn.getUniqueId=Cm;Object.defineProperty(oi,"__esModule",{value:!0});oi.createIdRemapMiddleware=void 0;const Mm=Zn;function km(){return(e,t,r,n)=>{const s=e.id,i=Mm.getUniqueId();e.id=i,t.id=i,r(a=>{e.id=s,t.id=s,a()})}}oi.createIdRemapMiddleware=km;var ai={};Object.defineProperty(ai,"__esModule",{value:!0});ai.createAsyncMiddleware=void 0;function Rm(e){return async(t,r,n,s)=>{let i;const a=new Promise(p=>{i=p});let c=null,d=!1;const u=async()=>{d=!0,n(p=>{c=p,i()}),await a};try{await e(t,r,u),d?(await a,c(null)):s(null)}catch(p){c?c(p):s(p)}}}ai.createAsyncMiddleware=Rm;var ci={};Object.defineProperty(ci,"__esModule",{value:!0});ci.createScaffoldMiddleware=void 0;function Im(e){return(t,r,n,s)=>{const i=e[t.method];return i===void 0?n():typeof i=="function"?i(t,r,n,s):(r.result=i,s())}}ci.createScaffoldMiddleware=Im;var Qn={},Uo={};Object.defineProperty(Uo,"__esModule",{value:!0});const Am=Rc;function fc(e,t,r){try{Reflect.apply(e,t,r)}catch(n){setTimeout(()=>{throw n})}}function xm(e){const t=e.length,r=new Array(t);for(let n=0;n<t;n+=1)r[n]=e[n];return r}let Nm=class extends Am.EventEmitter{emit(t,...r){let n=t==="error";const s=this._events;if(s!==void 0)n=n&&s.error===void 0;else if(!n)return!1;if(n){let a;if(r.length>0&&([a]=r),a instanceof Error)throw a;const c=new Error(`Unhandled error.${a?` (${a.message})`:""}`);throw c.context=a,c}const i=s[t];if(i===void 0)return!1;if(typeof i=="function")fc(i,this,r);else{const a=i.length,c=xm(i);for(let d=0;d<a;d+=1)fc(c[d],this,r)}return!0}};Uo.default=Nm;var du={},Dt={},Lm=An;An.default=An;An.stable=gu;An.stableStringify=gu;var ys="[...]",fu="[Circular]",mr=[],hr=[];function pu(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function An(e,t,r,n){typeof n>"u"&&(n=pu()),no(e,"",0,[],void 0,0,n);var s;try{hr.length===0?s=JSON.stringify(e,t,r):s=JSON.stringify(e,mu(t),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;mr.length!==0;){var i=mr.pop();i.length===4?Object.defineProperty(i[0],i[1],i[3]):i[0][i[1]]=i[2]}}return s}function qr(e,t,r,n){var s=Object.getOwnPropertyDescriptor(n,r);s.get!==void 0?s.configurable?(Object.defineProperty(n,r,{value:e}),mr.push([n,r,t,s])):hr.push([t,r,e]):(n[r]=e,mr.push([n,r,t]))}function no(e,t,r,n,s,i,a){i+=1;var c;if(typeof e=="object"&&e!==null){for(c=0;c<n.length;c++)if(n[c]===e){qr(fu,e,t,s);return}if(typeof a.depthLimit<"u"&&i>a.depthLimit){qr(ys,e,t,s);return}if(typeof a.edgesLimit<"u"&&r+1>a.edgesLimit){qr(ys,e,t,s);return}if(n.push(e),Array.isArray(e))for(c=0;c<e.length;c++)no(e[c],c,c,n,e,i,a);else{var d=Object.keys(e);for(c=0;c<d.length;c++){var u=d[c];no(e[u],u,c,n,e,i,a)}}n.pop()}}function Tm(e,t){return e<t?-1:e>t?1:0}function gu(e,t,r,n){typeof n>"u"&&(n=pu());var s=so(e,"",0,[],void 0,0,n)||e,i;try{hr.length===0?i=JSON.stringify(s,t,r):i=JSON.stringify(s,mu(t),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;mr.length!==0;){var a=mr.pop();a.length===4?Object.defineProperty(a[0],a[1],a[3]):a[0][a[1]]=a[2]}}return i}function so(e,t,r,n,s,i,a){i+=1;var c;if(typeof e=="object"&&e!==null){for(c=0;c<n.length;c++)if(n[c]===e){qr(fu,e,t,s);return}try{if(typeof e.toJSON=="function")return}catch{return}if(typeof a.depthLimit<"u"&&i>a.depthLimit){qr(ys,e,t,s);return}if(typeof a.edgesLimit<"u"&&r+1>a.edgesLimit){qr(ys,e,t,s);return}if(n.push(e),Array.isArray(e))for(c=0;c<e.length;c++)so(e[c],c,c,n,e,i,a);else{var d={},u=Object.keys(e).sort(Tm);for(c=0;c<u.length;c++){var p=u[c];so(e[p],p,c,n,e,i,a),d[p]=e[p]}if(typeof s<"u")mr.push([s,t,e]),s[t]=d;else return d}n.pop()}}function mu(e){return e=typeof e<"u"?e:function(t,r){return r},function(t,r){if(hr.length>0)for(var n=0;n<hr.length;n++){var s=hr[n];if(s[1]===t&&s[0]===r){r=s[2],hr.splice(n,1);break}}return e.call(this,t,r)}}Object.defineProperty(Dt,"__esModule",{value:!0});Dt.EthereumProviderError=Dt.EthereumRpcError=void 0;const Pm=Lm;class _u extends Error{constructor(t,r,n){if(!Number.isInteger(t))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=t,n!==void 0&&(this.data=n)}serialize(){const t={code:this.code,message:this.message};return this.data!==void 0&&(t.data=this.data),this.stack&&(t.stack=this.stack),t}toString(){return Pm.default(this.serialize(),Bm,2)}}Dt.EthereumRpcError=_u;class Om extends _u{constructor(t,r,n){if(!$m(t))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(t,r,n)}}Dt.EthereumProviderError=Om;function $m(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}function Bm(e,t){if(t!=="[Circular]")return t}var Vo={},jt={};Object.defineProperty(jt,"__esModule",{value:!0});jt.errorValues=jt.errorCodes=void 0;jt.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};jt.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.serializeError=e.isValidCode=e.getMessageFromCode=e.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const t=jt,r=Dt,n=t.errorCodes.rpc.internal,s="Unspecified error message. This is a bug, please report it.",i={code:n,message:a(n)};e.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function a(m,E=s){if(Number.isInteger(m)){const M=m.toString();if(f(t.errorValues,M))return t.errorValues[M].message;if(u(m))return e.JSON_RPC_SERVER_ERROR_MESSAGE}return E}e.getMessageFromCode=a;function c(m){if(!Number.isInteger(m))return!1;const E=m.toString();return!!(t.errorValues[E]||u(m))}e.isValidCode=c;function d(m,{fallbackError:E=i,shouldIncludeStack:M=!1}={}){var x,k;if(!E||!Number.isInteger(E.code)||typeof E.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(m instanceof r.EthereumRpcError)return m.serialize();const I={};if(m&&typeof m=="object"&&!Array.isArray(m)&&f(m,"code")&&c(m.code)){const A=m;I.code=A.code,A.message&&typeof A.message=="string"?(I.message=A.message,f(A,"data")&&(I.data=A.data)):(I.message=a(I.code),I.data={originalError:p(m)})}else{I.code=E.code;const A=(x=m)===null||x===void 0?void 0:x.message;I.message=A&&typeof A=="string"?A:E.message,I.data={originalError:p(m)}}const R=(k=m)===null||k===void 0?void 0:k.stack;return M&&m&&R&&typeof R=="string"&&(I.stack=R),I}e.serializeError=d;function u(m){return m>=-32099&&m<=-32e3}function p(m){return m&&typeof m=="object"&&!Array.isArray(m)?Object.assign({},m):m}function f(m,E){return Object.prototype.hasOwnProperty.call(m,E)}})(Vo);var li={};Object.defineProperty(li,"__esModule",{value:!0});li.ethErrors=void 0;const Wo=Dt,vu=Vo,Ye=jt;li.ethErrors={rpc:{parse:e=>lt(Ye.errorCodes.rpc.parse,e),invalidRequest:e=>lt(Ye.errorCodes.rpc.invalidRequest,e),invalidParams:e=>lt(Ye.errorCodes.rpc.invalidParams,e),methodNotFound:e=>lt(Ye.errorCodes.rpc.methodNotFound,e),internal:e=>lt(Ye.errorCodes.rpc.internal,e),server:e=>{if(!e||typeof e!="object"||Array.isArray(e))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return lt(t,e)},invalidInput:e=>lt(Ye.errorCodes.rpc.invalidInput,e),resourceNotFound:e=>lt(Ye.errorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>lt(Ye.errorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>lt(Ye.errorCodes.rpc.transactionRejected,e),methodNotSupported:e=>lt(Ye.errorCodes.rpc.methodNotSupported,e),limitExceeded:e=>lt(Ye.errorCodes.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>wn(Ye.errorCodes.provider.userRejectedRequest,e),unauthorized:e=>wn(Ye.errorCodes.provider.unauthorized,e),unsupportedMethod:e=>wn(Ye.errorCodes.provider.unsupportedMethod,e),disconnected:e=>wn(Ye.errorCodes.provider.disconnected,e),chainDisconnected:e=>wn(Ye.errorCodes.provider.chainDisconnected,e),custom:e=>{if(!e||typeof e!="object"||Array.isArray(e))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:t,message:r,data:n}=e;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new Wo.EthereumProviderError(t,r,n)}}};function lt(e,t){const[r,n]=yu(t);return new Wo.EthereumRpcError(e,r||vu.getMessageFromCode(e),n)}function wn(e,t){const[r,n]=yu(t);return new Wo.EthereumProviderError(e,r||vu.getMessageFromCode(e),n)}function yu(e){if(e){if(typeof e=="string")return[e];if(typeof e=="object"&&!Array.isArray(e)){const{message:t,data:r}=e;if(t&&typeof t!="string")throw new Error("Must specify string message.");return[t||void 0,r]}}return[]}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getMessageFromCode=e.serializeError=e.EthereumProviderError=e.EthereumRpcError=e.ethErrors=e.errorCodes=void 0;const t=Dt;Object.defineProperty(e,"EthereumRpcError",{enumerable:!0,get:function(){return t.EthereumRpcError}}),Object.defineProperty(e,"EthereumProviderError",{enumerable:!0,get:function(){return t.EthereumProviderError}});const r=Vo;Object.defineProperty(e,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(e,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=li;Object.defineProperty(e,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const s=jt;Object.defineProperty(e,"errorCodes",{enumerable:!0,get:function(){return s.errorCodes}})})(du);var Fm=$&&$.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qn,"__esModule",{value:!0});Qn.JsonRpcEngine=void 0;const Dm=Fm(Uo),ut=du;class At extends Dm.default{constructor(){super(),this._middleware=[]}push(t){this._middleware.push(t)}handle(t,r){if(r&&typeof r!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(t)?r?this._handleBatch(t,r):this._handleBatch(t):r?this._handle(t,r):this._promiseHandle(t)}asMiddleware(){return async(t,r,n,s)=>{try{const[i,a,c]=await At._runAllMiddleware(t,r,this._middleware);return a?(await At._runReturnHandlers(c),s(i)):n(async d=>{try{await At._runReturnHandlers(c)}catch(u){return d(u)}return d()})}catch(i){return s(i)}}}async _handleBatch(t,r){try{const n=await Promise.all(t.map(this._promiseHandle.bind(this)));return r?r(null,n):n}catch(n){if(r)return r(n);throw n}}_promiseHandle(t){return new Promise(r=>{this._handle(t,(n,s)=>{r(s)})})}async _handle(t,r){if(!t||Array.isArray(t)||typeof t!="object"){const a=new ut.EthereumRpcError(ut.errorCodes.rpc.invalidRequest,`Requests must be plain objects. Received: ${typeof t}`,{request:t});return r(a,{id:void 0,jsonrpc:"2.0",error:a})}if(typeof t.method!="string"){const a=new ut.EthereumRpcError(ut.errorCodes.rpc.invalidRequest,`Must specify a string method. Received: ${typeof t.method}`,{request:t});return r(a,{id:t.id,jsonrpc:"2.0",error:a})}const n=Object.assign({},t),s={id:n.id,jsonrpc:n.jsonrpc};let i=null;try{await this._processRequest(n,s)}catch(a){i=a}return i&&(delete s.result,s.error||(s.error=ut.serializeError(i))),r(i,s)}async _processRequest(t,r){const[n,s,i]=await At._runAllMiddleware(t,r,this._middleware);if(At._checkForCompletion(t,r,s),await At._runReturnHandlers(i),n)throw n}static async _runAllMiddleware(t,r,n){const s=[];let i=null,a=!1;for(const c of n)if([i,a]=await At._runMiddleware(t,r,c,s),a)break;return[i,a,s.reverse()]}static _runMiddleware(t,r,n,s){return new Promise(i=>{const a=d=>{const u=d||r.error;u&&(r.error=ut.serializeError(u)),i([u,!0])},c=d=>{r.error?a(r.error):(d&&(typeof d!="function"&&a(new ut.EthereumRpcError(ut.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof d}" for request:
${Hi(t)}`,{request:t})),s.push(d)),i([null,!1]))};try{n(t,r,c,a)}catch(d){a(d)}})}static async _runReturnHandlers(t){for(const r of t)await new Promise((n,s)=>{r(i=>i?s(i):n())})}static _checkForCompletion(t,r,n){if(!("result"in r)&&!("error"in r))throw new ut.EthereumRpcError(ut.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:
${Hi(t)}`,{request:t});if(!n)throw new ut.EthereumRpcError(ut.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:
${Hi(t)}`,{request:t})}}Qn.JsonRpcEngine=At;function Hi(e){return JSON.stringify(e,null,2)}var ui={};Object.defineProperty(ui,"__esModule",{value:!0});ui.mergeMiddleware=void 0;const jm=Qn;function Hm(e){const t=new jm.JsonRpcEngine;return e.forEach(r=>t.push(r)),t.asMiddleware()}ui.mergeMiddleware=Hm;(function(e){var t=$&&$.__createBinding||(Object.create?function(n,s,i,a){a===void 0&&(a=i),Object.defineProperty(n,a,{enumerable:!0,get:function(){return s[i]}})}:function(n,s,i,a){a===void 0&&(a=i),n[a]=s[i]}),r=$&&$.__exportStar||function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&t(s,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(oi,e),r(ai,e),r(ci,e),r(Zn,e),r(Qn,e),r(ui,e)})(Ho);var wu={},zo={},io=function(e,t){return io=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},io(e,t)};function bu(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");io(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var ws=function(){return ws=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},ws.apply(this,arguments)};function Eu(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function Su(e,t,r,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(i=(s<3?a(i):s>3?a(t,r,i):a(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i}function Cu(e,t){return function(r,n){t(r,n,e)}}function Um(e,t,r,n,s,i){function a(I){if(I!==void 0&&typeof I!="function")throw new TypeError("Function expected");return I}for(var c=n.kind,d=c==="getter"?"get":c==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,p=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),f,m=!1,E=r.length-1;E>=0;E--){var M={};for(var x in n)M[x]=x==="access"?{}:n[x];for(var x in n.access)M.access[x]=n.access[x];M.addInitializer=function(I){if(m)throw new TypeError("Cannot add initializers after decoration has completed");i.push(a(I||null))};var k=(0,r[E])(c==="accessor"?{get:p.get,set:p.set}:p[d],M);if(c==="accessor"){if(k===void 0)continue;if(k===null||typeof k!="object")throw new TypeError("Object expected");(f=a(k.get))&&(p.get=f),(f=a(k.set))&&(p.set=f),(f=a(k.init))&&s.unshift(f)}else(f=a(k))&&(c==="field"?s.unshift(f):p[d]=f)}u&&Object.defineProperty(u,n.name,p),m=!0}function Vm(e,t,r){for(var n=arguments.length>2,s=0;s<t.length;s++)r=n?t[s].call(e,r):t[s].call(e);return n?r:void 0}function Wm(e){return typeof e=="symbol"?e:"".concat(e)}function zm(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function Mu(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function ku(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function c(p){try{u(n.next(p))}catch(f){a(f)}}function d(p){try{u(n.throw(p))}catch(f){a(f)}}function u(p){p.done?i(p.value):s(p.value).then(c,d)}u((n=n.apply(e,t||[])).next())})}function Ru(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(u){return function(p){return d([u,p])}}function d(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(r=0)),r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(p){u=[6,p],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var hi=Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function Iu(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&hi(t,e,r)}function bs(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function qo(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,i=[],a;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(c){a={error:c}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i}function Au(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(qo(arguments[t]));return e}function xu(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var i=arguments[t],a=0,c=i.length;a<c;a++,s++)n[s]=i[a];return n}function Nu(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function en(e){return this instanceof en?(this.v=e,this):new en(e)}function Lu(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,i=[];return s={},a("next"),a("throw"),a("return"),s[Symbol.asyncIterator]=function(){return this},s;function a(m){n[m]&&(s[m]=function(E){return new Promise(function(M,x){i.push([m,E,M,x])>1||c(m,E)})})}function c(m,E){try{d(n[m](E))}catch(M){f(i[0][3],M)}}function d(m){m.value instanceof en?Promise.resolve(m.value.v).then(u,p):f(i[0][2],m)}function u(m){c("next",m)}function p(m){c("throw",m)}function f(m,E){m(E),i.shift(),i.length&&c(i[0][0],i[0][1])}}function Tu(e){var t,r;return t={},n("next"),n("throw",function(s){throw s}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(s,i){t[s]=e[s]?function(a){return(r=!r)?{value:en(e[s](a)),done:!1}:i?i(a):a}:i}}function Pu(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof bs=="function"?bs(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(a){return new Promise(function(c,d){a=e[i](a),s(c,d,a.done,a.value)})}}function s(i,a,c,d){Promise.resolve(d).then(function(u){i({value:u,done:c})},a)}}function Ou(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var qm=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function $u(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&hi(t,e,r);return qm(t,e),t}function Bu(e){return e&&e.__esModule?e:{default:e}}function Fu(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function Du(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r}function ju(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function Hu(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose]}if(typeof n!="function")throw new TypeError("Object not disposable.");e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var Jm=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function Uu(e){function t(n){e.error=e.hasError?new Jm(n,e.error,"An error was suppressed during disposal."):n,e.hasError=!0}function r(){for(;e.stack.length;){var n=e.stack.pop();try{var s=n.dispose&&n.dispose.call(n.value);if(n.async)return Promise.resolve(s).then(r,function(i){return t(i),r()})}catch(i){t(i)}}if(e.hasError)throw e.error}return r()}const Gm={__extends:bu,__assign:ws,__rest:Eu,__decorate:Su,__param:Cu,__metadata:Mu,__awaiter:ku,__generator:Ru,__createBinding:hi,__exportStar:Iu,__values:bs,__read:qo,__spread:Au,__spreadArrays:xu,__spreadArray:Nu,__await:en,__asyncGenerator:Lu,__asyncDelegator:Tu,__asyncValues:Pu,__makeTemplateObject:Ou,__importStar:$u,__importDefault:Bu,__classPrivateFieldGet:Fu,__classPrivateFieldSet:Du,__classPrivateFieldIn:ju,__addDisposableResource:Hu,__disposeResources:Uu},Zm=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Hu,get __assign(){return ws},__asyncDelegator:Tu,__asyncGenerator:Lu,__asyncValues:Pu,__await:en,__awaiter:ku,__classPrivateFieldGet:Fu,__classPrivateFieldIn:ju,__classPrivateFieldSet:Du,__createBinding:hi,__decorate:Su,__disposeResources:Uu,__esDecorate:Um,__exportStar:Iu,__extends:bu,__generator:Ru,__importDefault:Bu,__importStar:$u,__makeTemplateObject:Ou,__metadata:Mu,__param:Cu,__propKey:Wm,__read:qo,__rest:Eu,__runInitializers:Vm,__setFunctionName:zm,__spread:Au,__spreadArray:Nu,__spreadArrays:xu,__values:bs,default:Gm},Symbol.toStringTag,{value:"Module"})),Jo=tn(Zm);var di={};Object.defineProperty(di,"__esModule",{value:!0});var pc=Jo,Qm=function(){function e(t){if(this._maxConcurrency=t,this._queue=[],t<=0)throw new Error("semaphore must be initialized to a positive value");this._value=t}return e.prototype.acquire=function(){var t=this,r=this.isLocked(),n=new Promise(function(s){return t._queue.push(s)});return r||this._dispatch(),n},e.prototype.runExclusive=function(t){return pc.__awaiter(this,void 0,void 0,function(){var r,n,s;return pc.__generator(this,function(i){switch(i.label){case 0:return[4,this.acquire()];case 1:r=i.sent(),n=r[0],s=r[1],i.label=2;case 2:return i.trys.push([2,,4,5]),[4,t(n)];case 3:return[2,i.sent()];case 4:return s(),[7];case 5:return[2]}})})},e.prototype.isLocked=function(){return this._value<=0},e.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var t=this._currentReleaser;this._currentReleaser=void 0,t()}},e.prototype._dispatch=function(){var t=this,r=this._queue.shift();if(r){var n=!1;this._currentReleaser=function(){n||(n=!0,t._value++,t._dispatch())},r([this._value--,this._currentReleaser])}},e}();di.default=Qm;Object.defineProperty(zo,"__esModule",{value:!0});var gc=Jo,Km=di,Xm=function(){function e(){this._semaphore=new Km.default(1)}return e.prototype.acquire=function(){return gc.__awaiter(this,void 0,void 0,function(){var t,r;return gc.__generator(this,function(n){switch(n.label){case 0:return[4,this._semaphore.acquire()];case 1:return t=n.sent(),r=t[1],[2,r]}})})},e.prototype.runExclusive=function(t){return this._semaphore.runExclusive(function(){return t()})},e.prototype.isLocked=function(){return this._semaphore.isLocked()},e.prototype.release=function(){this._semaphore.release()},e}();zo.default=Xm;var fi={};Object.defineProperty(fi,"__esModule",{value:!0});fi.withTimeout=void 0;var us=Jo;function Ym(e,t,r){var n=this;return r===void 0&&(r=new Error("timeout")),{acquire:function(){return new Promise(function(s,i){return us.__awaiter(n,void 0,void 0,function(){var a,c,d;return us.__generator(this,function(u){switch(u.label){case 0:return a=!1,setTimeout(function(){a=!0,i(r)},t),[4,e.acquire()];case 1:return c=u.sent(),a?(d=Array.isArray(c)?c[1]:c,d()):s(c),[2]}})})})},runExclusive:function(s){return us.__awaiter(this,void 0,void 0,function(){var i,a;return us.__generator(this,function(c){switch(c.label){case 0:i=function(){},c.label=1;case 1:return c.trys.push([1,,7,8]),[4,this.acquire()];case 2:return a=c.sent(),Array.isArray(a)?(i=a[1],[4,s(a[0])]):[3,4];case 3:return[2,c.sent()];case 4:return i=a,[4,s()];case 5:return[2,c.sent()];case 6:return[3,8];case 7:return i(),[7];case 8:return[2]}})})},release:function(){e.release()},isLocked:function(){return e.isLocked()}}}fi.withTimeout=Ym;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.withTimeout=e.Semaphore=e.Mutex=void 0;var t=zo;Object.defineProperty(e,"Mutex",{enumerable:!0,get:function(){return t.default}});var r=di;Object.defineProperty(e,"Semaphore",{enumerable:!0,get:function(){return r.default}});var n=fi;Object.defineProperty(e,"withTimeout",{enumerable:!0,get:function(){return n.withTimeout}})})(wu);var e_=r_,t_=Object.prototype.hasOwnProperty;function r_(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];for(var n in r)t_.call(r,n)&&(e[n]=r[n])}return e}const n_=e_,s_=Co();var i_=F;function F(e){const t=this;t.currentProvider=e}F.prototype.getBalance=Kn(2,"eth_getBalance");F.prototype.getCode=Kn(2,"eth_getCode");F.prototype.getTransactionCount=Kn(2,"eth_getTransactionCount");F.prototype.getStorageAt=Kn(3,"eth_getStorageAt");F.prototype.call=Kn(2,"eth_call");F.prototype.protocolVersion=U("eth_protocolVersion");F.prototype.syncing=U("eth_syncing");F.prototype.coinbase=U("eth_coinbase");F.prototype.mining=U("eth_mining");F.prototype.hashrate=U("eth_hashrate");F.prototype.gasPrice=U("eth_gasPrice");F.prototype.accounts=U("eth_accounts");F.prototype.blockNumber=U("eth_blockNumber");F.prototype.getBlockTransactionCountByHash=U("eth_getBlockTransactionCountByHash");F.prototype.getBlockTransactionCountByNumber=U("eth_getBlockTransactionCountByNumber");F.prototype.getUncleCountByBlockHash=U("eth_getUncleCountByBlockHash");F.prototype.getUncleCountByBlockNumber=U("eth_getUncleCountByBlockNumber");F.prototype.sign=U("eth_sign");F.prototype.sendTransaction=U("eth_sendTransaction");F.prototype.sendRawTransaction=U("eth_sendRawTransaction");F.prototype.estimateGas=U("eth_estimateGas");F.prototype.getBlockByHash=U("eth_getBlockByHash");F.prototype.getBlockByNumber=U("eth_getBlockByNumber");F.prototype.getTransactionByHash=U("eth_getTransactionByHash");F.prototype.getTransactionByBlockHashAndIndex=U("eth_getTransactionByBlockHashAndIndex");F.prototype.getTransactionByBlockNumberAndIndex=U("eth_getTransactionByBlockNumberAndIndex");F.prototype.getTransactionReceipt=U("eth_getTransactionReceipt");F.prototype.getUncleByBlockHashAndIndex=U("eth_getUncleByBlockHashAndIndex");F.prototype.getUncleByBlockNumberAndIndex=U("eth_getUncleByBlockNumberAndIndex");F.prototype.getCompilers=U("eth_getCompilers");F.prototype.compileLLL=U("eth_compileLLL");F.prototype.compileSolidity=U("eth_compileSolidity");F.prototype.compileSerpent=U("eth_compileSerpent");F.prototype.newFilter=U("eth_newFilter");F.prototype.newBlockFilter=U("eth_newBlockFilter");F.prototype.newPendingTransactionFilter=U("eth_newPendingTransactionFilter");F.prototype.uninstallFilter=U("eth_uninstallFilter");F.prototype.getFilterChanges=U("eth_getFilterChanges");F.prototype.getFilterLogs=U("eth_getFilterLogs");F.prototype.getLogs=U("eth_getLogs");F.prototype.getWork=U("eth_getWork");F.prototype.submitWork=U("eth_submitWork");F.prototype.submitHashrate=U("eth_submitHashrate");F.prototype.sendAsync=function(e,t){this.currentProvider.sendAsync(o_(e),function(n,s){if(!n&&s.error&&(n=new Error("EthQuery - RPC Error - "+s.error.message)),n)return t(n);t(null,s.result)})};function U(e){return function(){const t=this;var r=[].slice.call(arguments),n=r.pop();t.sendAsync({method:e,params:r},n)}}function Kn(e,t){return function(){const r=this;var n=[].slice.call(arguments),s=n.pop();n.length<e&&n.push("latest"),r.sendAsync({method:t,params:n},s)}}function o_(e){return n_({id:s_(),jsonrpc:"2.0",params:[]},e)}const mc=(e,t,r,n)=>function(...s){const i=t.promiseModule;return new i((a,c)=>{t.multiArgs?s.push((...u)=>{t.errorFirst?u[0]?c(u):(u.shift(),a(u)):a(u)}):t.errorFirst?s.push((u,p)=>{u?c(u):a(p)}):s.push(a),Reflect.apply(e,this===r?n:this,s)})},_c=new WeakMap;var a_=(e,t)=>{t={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...t};const r=typeof e;if(!(e!==null&&(r==="object"||r==="function")))throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${e===null?"null":r}\``);const n=(a,c)=>{let d=_c.get(a);if(d||(d={},_c.set(a,d)),c in d)return d[c];const u=M=>typeof M=="string"||typeof c=="symbol"?c===M:M.test(c),p=Reflect.getOwnPropertyDescriptor(a,c),f=p===void 0||p.writable||p.configurable,E=(t.include?t.include.some(u):!t.exclude.some(u))&&f;return d[c]=E,E},s=new WeakMap,i=new Proxy(e,{apply(a,c,d){const u=s.get(a);if(u)return Reflect.apply(u,c,d);const p=t.excludeMain?a:mc(a,t,i,a);return s.set(a,p),Reflect.apply(p,c,d)},get(a,c){const d=a[c];if(!n(a,c)||d===Function.prototype[c])return d;const u=s.get(d);if(u)return u;if(typeof d=="function"){const p=mc(d,t,i,a);return s.set(d,p),p}return d}});return i};const c_=Vn.default;let l_=class extends c_{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(t){this.updates=this.updates.concat(t),t.forEach(r=>this.emit("update",r))}addInitialResults(t){}getChangesAndClear(){const t=this.updates;return this.updates=[],t}};var Go=l_;const u_=Go;let h_=class extends u_{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(t){this.allResults=this.allResults.concat(t),super.addResults(t)}addInitialResults(t){this.allResults=this.allResults.concat(t),super.addInitialResults(t)}getAllResults(){return this.allResults}};var d_=h_,Xn={minBlockRef:f_,maxBlockRef:p_,sortBlockRefs:Zo,bnToHex:g_,blockRefIsNumber:m_,hexToInt:Es,incrementHexInt:__,intToHex:Vu,unsafeRandomBytes:v_};function f_(...e){return Zo(e)[0]}function p_(...e){const t=Zo(e);return t[t.length-1]}function Zo(e){return e.sort((t,r)=>t==="latest"||r==="earliest"?1:r==="latest"||t==="earliest"?-1:Es(t)-Es(r))}function g_(e){return"0x"+e.toString(16)}function m_(e){return e&&!["earliest","latest","pending"].includes(e)}function Es(e){return e==null?e:Number.parseInt(e,16)}function __(e){if(e==null)return e;const t=Es(e);return Vu(t+1)}function Vu(e){if(e==null)return e;let t=e.toString(16);return t.length%2&&(t="0"+t),"0x"+t}function v_(e){let t="0x";for(let r=0;r<e;r++)t+=vc(),t+=vc();return t}function vc(){return Math.floor(Math.random()*16).toString(16)}const y_=i_,w_=a_,b_=d_,{bnToHex:Ov,hexToInt:hs,incrementHexInt:E_,minBlockRef:S_,blockRefIsNumber:C_}=Xn;let M_=class extends b_{constructor({provider:t,params:r}){super(),this.type="log",this.ethQuery=new y_(t),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},r),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map(n=>n.toLowerCase()))}async initialize({currentBlock:t}){let r=this.params.fromBlock;["latest","pending"].includes(r)&&(r=t),r==="earliest"&&(r="0x0"),this.params.fromBlock=r;const n=S_(this.params.toBlock,t),s=Object.assign({},this.params,{toBlock:n}),i=await this._fetchLogs(s);this.addInitialResults(i)}async update({oldBlock:t,newBlock:r}){const n=r;let s;t?s=E_(t):s=r;const i=Object.assign({},this.params,{fromBlock:s,toBlock:n}),c=(await this._fetchLogs(i)).filter(d=>this.matchLog(d));this.addResults(c)}async _fetchLogs(t){return await w_(n=>this.ethQuery.getLogs(t,n))()}matchLog(t){if(hs(this.params.fromBlock)>=hs(t.blockNumber)||C_(this.params.toBlock)&&hs(this.params.toBlock)<=hs(t.blockNumber))return!1;const r=t.address&&t.address.toLowerCase();return this.params.address&&r&&!this.params.address.includes(r)?!1:this.params.topics.every((s,i)=>{let a=t.topics[i];if(!a)return!1;a=a.toLowerCase();let c=Array.isArray(s)?s:[s];return c.includes(null)?!0:(c=c.map(p=>p.toLowerCase()),c.includes(a))})}};var k_=M_,Qo=R_;async function R_({provider:e,fromBlock:t,toBlock:r}){t||(t=r);const n=yc(t),i=yc(r)-n+1,a=Array(i).fill().map((d,u)=>n+u).map(I_);let c=await Promise.all(a.map(d=>x_(e,"eth_getBlockByNumber",[d,!1])));return c=c.filter(d=>d!==null),c}function yc(e){return e==null?e:Number.parseInt(e,16)}function I_(e){return e==null?e:"0x"+e.toString(16)}function A_(e,t){return new Promise((r,n)=>{e.sendAsync(t,(s,i)=>{s?n(s):i.error?n(i.error):i.result?r(i.result):n(new Error("Result was empty"))})})}async function x_(e,t,r){for(let n=0;n<3;n++)try{return await A_(e,{id:1,jsonrpc:"2.0",method:t,params:r})}catch(s){console.error(`provider.sendAsync failed: ${s.stack||s.message||s}`)}return null}const N_=Go,L_=Qo,{incrementHexInt:T_}=Xn;let P_=class extends N_{constructor({provider:t,params:r}){super(),this.type="block",this.provider=t}async update({oldBlock:t,newBlock:r}){const n=r,s=T_(t),a=(await L_({provider:this.provider,fromBlock:s,toBlock:n})).map(c=>c.hash);this.addResults(a)}};var O_=P_;const $_=Go,B_=Qo,{incrementHexInt:F_}=Xn;let D_=class extends $_{constructor({provider:t}){super(),this.type="tx",this.provider=t}async update({oldBlock:t}){const r=t,n=F_(t),s=await B_({provider:this.provider,fromBlock:n,toBlock:r}),i=[];for(const a of s)i.push(...a.transactions);this.addResults(i)}};var j_=D_;const H_=wu.Mutex,{createAsyncMiddleware:U_,createScaffoldMiddleware:V_}=Ho,W_=k_,z_=O_,q_=j_,{intToHex:Wu,hexToInt:Ui}=Xn;var J_=G_;function G_({blockTracker:e,provider:t}){let r=0,n={};const s=new H_,i=Z_({mutex:s}),a=V_({eth_newFilter:i(Vi(d)),eth_newBlockFilter:i(Vi(u)),eth_newPendingTransactionFilter:i(Vi(p)),eth_uninstallFilter:i(gs(E)),eth_getFilterChanges:i(gs(f)),eth_getFilterLogs:i(gs(m))}),c=async({oldBlock:R,newBlock:A})=>{if(n.length===0)return;const D=await s.acquire();try{await Promise.all(Dr(n).map(async N=>{try{await N.update({oldBlock:R,newBlock:A})}catch(P){console.error(P)}}))}catch(N){console.error(N)}D()};return a.newLogFilter=d,a.newBlockFilter=u,a.newPendingTransactionFilter=p,a.uninstallFilter=E,a.getFilterChanges=f,a.getFilterLogs=m,a.destroy=()=>{k()},a;async function d(R){const A=new W_({provider:t,params:R});return await M(A),A}async function u(){const R=new z_({provider:t});return await M(R),R}async function p(){const R=new q_({provider:t});return await M(R),R}async function f(R){const A=Ui(R),D=n[A];if(!D)throw new Error(`No filter for index "${A}"`);return D.getChangesAndClear()}async function m(R){const A=Ui(R),D=n[A];if(!D)throw new Error(`No filter for index "${A}"`);let N=[];return D.type==="log"&&(N=D.getAllResults()),N}async function E(R){const A=Ui(R),N=!!n[A];return N&&await x(A),N}async function M(R){const A=Dr(n).length,D=await e.getLatestBlock();await R.initialize({currentBlock:D}),r++,n[r]=R,R.id=r,R.idHex=Wu(r);const N=Dr(n).length;return I({prevFilterCount:A,newFilterCount:N}),r}async function x(R){const A=Dr(n).length;delete n[R];const D=Dr(n).length;I({prevFilterCount:A,newFilterCount:D})}async function k(){const R=Dr(n).length;n={},I({prevFilterCount:R,newFilterCount:0})}function I({prevFilterCount:R,newFilterCount:A}){if(R===0&&A>0){e.on("sync",c);return}if(R>0&&A===0){e.removeListener("sync",c);return}}}function Vi(e){return gs(async(...t)=>{const r=await e(...t);return Wu(r.id)})}function gs(e){return U_(async(t,r)=>{const n=await e.apply(null,t.params);r.result=n})}function Z_({mutex:e}){return t=>async(r,n,s,i)=>{(await e.acquire())(),t(r,n,s,i)}}function Dr(e,t){const r=[];for(let n in e)r.push(e[n]);return r}const Q_=Vn.default,{createAsyncMiddleware:wc,createScaffoldMiddleware:K_}=Ho,X_=J_,{unsafeRandomBytes:Y_,incrementHexInt:ev}=Xn,tv=Qo;var rv=nv;function nv({blockTracker:e,provider:t}){const r={},n=X_({blockTracker:e,provider:t});let s=!1;const i=new Q_,a=K_({eth_subscribe:wc(c),eth_unsubscribe:wc(d)});return a.destroy=p,{events:i,middleware:a};async function c(f,m){if(s)throw new Error("SubscriptionManager - attempting to use after destroying");const E=f.params[0],M=Y_(16);let x;switch(E){case"newHeads":x=k({subId:M});break;case"logs":const R=f.params[1],A=await n.newLogFilter(R);x=I({subId:M,filter:A});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${E}"`)}r[M]=x,m.result=M;return;function k({subId:R}){const A={type:E,destroy:async()=>{e.removeListener("sync",A.update)},update:async({oldBlock:D,newBlock:N})=>{const P=N,W=ev(D);(await tv({provider:t,fromBlock:W,toBlock:P})).map(sv).filter(Q=>Q!==null).forEach(Q=>{u(R,Q)})}};return e.on("sync",A.update),A}function I({subId:R,filter:A}){return A.on("update",N=>u(R,N)),{type:E,destroy:async()=>await n.uninstallFilter(A.idHex)}}}async function d(f,m){if(s)throw new Error("SubscriptionManager - attempting to use after destroying");const E=f.params[0],M=r[E];if(!M){m.result=!1;return}delete r[E],await M.destroy(),m.result=!0}function u(f,m){i.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:f,result:m}})}function p(){i.removeAllListeners();for(const f in r)r[f].destroy(),delete r[f];s=!0}}function sv(e){return e==null?null:{hash:e.hash,parentHash:e.parentHash,sha3Uncles:e.sha3Uncles,miner:e.miner,stateRoot:e.stateRoot,transactionsRoot:e.transactionsRoot,receiptsRoot:e.receiptsRoot,logsBloom:e.logsBloom,difficulty:e.difficulty,number:e.number,gasLimit:e.gasLimit,gasUsed:e.gasUsed,nonce:e.nonce,mixHash:e.mixHash,timestamp:e.timestamp,extraData:e.extraData}}Object.defineProperty(Zs,"__esModule",{value:!0});Zs.SubscriptionManager=void 0;const iv=Rl,ov=rv,bc=()=>{};class av{constructor(t){const r=new iv.PollingBlockTracker({provider:t,pollingInterval:15e3,setSkipCacheFlag:!0}),{events:n,middleware:s}=ov({blockTracker:r,provider:t});this.events=n,this.subscriptionMiddleware=s}async handleRequest(t){const r={};return await this.subscriptionMiddleware(t,r,bc,bc),r}destroy(){this.subscriptionMiddleware.destroy()}}Zs.SubscriptionManager=av;var zu=$&&$.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Jr,"__esModule",{value:!0});Jr.CoinbaseWalletProvider=void 0;const cv=zu(Ms),lv=Rh,z=xn,j=T,uv=Pn,Ec=ht,ds=on,it=rn,Wi=zu(Rf),bn=sn,hv=Kr,dv=Zs,Sc="DefaultChainId",Cc="DefaultJsonRpcUrl";class fv extends lv.EventEmitter{constructor(t){var r,n;super(),this._filterPolyfill=new hv.FilterPolyfill(this),this._subscriptionManager=new dv.SubscriptionManager(this),this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1,this.setProviderInfo=this.setProviderInfo.bind(this),this.updateProviderInfo=this.updateProviderInfo.bind(this),this.getChainId=this.getChainId.bind(this),this.setAppInfo=this.setAppInfo.bind(this),this.enable=this.enable.bind(this),this.close=this.close.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this.request=this.request.bind(this),this._setAddresses=this._setAddresses.bind(this),this.scanQRCode=this.scanQRCode.bind(this),this.genericRequest=this.genericRequest.bind(this),this._chainIdFromOpts=t.chainId,this._jsonRpcUrlFromOpts=t.jsonRpcUrl,this._overrideIsMetaMask=t.overrideIsMetaMask,this._relayProvider=t.relayProvider,this._storage=t.storage,this._relayEventManager=t.relayEventManager,this.diagnostic=t.diagnosticLogger,this.reloadOnDisconnect=!0,this.isCoinbaseWallet=(r=t.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this.isCoinbaseBrowser=(n=t.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,this.qrUrl=t.qrUrl;const s=this.getChainId(),i=(0,j.prepend0x)(s.toString(16));this.emit("connect",{chainIdStr:i});const a=this._storage.getItem(Ec.LOCAL_STORAGE_ADDRESSES_KEY);if(a){const c=a.split(" ");c[0]!==""&&(this._addresses=c.map(d=>(0,j.ensureAddressString)(d)),this.emit("accountsChanged",c))}this._subscriptionManager.events.on("notification",c=>{this.emit("message",{type:c.method,data:c.params})}),this._isAuthorized()&&this.initializeRelay(),window.addEventListener("message",c=>{var d;if(!(c.origin!==location.origin||c.source!==window)&&c.data.type==="walletLinkMessage"&&c.data.data.action==="dappChainSwitched"){const u=c.data.data.chainId,p=(d=c.data.data.jsonRpcUrl)!==null&&d!==void 0?d:this.jsonRpcUrl;this.updateProviderInfo(p,Number(u))}})}get selectedAddress(){return this._addresses[0]||void 0}get networkVersion(){return this.getChainId().toString(10)}get chainId(){return(0,j.prepend0x)(this.getChainId().toString(16))}get isWalletLink(){return!0}get isMetaMask(){return this._overrideIsMetaMask}get host(){return this.jsonRpcUrl}get connected(){return!0}isConnected(){return!0}get jsonRpcUrl(){var t;return(t=this._storage.getItem(Cc))!==null&&t!==void 0?t:this._jsonRpcUrlFromOpts}set jsonRpcUrl(t){this._storage.setItem(Cc,t)}disableReloadOnDisconnect(){this.reloadOnDisconnect=!1}setProviderInfo(t,r){this.isCoinbaseBrowser||(this._chainIdFromOpts=r,this._jsonRpcUrlFromOpts=t),this.updateProviderInfo(this.jsonRpcUrl,this.getChainId())}updateProviderInfo(t,r){this.jsonRpcUrl=t;const n=this.getChainId();this._storage.setItem(Sc,r.toString(10)),((0,j.ensureIntNumber)(r)!==n||!this.hasMadeFirstChainChangedEmission)&&(this.emit("chainChanged",this.getChainId()),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(t,r,n,s,i,a){const d=await(await this.initializeRelay()).watchAsset(t,r,n,s,i,a==null?void 0:a.toString()).promise;return(0,it.isErrorResponse)(d)?!1:!!d.result}async addEthereumChain(t,r,n,s,i,a){var c,d;if((0,j.ensureIntNumber)(t)===this.getChainId())return!1;const u=await this.initializeRelay(),p=u.inlineAddEthereumChain(t.toString());!this._isAuthorized()&&!p&&await u.requestEthereumAccounts().promise;const f=await u.addEthereumChain(t.toString(),r,i,n,s,a).promise;return(0,it.isErrorResponse)(f)?!1:(((c=f.result)===null||c===void 0?void 0:c.isApproved)===!0&&this.updateProviderInfo(r[0],t),((d=f.result)===null||d===void 0?void 0:d.isApproved)===!0)}async switchEthereumChain(t){const n=await(await this.initializeRelay()).switchEthereumChain(t.toString(10),this.selectedAddress||void 0).promise;if((0,it.isErrorResponse)(n)){if(!n.errorCode)return;throw n.errorCode===z.standardErrorCodes.provider.unsupportedChain?z.standardErrors.provider.unsupportedChain():z.standardErrors.provider.custom({message:n.errorMessage,code:n.errorCode})}const s=n.result;s.isApproved&&s.rpcUrl.length>0&&this.updateProviderInfo(s.rpcUrl,t)}setAppInfo(t,r){this.initializeRelay().then(n=>n.setAppInfo(t,r))}async enable(){var t;return(t=this.diagnostic)===null||t===void 0||t.log(bn.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::enable",addresses_length:this._addresses.length,sessionIdHash:this._relay?ds.Session.hash(this._relay.session.id):void 0}),this._isAuthorized()?[...this._addresses]:await this.send("eth_requestAccounts")}async close(){(await this.initializeRelay()).resetAndReload()}send(t,r){try{const n=this._send(t,r);if(n instanceof Promise)return n.catch(s=>{throw(0,z.serializeError)(s,t)})}catch(n){throw(0,z.serializeError)(n,t)}}_send(t,r){if(typeof t=="string"){const s=t,i=Array.isArray(r)?r:r!==void 0?[r]:[],a={jsonrpc:"2.0",id:0,method:s,params:i};return this._sendRequestAsync(a).then(c=>c.result)}if(typeof r=="function"){const s=t,i=r;return this._sendAsync(s,i)}if(Array.isArray(t))return t.map(i=>this._sendRequest(i));const n=t;return this._sendRequest(n)}async sendAsync(t,r){try{return this._sendAsync(t,r).catch(n=>{throw(0,z.serializeError)(n,t)})}catch(n){return Promise.reject((0,z.serializeError)(n,t))}}async _sendAsync(t,r){if(typeof r!="function")throw new Error("callback is required");if(Array.isArray(t)){const s=r;this._sendMultipleRequestsAsync(t).then(i=>s(null,i)).catch(i=>s(i,null));return}const n=r;return this._sendRequestAsync(t).then(s=>n(null,s)).catch(s=>n(s,null))}async request(t){try{return this._request(t).catch(r=>{throw(0,z.serializeError)(r,t.method)})}catch(r){return Promise.reject((0,z.serializeError)(r,t.method))}}async _request(t){if(!t||typeof t!="object"||Array.isArray(t))throw z.standardErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:t});const{method:r,params:n}=t;if(typeof r!="string"||r.length===0)throw z.standardErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:t});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw z.standardErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:t});const s=n===void 0?[]:n,i=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:r,params:s,jsonrpc:"2.0",id:i})).result}async scanQRCode(t){const n=await(await this.initializeRelay()).scanQRCode((0,j.ensureRegExpString)(t)).promise;if((0,it.isErrorResponse)(n))throw(0,z.serializeError)(n.errorMessage,"scanQRCode");if(typeof n.result!="string")throw(0,z.serializeError)("result was not a string","scanQRCode");return n.result}async genericRequest(t,r){const s=await(await this.initializeRelay()).genericRequest(t,r).promise;if((0,it.isErrorResponse)(s))throw(0,z.serializeError)(s.errorMessage,"generic");if(typeof s.result!="string")throw(0,z.serializeError)("result was not a string","generic");return s.result}async connectAndSignIn(t){var r;(r=this.diagnostic)===null||r===void 0||r.log(bn.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::connectAndSignIn",sessionIdHash:this._relay?ds.Session.hash(this._relay.session.id):void 0});let n;try{const i=await this.initializeRelay();if(!(i instanceof uv.MobileRelay))throw new Error("connectAndSignIn is only supported on mobile");if(n=await i.connectAndSignIn(t).promise,(0,it.isErrorResponse)(n))throw new Error(n.errorMessage)}catch(i){throw typeof i.message=="string"&&i.message.match(/(denied|rejected)/i)?z.standardErrors.provider.userRejectedRequest("User denied account authorization"):i}if(!n.result)throw new Error("accounts received is empty");const{accounts:s}=n.result;return this._setAddresses(s),this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId()),n.result}async selectProvider(t){const n=await(await this.initializeRelay()).selectProvider(t).promise;if((0,it.isErrorResponse)(n))throw(0,z.serializeError)(n.errorMessage,"selectProvider");if(typeof n.result!="string")throw(0,z.serializeError)("result was not a string","selectProvider");return n.result}supportsSubscriptions(){return!1}subscribe(){throw new Error("Subscriptions are not supported")}unsubscribe(){throw new Error("Subscriptions are not supported")}disconnect(){return!0}_sendRequest(t){const r={jsonrpc:"2.0",id:t.id},{method:n}=t;if(r.result=this._handleSynchronousMethods(t),r.result===void 0)throw new Error(`Coinbase Wallet does not support calling ${n} synchronously without a callback. Please provide a callback parameter to call ${n} asynchronously.`);return r}_setAddresses(t,r){if(!Array.isArray(t))throw new Error("addresses is not an array");const n=t.map(s=>(0,j.ensureAddressString)(s));JSON.stringify(n)!==JSON.stringify(this._addresses)&&(this._addresses=n,this.emit("accountsChanged",this._addresses),this._storage.setItem(Ec.LOCAL_STORAGE_ADDRESSES_KEY,n.join(" ")))}_sendRequestAsync(t){return new Promise((r,n)=>{try{const s=this._handleSynchronousMethods(t);if(s!==void 0)return r({jsonrpc:"2.0",id:t.id,result:s});const i=this._handleAsynchronousFilterMethods(t);if(i!==void 0){i.then(c=>r(Object.assign(Object.assign({},c),{id:t.id}))).catch(c=>n(c));return}const a=this._handleSubscriptionMethods(t);if(a!==void 0){a.then(c=>r({jsonrpc:"2.0",id:t.id,result:c.result})).catch(c=>n(c));return}}catch(s){return n(s)}this._handleAsynchronousMethods(t).then(s=>s&&r(Object.assign(Object.assign({},s),{id:t.id}))).catch(s=>n(s))})}_sendMultipleRequestsAsync(t){return Promise.all(t.map(r=>this._sendRequestAsync(r)))}_handleSynchronousMethods(t){const{method:r}=t,n=t.params||[];switch(r){case"eth_accounts":return this._eth_accounts();case"eth_coinbase":return this._eth_coinbase();case"eth_uninstallFilter":return this._eth_uninstallFilter(n);case"net_version":return this._net_version();case"eth_chainId":return this._eth_chainId();default:return}}async _handleAsynchronousMethods(t){const{method:r}=t,n=t.params||[];switch(r){case"eth_requestAccounts":return this._eth_requestAccounts();case"eth_sign":return this._eth_sign(n);case"eth_ecRecover":return this._eth_ecRecover(n);case"personal_sign":return this._personal_sign(n);case"personal_ecRecover":return this._personal_ecRecover(n);case"eth_signTransaction":return this._eth_signTransaction(n);case"eth_sendRawTransaction":return this._eth_sendRawTransaction(n);case"eth_sendTransaction":return this._eth_sendTransaction(n);case"eth_signTypedData_v1":return this._eth_signTypedData_v1(n);case"eth_signTypedData_v2":return this._throwUnsupportedMethodError();case"eth_signTypedData_v3":return this._eth_signTypedData_v3(n);case"eth_signTypedData_v4":case"eth_signTypedData":return this._eth_signTypedData_v4(n);case"cbWallet_arbitrary":return this._cbwallet_arbitrary(n);case"wallet_addEthereumChain":return this._wallet_addEthereumChain(n);case"wallet_switchEthereumChain":return this._wallet_switchEthereumChain(n);case"wallet_watchAsset":return this._wallet_watchAsset(n)}return(await this.initializeRelay()).makeEthereumJSONRPCRequest(t,this.jsonRpcUrl).catch(i=>{var a;throw(i.code===z.standardErrorCodes.rpc.methodNotFound||i.code===z.standardErrorCodes.rpc.methodNotSupported)&&((a=this.diagnostic)===null||a===void 0||a.log(bn.EVENTS.METHOD_NOT_IMPLEMENTED,{method:t.method,sessionIdHash:this._relay?ds.Session.hash(this._relay.session.id):void 0})),i})}_handleAsynchronousFilterMethods(t){const{method:r}=t,n=t.params||[];switch(r){case"eth_newFilter":return this._eth_newFilter(n);case"eth_newBlockFilter":return this._eth_newBlockFilter();case"eth_newPendingTransactionFilter":return this._eth_newPendingTransactionFilter();case"eth_getFilterChanges":return this._eth_getFilterChanges(n);case"eth_getFilterLogs":return this._eth_getFilterLogs(n)}}_handleSubscriptionMethods(t){switch(t.method){case"eth_subscribe":case"eth_unsubscribe":return this._subscriptionManager.handleRequest(t)}}_isKnownAddress(t){try{const r=(0,j.ensureAddressString)(t);return this._addresses.map(s=>(0,j.ensureAddressString)(s)).includes(r)}catch{}return!1}_ensureKnownAddress(t){var r;if(!this._isKnownAddress(t))throw(r=this.diagnostic)===null||r===void 0||r.log(bn.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED),new Error("Unknown Ethereum address")}_prepareTransactionParams(t){const r=t.from?(0,j.ensureAddressString)(t.from):this.selectedAddress;if(!r)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(r);const n=t.to?(0,j.ensureAddressString)(t.to):null,s=t.value!=null?(0,j.ensureBN)(t.value):new cv.default(0),i=t.data?(0,j.ensureBuffer)(t.data):H.alloc(0),a=t.nonce!=null?(0,j.ensureIntNumber)(t.nonce):null,c=t.gasPrice!=null?(0,j.ensureBN)(t.gasPrice):null,d=t.maxFeePerGas!=null?(0,j.ensureBN)(t.maxFeePerGas):null,u=t.maxPriorityFeePerGas!=null?(0,j.ensureBN)(t.maxPriorityFeePerGas):null,p=t.gas!=null?(0,j.ensureBN)(t.gas):null,f=t.chainId?(0,j.ensureIntNumber)(t.chainId):this.getChainId();return{fromAddress:r,toAddress:n,weiValue:s,data:i,nonce:a,gasPriceInWei:c,maxFeePerGas:d,maxPriorityFeePerGas:u,gasLimit:p,chainId:f}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw z.standardErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw z.standardErrors.provider.unsupportedMethod({})}async _signEthereumMessage(t,r,n,s){this._ensureKnownAddress(r);try{const a=await(await this.initializeRelay()).signEthereumMessage(t,r,n,s).promise;if((0,it.isErrorResponse)(a))throw new Error(a.errorMessage);return{jsonrpc:"2.0",id:0,result:a.result}}catch(i){throw typeof i.message=="string"&&i.message.match(/(denied|rejected)/i)?z.standardErrors.provider.userRejectedRequest("User denied message signature"):i}}async _ethereumAddressFromSignedMessage(t,r,n){const i=await(await this.initializeRelay()).ethereumAddressFromSignedMessage(t,r,n).promise;if((0,it.isErrorResponse)(i))throw new Error(i.errorMessage);return{jsonrpc:"2.0",id:0,result:i.result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,j.hexStringFromIntNumber)(this.getChainId())}getChainId(){const t=this._storage.getItem(Sc);if(!t)return(0,j.ensureIntNumber)(this._chainIdFromOpts);const r=parseInt(t,10);return(0,j.ensureIntNumber)(r)}async _eth_requestAccounts(){var t;if((t=this.diagnostic)===null||t===void 0||t.log(bn.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::_eth_requestAccounts",addresses_length:this._addresses.length,sessionIdHash:this._relay?ds.Session.hash(this._relay.session.id):void 0}),this._isAuthorized())return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let r;try{if(r=await(await this.initializeRelay()).requestEthereumAccounts().promise,(0,it.isErrorResponse)(r))throw new Error(r.errorMessage)}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?z.standardErrors.provider.userRejectedRequest("User denied account authorization"):n}if(!r.result)throw new Error("accounts received is empty");return this._setAddresses(r.result),this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId()),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(t){this._requireAuthorization();const r=(0,j.ensureAddressString)(t[0]),n=(0,j.ensureBuffer)(t[1]);return this._signEthereumMessage(n,r,!1)}_eth_ecRecover(t){const r=(0,j.ensureBuffer)(t[0]),n=(0,j.ensureBuffer)(t[1]);return this._ethereumAddressFromSignedMessage(r,n,!1)}_personal_sign(t){this._requireAuthorization();const r=(0,j.ensureBuffer)(t[0]),n=(0,j.ensureAddressString)(t[1]);return this._signEthereumMessage(r,n,!0)}_personal_ecRecover(t){const r=(0,j.ensureBuffer)(t[0]),n=(0,j.ensureBuffer)(t[1]);return this._ethereumAddressFromSignedMessage(r,n,!0)}async _eth_signTransaction(t){this._requireAuthorization();const r=this._prepareTransactionParams(t[0]||{});try{const s=await(await this.initializeRelay()).signEthereumTransaction(r).promise;if((0,it.isErrorResponse)(s))throw new Error(s.errorMessage);return{jsonrpc:"2.0",id:0,result:s.result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?z.standardErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_sendRawTransaction(t){const r=(0,j.ensureBuffer)(t[0]),s=await(await this.initializeRelay()).submitEthereumTransaction(r,this.getChainId()).promise;if((0,it.isErrorResponse)(s))throw new Error(s.errorMessage);return{jsonrpc:"2.0",id:0,result:s.result}}async _eth_sendTransaction(t){this._requireAuthorization();const r=this._prepareTransactionParams(t[0]||{});try{const s=await(await this.initializeRelay()).signAndSubmitEthereumTransaction(r).promise;if((0,it.isErrorResponse)(s))throw new Error(s.errorMessage);return{jsonrpc:"2.0",id:0,result:s.result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?z.standardErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_signTypedData_v1(t){this._requireAuthorization();const r=(0,j.ensureParsedJSONObject)(t[0]),n=(0,j.ensureAddressString)(t[1]);this._ensureKnownAddress(n);const s=Wi.default.hashForSignTypedDataLegacy({data:r}),i=JSON.stringify(r,null,2);return this._signEthereumMessage(s,n,!1,i)}async _eth_signTypedData_v3(t){this._requireAuthorization();const r=(0,j.ensureAddressString)(t[0]),n=(0,j.ensureParsedJSONObject)(t[1]);this._ensureKnownAddress(r);const s=Wi.default.hashForSignTypedData_v3({data:n}),i=JSON.stringify(n,null,2);return this._signEthereumMessage(s,r,!1,i)}async _eth_signTypedData_v4(t){this._requireAuthorization();const r=(0,j.ensureAddressString)(t[0]),n=(0,j.ensureParsedJSONObject)(t[1]);this._ensureKnownAddress(r);const s=Wi.default.hashForSignTypedData_v4({data:n}),i=JSON.stringify(n,null,2);return this._signEthereumMessage(s,r,!1,i)}async _cbwallet_arbitrary(t){const r=t[0],n=t[1];if(typeof n!="string")throw new Error("parameter must be a string");if(typeof r!="object"||r===null)throw new Error("parameter must be an object");return{jsonrpc:"2.0",id:0,result:await this.genericRequest(r,n)}}async _wallet_addEthereumChain(t){var r,n,s,i;const a=t[0];if(((r=a.rpcUrls)===null||r===void 0?void 0:r.length)===0)return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!a.chainName||a.chainName.trim()==="")throw z.standardErrors.rpc.invalidParams("chainName is a required field");if(!a.nativeCurrency)throw z.standardErrors.rpc.invalidParams("nativeCurrency is a required field");const c=parseInt(a.chainId,16);return await this.addEthereumChain(c,(n=a.rpcUrls)!==null&&n!==void 0?n:[],(s=a.blockExplorerUrls)!==null&&s!==void 0?s:[],a.chainName,(i=a.iconUrls)!==null&&i!==void 0?i:[],a.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(t){const r=t[0];return await this.switchEthereumChain(parseInt(r.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(t){const r=Array.isArray(t)?t[0]:t;if(!r.type)throw z.standardErrors.rpc.invalidParams("Type is required");if((r==null?void 0:r.type)!=="ERC20")throw z.standardErrors.rpc.invalidParams(`Asset of type '${r.type}' is not supported`);if(!(r!=null&&r.options))throw z.standardErrors.rpc.invalidParams("Options are required");if(!(r!=null&&r.options.address))throw z.standardErrors.rpc.invalidParams("Address is required");const n=this.getChainId(),{address:s,symbol:i,image:a,decimals:c}=r.options;return{jsonrpc:"2.0",id:0,result:await this.watchAsset(r.type,s,i,c,a,n)}}_eth_uninstallFilter(t){const r=(0,j.ensureHexString)(t[0]);return this._filterPolyfill.uninstallFilter(r)}async _eth_newFilter(t){const r=t[0];return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newFilter(r)}}async _eth_newBlockFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newBlockFilter()}}async _eth_newPendingTransactionFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newPendingTransactionFilter()}}_eth_getFilterChanges(t){const r=(0,j.ensureHexString)(t[0]);return this._filterPolyfill.getFilterChanges(r)}_eth_getFilterLogs(t){const r=(0,j.ensureHexString)(t[0]);return this._filterPolyfill.getFilterLogs(r)}initializeRelay(){return this._relay?Promise.resolve(this._relay):this._relayProvider().then(t=>(t.setAccountsCallback((r,n)=>this._setAddresses(r,n)),t.setChainCallback((r,n)=>{this.updateProviderInfo(n,parseInt(r,10))}),t.setDappDefaultChainCallback(this._chainIdFromOpts),this._relay=t,t))}}Jr.CoinbaseWalletProvider=fv;var pi={};Object.defineProperty(pi,"__esModule",{value:!0});pi.RelayEventManager=void 0;const pv=T;class gv{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const t=this._nextRequestId,r=(0,pv.prepend0x)(t.toString(16));return this.callbacks.get(r)&&this.callbacks.delete(r),t}}pi.RelayEventManager=gv;Object.defineProperty(kn,"__esModule",{value:!0});kn.CoinbaseWalletSDK=void 0;const mv=Ss,_v=Cs,Mc=T,vv=xs,yv=Jr,wv=Pn,bv=Hn,Ev=pi,Sv=$n,Cv=On,qu=nn;class gi{constructor(t){var r,n,s;this._appName="",this._appLogoUrl=null,this._relay=null,this._relayEventManager=null;const i=t.linkAPIUrl||_v.LINK_API_URL;typeof t.overrideIsMetaMask>"u"?this._overrideIsMetaMask=!1:this._overrideIsMetaMask=t.overrideIsMetaMask,this._overrideIsCoinbaseWallet=(r=t.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this._overrideIsCoinbaseBrowser=(n=t.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,this._diagnosticLogger=t.diagnosticLogger,this._reloadOnDisconnect=(s=t.reloadOnDisconnect)!==null&&s!==void 0?s:!0;const a=new URL(i),c=`${a.protocol}//${a.host}`;if(this._storage=new vv.ScopedLocalStorage(`-walletlink:${c}`),this._storage.setItem("version",gi.VERSION),this.walletExtension||this.coinbaseBrowser)return;this._relayEventManager=new Ev.RelayEventManager;const d=(0,Mc.isMobileWeb)(),u=t.uiConstructor||(f=>d?new bv.MobileRelayUI(f):new Sv.WalletLinkRelayUI(f)),p={linkAPIUrl:i,version:qu.LIB_VERSION,darkMode:!!t.darkMode,uiConstructor:u,storage:this._storage,relayEventManager:this._relayEventManager,diagnosticLogger:this._diagnosticLogger,reloadOnDisconnect:this._reloadOnDisconnect,enableMobileWalletLink:t.enableMobileWalletLink};this._relay=d?new wv.MobileRelay(p):new Cv.WalletLinkRelay(p),this.setAppInfo(t.appName,t.appLogoUrl),!t.headlessMode&&this._relay.attachUI()}makeWeb3Provider(t="",r=1){const n=this.walletExtension;if(n)return this.isCipherProvider(n)||n.setProviderInfo(t,r),this._reloadOnDisconnect===!1&&typeof n.disableReloadOnDisconnect=="function"&&n.disableReloadOnDisconnect(),n;const s=this.coinbaseBrowser;if(s)return s;const i=this._relay;if(!i||!this._relayEventManager||!this._storage)throw new Error("Relay not initialized, should never happen");return t||i.setConnectDisabled(!0),new yv.CoinbaseWalletProvider({relayProvider:()=>Promise.resolve(i),relayEventManager:this._relayEventManager,storage:this._storage,jsonRpcUrl:t,chainId:r,qrUrl:this.getQrUrl(),diagnosticLogger:this._diagnosticLogger,overrideIsMetaMask:this._overrideIsMetaMask,overrideIsCoinbaseWallet:this._overrideIsCoinbaseWallet,overrideIsCoinbaseBrowser:this._overrideIsCoinbaseBrowser})}setAppInfo(t,r){var n;this._appName=t||"DApp",this._appLogoUrl=r||(0,Mc.getFavicon)();const s=this.walletExtension;s?this.isCipherProvider(s)||s.setAppInfo(this._appName,this._appLogoUrl):(n=this._relay)===null||n===void 0||n.setAppInfo(this._appName,this._appLogoUrl)}disconnect(){var t;const r=this===null||this===void 0?void 0:this.walletExtension;r?r.close():(t=this._relay)===null||t===void 0||t.resetAndReload()}getQrUrl(){var t,r;return(r=(t=this._relay)===null||t===void 0?void 0:t.getQRCodeUrl())!==null&&r!==void 0?r:null}getCoinbaseWalletLogo(t,r=240){return(0,mv.walletLogo)(t,r)}get walletExtension(){var t;return(t=window.coinbaseWalletExtension)!==null&&t!==void 0?t:window.walletLinkExtension}get coinbaseBrowser(){var t,r;try{const n=(t=window.ethereum)!==null&&t!==void 0?t:(r=window.top)===null||r===void 0?void 0:r.ethereum;return n&&"isCoinbaseBrowser"in n&&n.isCoinbaseBrowser?n:void 0}catch{return}}isCipherProvider(t){return typeof t.isCipher=="boolean"&&t.isCipher}}kn.CoinbaseWalletSDK=gi;gi.VERSION=qu.LIB_VERSION;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CoinbaseWalletProvider=e.CoinbaseWalletSDK=void 0;const t=kn,r=Jr;var n=kn;Object.defineProperty(e,"CoinbaseWalletSDK",{enumerable:!0,get:function(){return n.CoinbaseWalletSDK}});var s=Jr;Object.defineProperty(e,"CoinbaseWalletProvider",{enumerable:!0,get:function(){return s.CoinbaseWalletProvider}}),e.default=t.CoinbaseWalletSDK,typeof window<"u"&&(window.CoinbaseWalletSDK=t.CoinbaseWalletSDK,window.CoinbaseWalletProvider=r.CoinbaseWalletProvider,window.WalletLink=t.CoinbaseWalletSDK,window.WalletLinkProvider=r.CoinbaseWalletProvider)})(oo);const Mv=Ju(oo),Dv=Qu({__proto__:null,default:Mv},[oo]);export{Dv as i};
