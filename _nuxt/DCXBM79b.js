function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./CMX0DmA4.js","./Tyql0LRw.js","./entry.DJkmAss8.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{cc as commonjsGlobal,cE as process$1,cF as Buffer,cG as getAugmentedNamespace,cH as global,cI as destr,K as getDefaultExportFromCjs,ay as __vitePreload}from"./Tyql0LRw.js";import{e as eventsExports,U as Ug}from"./DQh2k9Hb.js";import{s as safeBufferExports,r as readableBrowserExports,i as inherits_browserExports,a as require$$1$2,b as require_stream_readable$1,c as require_stream_writable$1,d as require_stream_duplex$1,_ as _stream_transform$1,e as _stream_passthrough$1,f as endOfStream,p as pipeline_1,g as requireString_decoder,h as sha_jsExports,u as util$1,j as browser$e}from"./CUhuLCeR.js";var chacha20poly1305={},chacha={},binary={},int={};(function(r){Object.defineProperty(r,"__esModule",{value:!0});function e(ye,Ee){var me=ye>>>16&65535,fe=ye&65535,xe=Ee>>>16&65535,br=Ee&65535;return fe*br+(me*br+fe*xe<<16>>>0)|0}r.mul=Math.imul||e;function t(ye,Ee){return ye+Ee|0}r.add=t;function s(ye,Ee){return ye-Ee|0}r.sub=s;function ne(ye,Ee){return ye<<Ee|ye>>>32-Ee}r.rotl=ne;function o(ye,Ee){return ye<<32-Ee|ye>>>Ee}r.rotr=o;function we(ye){return typeof ye=="number"&&isFinite(ye)&&Math.floor(ye)===ye}r.isInteger=Number.isInteger||we,r.MAX_SAFE_INTEGER=9007199254740991,r.isSafeInteger=function(ye){return r.isInteger(ye)&&ye>=-r.MAX_SAFE_INTEGER&&ye<=r.MAX_SAFE_INTEGER}})(int);Object.defineProperty(binary,"__esModule",{value:!0});var int_1=int;function readInt16BE(r,e){return e===void 0&&(e=0),(r[e+0]<<8|r[e+1])<<16>>16}binary.readInt16BE=readInt16BE;function readUint16BE(r,e){return e===void 0&&(e=0),(r[e+0]<<8|r[e+1])>>>0}binary.readUint16BE=readUint16BE;function readInt16LE(r,e){return e===void 0&&(e=0),(r[e+1]<<8|r[e])<<16>>16}binary.readInt16LE=readInt16LE;function readUint16LE(r,e){return e===void 0&&(e=0),(r[e+1]<<8|r[e])>>>0}binary.readUint16LE=readUint16LE;function writeUint16BE(r,e,t){return e===void 0&&(e=new Uint8Array(2)),t===void 0&&(t=0),e[t+0]=r>>>8,e[t+1]=r>>>0,e}binary.writeUint16BE=writeUint16BE;binary.writeInt16BE=writeUint16BE;function writeUint16LE(r,e,t){return e===void 0&&(e=new Uint8Array(2)),t===void 0&&(t=0),e[t+0]=r>>>0,e[t+1]=r>>>8,e}binary.writeUint16LE=writeUint16LE;binary.writeInt16LE=writeUint16LE;function readInt32BE(r,e){return e===void 0&&(e=0),r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3]}binary.readInt32BE=readInt32BE;function readUint32BE(r,e){return e===void 0&&(e=0),(r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3])>>>0}binary.readUint32BE=readUint32BE;function readInt32LE(r,e){return e===void 0&&(e=0),r[e+3]<<24|r[e+2]<<16|r[e+1]<<8|r[e]}binary.readInt32LE=readInt32LE;function readUint32LE(r,e){return e===void 0&&(e=0),(r[e+3]<<24|r[e+2]<<16|r[e+1]<<8|r[e])>>>0}binary.readUint32LE=readUint32LE;function writeUint32BE(r,e,t){return e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0),e[t+0]=r>>>24,e[t+1]=r>>>16,e[t+2]=r>>>8,e[t+3]=r>>>0,e}binary.writeUint32BE=writeUint32BE;binary.writeInt32BE=writeUint32BE;function writeUint32LE(r,e,t){return e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0),e[t+0]=r>>>0,e[t+1]=r>>>8,e[t+2]=r>>>16,e[t+3]=r>>>24,e}binary.writeUint32LE=writeUint32LE;binary.writeInt32LE=writeUint32LE;function readInt64BE(r,e){e===void 0&&(e=0);var t=readInt32BE(r,e),s=readInt32BE(r,e+4);return t*4294967296+s-(s>>31)*4294967296}binary.readInt64BE=readInt64BE;function readUint64BE(r,e){e===void 0&&(e=0);var t=readUint32BE(r,e),s=readUint32BE(r,e+4);return t*4294967296+s}binary.readUint64BE=readUint64BE;function readInt64LE(r,e){e===void 0&&(e=0);var t=readInt32LE(r,e),s=readInt32LE(r,e+4);return s*4294967296+t-(t>>31)*4294967296}binary.readInt64LE=readInt64LE;function readUint64LE(r,e){e===void 0&&(e=0);var t=readUint32LE(r,e),s=readUint32LE(r,e+4);return s*4294967296+t}binary.readUint64LE=readUint64LE;function writeUint64BE(r,e,t){return e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0),writeUint32BE(r/4294967296>>>0,e,t),writeUint32BE(r>>>0,e,t+4),e}binary.writeUint64BE=writeUint64BE;binary.writeInt64BE=writeUint64BE;function writeUint64LE(r,e,t){return e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0),writeUint32LE(r>>>0,e,t),writeUint32LE(r/4294967296>>>0,e,t+4),e}binary.writeUint64LE=writeUint64LE;binary.writeInt64LE=writeUint64LE;function readUintBE(r,e,t){if(t===void 0&&(t=0),r%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(r/8>e.length-t)throw new Error("readUintBE: array is too short for the given bitLength");for(var s=0,ne=1,o=r/8+t-1;o>=t;o--)s+=e[o]*ne,ne*=256;return s}binary.readUintBE=readUintBE;function readUintLE(r,e,t){if(t===void 0&&(t=0),r%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(r/8>e.length-t)throw new Error("readUintLE: array is too short for the given bitLength");for(var s=0,ne=1,o=t;o<t+r/8;o++)s+=e[o]*ne,ne*=256;return s}binary.readUintLE=readUintLE;function writeUintBE(r,e,t,s){if(t===void 0&&(t=new Uint8Array(r/8)),s===void 0&&(s=0),r%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!int_1.isSafeInteger(e))throw new Error("writeUintBE value must be an integer");for(var ne=1,o=r/8+s-1;o>=s;o--)t[o]=e/ne&255,ne*=256;return t}binary.writeUintBE=writeUintBE;function writeUintLE(r,e,t,s){if(t===void 0&&(t=new Uint8Array(r/8)),s===void 0&&(s=0),r%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!int_1.isSafeInteger(e))throw new Error("writeUintLE value must be an integer");for(var ne=1,o=s;o<s+r/8;o++)t[o]=e/ne&255,ne*=256;return t}binary.writeUintLE=writeUintLE;function readFloat32BE(r,e){e===void 0&&(e=0);var t=new DataView(r.buffer,r.byteOffset,r.byteLength);return t.getFloat32(e)}binary.readFloat32BE=readFloat32BE;function readFloat32LE(r,e){e===void 0&&(e=0);var t=new DataView(r.buffer,r.byteOffset,r.byteLength);return t.getFloat32(e,!0)}binary.readFloat32LE=readFloat32LE;function readFloat64BE(r,e){e===void 0&&(e=0);var t=new DataView(r.buffer,r.byteOffset,r.byteLength);return t.getFloat64(e)}binary.readFloat64BE=readFloat64BE;function readFloat64LE(r,e){e===void 0&&(e=0);var t=new DataView(r.buffer,r.byteOffset,r.byteLength);return t.getFloat64(e,!0)}binary.readFloat64LE=readFloat64LE;function writeFloat32BE(r,e,t){e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0);var s=new DataView(e.buffer,e.byteOffset,e.byteLength);return s.setFloat32(t,r),e}binary.writeFloat32BE=writeFloat32BE;function writeFloat32LE(r,e,t){e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0);var s=new DataView(e.buffer,e.byteOffset,e.byteLength);return s.setFloat32(t,r,!0),e}binary.writeFloat32LE=writeFloat32LE;function writeFloat64BE(r,e,t){e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0);var s=new DataView(e.buffer,e.byteOffset,e.byteLength);return s.setFloat64(t,r),e}binary.writeFloat64BE=writeFloat64BE;function writeFloat64LE(r,e,t){e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0);var s=new DataView(e.buffer,e.byteOffset,e.byteLength);return s.setFloat64(t,r,!0),e}binary.writeFloat64LE=writeFloat64LE;var wipe$1={};Object.defineProperty(wipe$1,"__esModule",{value:!0});function wipe(r){for(var e=0;e<r.length;e++)r[e]=0;return r}wipe$1.wipe=wipe;Object.defineProperty(chacha,"__esModule",{value:!0});var binary_1=binary,wipe_1$3=wipe$1,ROUNDS=20;function core(r,e,t){for(var s=1634760805,ne=857760878,o=2036477234,we=1797285236,ye=t[3]<<24|t[2]<<16|t[1]<<8|t[0],Ee=t[7]<<24|t[6]<<16|t[5]<<8|t[4],me=t[11]<<24|t[10]<<16|t[9]<<8|t[8],fe=t[15]<<24|t[14]<<16|t[13]<<8|t[12],xe=t[19]<<24|t[18]<<16|t[17]<<8|t[16],br=t[23]<<24|t[22]<<16|t[21]<<8|t[20],wr=t[27]<<24|t[26]<<16|t[25]<<8|t[24],kr=t[31]<<24|t[30]<<16|t[29]<<8|t[28],Vr=e[3]<<24|e[2]<<16|e[1]<<8|e[0],Zr=e[7]<<24|e[6]<<16|e[5]<<8|e[4],Qr=e[11]<<24|e[10]<<16|e[9]<<8|e[8],Yr=e[15]<<24|e[14]<<16|e[13]<<8|e[12],ii=s,ei=ne,si=o,ai=we,Gr=ye,fi=Ee,gi=me,Si=fe,oi=xe,Kr=br,Ie=wr,C=kr,be=Vr,Oe=Zr,fr=Qr,qr=Yr,Hr=0;Hr<ROUNDS;Hr+=2)ii=ii+Gr|0,be^=ii,be=be>>>16|be<<16,oi=oi+be|0,Gr^=oi,Gr=Gr>>>20|Gr<<12,ei=ei+fi|0,Oe^=ei,Oe=Oe>>>16|Oe<<16,Kr=Kr+Oe|0,fi^=Kr,fi=fi>>>20|fi<<12,si=si+gi|0,fr^=si,fr=fr>>>16|fr<<16,Ie=Ie+fr|0,gi^=Ie,gi=gi>>>20|gi<<12,ai=ai+Si|0,qr^=ai,qr=qr>>>16|qr<<16,C=C+qr|0,Si^=C,Si=Si>>>20|Si<<12,si=si+gi|0,fr^=si,fr=fr>>>24|fr<<8,Ie=Ie+fr|0,gi^=Ie,gi=gi>>>25|gi<<7,ai=ai+Si|0,qr^=ai,qr=qr>>>24|qr<<8,C=C+qr|0,Si^=C,Si=Si>>>25|Si<<7,ei=ei+fi|0,Oe^=ei,Oe=Oe>>>24|Oe<<8,Kr=Kr+Oe|0,fi^=Kr,fi=fi>>>25|fi<<7,ii=ii+Gr|0,be^=ii,be=be>>>24|be<<8,oi=oi+be|0,Gr^=oi,Gr=Gr>>>25|Gr<<7,ii=ii+fi|0,qr^=ii,qr=qr>>>16|qr<<16,Ie=Ie+qr|0,fi^=Ie,fi=fi>>>20|fi<<12,ei=ei+gi|0,be^=ei,be=be>>>16|be<<16,C=C+be|0,gi^=C,gi=gi>>>20|gi<<12,si=si+Si|0,Oe^=si,Oe=Oe>>>16|Oe<<16,oi=oi+Oe|0,Si^=oi,Si=Si>>>20|Si<<12,ai=ai+Gr|0,fr^=ai,fr=fr>>>16|fr<<16,Kr=Kr+fr|0,Gr^=Kr,Gr=Gr>>>20|Gr<<12,si=si+Si|0,Oe^=si,Oe=Oe>>>24|Oe<<8,oi=oi+Oe|0,Si^=oi,Si=Si>>>25|Si<<7,ai=ai+Gr|0,fr^=ai,fr=fr>>>24|fr<<8,Kr=Kr+fr|0,Gr^=Kr,Gr=Gr>>>25|Gr<<7,ei=ei+gi|0,be^=ei,be=be>>>24|be<<8,C=C+be|0,gi^=C,gi=gi>>>25|gi<<7,ii=ii+fi|0,qr^=ii,qr=qr>>>24|qr<<8,Ie=Ie+qr|0,fi^=Ie,fi=fi>>>25|fi<<7;binary_1.writeUint32LE(ii+s|0,r,0),binary_1.writeUint32LE(ei+ne|0,r,4),binary_1.writeUint32LE(si+o|0,r,8),binary_1.writeUint32LE(ai+we|0,r,12),binary_1.writeUint32LE(Gr+ye|0,r,16),binary_1.writeUint32LE(fi+Ee|0,r,20),binary_1.writeUint32LE(gi+me|0,r,24),binary_1.writeUint32LE(Si+fe|0,r,28),binary_1.writeUint32LE(oi+xe|0,r,32),binary_1.writeUint32LE(Kr+br|0,r,36),binary_1.writeUint32LE(Ie+wr|0,r,40),binary_1.writeUint32LE(C+kr|0,r,44),binary_1.writeUint32LE(be+Vr|0,r,48),binary_1.writeUint32LE(Oe+Zr|0,r,52),binary_1.writeUint32LE(fr+Qr|0,r,56),binary_1.writeUint32LE(qr+Yr|0,r,60)}function streamXOR(r,e,t,s,ne){if(ne===void 0&&(ne=0),r.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(s.length<t.length)throw new Error("ChaCha: destination is shorter than source");var o,we;if(ne===0){if(e.length!==8&&e.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");o=new Uint8Array(16),we=o.length-e.length,o.set(e,we)}else{if(e.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");o=e,we=ne}for(var ye=new Uint8Array(64),Ee=0;Ee<t.length;Ee+=64){core(ye,o,r);for(var me=Ee;me<Ee+64&&me<t.length;me++)s[me]=t[me]^ye[me-Ee];incrementCounter(o,0,we)}return wipe_1$3.wipe(ye),ne===0&&wipe_1$3.wipe(o),s}chacha.streamXOR=streamXOR;function stream(r,e,t,s){return s===void 0&&(s=0),wipe_1$3.wipe(t),streamXOR(r,e,t,t,s)}chacha.stream=stream;function incrementCounter(r,e,t){for(var s=1;t--;)s=s+(r[e]&255)|0,r[e]=s&255,s>>>=8,e++;if(s>0)throw new Error("ChaCha: counter overflow")}var poly1305={},constantTime={};Object.defineProperty(constantTime,"__esModule",{value:!0});function select(r,e,t){return~(r-1)&e|r-1&t}constantTime.select=select;function lessOrEqual(r,e){return(r|0)-(e|0)-1>>>31&1}constantTime.lessOrEqual=lessOrEqual;function compare(r,e){if(r.length!==e.length)return 0;for(var t=0,s=0;s<r.length;s++)t|=r[s]^e[s];return 1&t-1>>>8}constantTime.compare=compare;function equal(r,e){return r.length===0||e.length===0?!1:compare(r,e)!==0}constantTime.equal=equal;(function(r){Object.defineProperty(r,"__esModule",{value:!0});var e=constantTime,t=wipe$1;r.DIGEST_LENGTH=16;var s=function(){function we(ye){this.digestLength=r.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var Ee=ye[0]|ye[1]<<8;this._r[0]=Ee&8191;var me=ye[2]|ye[3]<<8;this._r[1]=(Ee>>>13|me<<3)&8191;var fe=ye[4]|ye[5]<<8;this._r[2]=(me>>>10|fe<<6)&7939;var xe=ye[6]|ye[7]<<8;this._r[3]=(fe>>>7|xe<<9)&8191;var br=ye[8]|ye[9]<<8;this._r[4]=(xe>>>4|br<<12)&255,this._r[5]=br>>>1&8190;var wr=ye[10]|ye[11]<<8;this._r[6]=(br>>>14|wr<<2)&8191;var kr=ye[12]|ye[13]<<8;this._r[7]=(wr>>>11|kr<<5)&8065;var Vr=ye[14]|ye[15]<<8;this._r[8]=(kr>>>8|Vr<<8)&8191,this._r[9]=Vr>>>5&127,this._pad[0]=ye[16]|ye[17]<<8,this._pad[1]=ye[18]|ye[19]<<8,this._pad[2]=ye[20]|ye[21]<<8,this._pad[3]=ye[22]|ye[23]<<8,this._pad[4]=ye[24]|ye[25]<<8,this._pad[5]=ye[26]|ye[27]<<8,this._pad[6]=ye[28]|ye[29]<<8,this._pad[7]=ye[30]|ye[31]<<8}return we.prototype._blocks=function(ye,Ee,me){for(var fe=this._fin?0:2048,xe=this._h[0],br=this._h[1],wr=this._h[2],kr=this._h[3],Vr=this._h[4],Zr=this._h[5],Qr=this._h[6],Yr=this._h[7],ii=this._h[8],ei=this._h[9],si=this._r[0],ai=this._r[1],Gr=this._r[2],fi=this._r[3],gi=this._r[4],Si=this._r[5],oi=this._r[6],Kr=this._r[7],Ie=this._r[8],C=this._r[9];me>=16;){var be=ye[Ee+0]|ye[Ee+1]<<8;xe+=be&8191;var Oe=ye[Ee+2]|ye[Ee+3]<<8;br+=(be>>>13|Oe<<3)&8191;var fr=ye[Ee+4]|ye[Ee+5]<<8;wr+=(Oe>>>10|fr<<6)&8191;var qr=ye[Ee+6]|ye[Ee+7]<<8;kr+=(fr>>>7|qr<<9)&8191;var Hr=ye[Ee+8]|ye[Ee+9]<<8;Vr+=(qr>>>4|Hr<<12)&8191,Zr+=Hr>>>1&8191;var Er=ye[Ee+10]|ye[Ee+11]<<8;Qr+=(Hr>>>14|Er<<2)&8191;var jr=ye[Ee+12]|ye[Ee+13]<<8;Yr+=(Er>>>11|jr<<5)&8191;var Se=ye[Ee+14]|ye[Ee+15]<<8;ii+=(jr>>>8|Se<<8)&8191,ei+=Se>>>5|fe;var Wr=0,bi=Wr;bi+=xe*si,bi+=br*(5*C),bi+=wr*(5*Ie),bi+=kr*(5*Kr),bi+=Vr*(5*oi),Wr=bi>>>13,bi&=8191,bi+=Zr*(5*Si),bi+=Qr*(5*gi),bi+=Yr*(5*fi),bi+=ii*(5*Gr),bi+=ei*(5*ai),Wr+=bi>>>13,bi&=8191;var vi=Wr;vi+=xe*ai,vi+=br*si,vi+=wr*(5*C),vi+=kr*(5*Ie),vi+=Vr*(5*Kr),Wr=vi>>>13,vi&=8191,vi+=Zr*(5*oi),vi+=Qr*(5*Si),vi+=Yr*(5*gi),vi+=ii*(5*fi),vi+=ei*(5*Gr),Wr+=vi>>>13,vi&=8191;var Ei=Wr;Ei+=xe*Gr,Ei+=br*ai,Ei+=wr*si,Ei+=kr*(5*C),Ei+=Vr*(5*Ie),Wr=Ei>>>13,Ei&=8191,Ei+=Zr*(5*Kr),Ei+=Qr*(5*oi),Ei+=Yr*(5*Si),Ei+=ii*(5*gi),Ei+=ei*(5*fi),Wr+=Ei>>>13,Ei&=8191;var ti=Wr;ti+=xe*fi,ti+=br*Gr,ti+=wr*ai,ti+=kr*si,ti+=Vr*(5*C),Wr=ti>>>13,ti&=8191,ti+=Zr*(5*Ie),ti+=Qr*(5*Kr),ti+=Yr*(5*oi),ti+=ii*(5*Si),ti+=ei*(5*gi),Wr+=ti>>>13,ti&=8191;var ri=Wr;ri+=xe*gi,ri+=br*fi,ri+=wr*Gr,ri+=kr*ai,ri+=Vr*si,Wr=ri>>>13,ri&=8191,ri+=Zr*(5*C),ri+=Qr*(5*Ie),ri+=Yr*(5*Kr),ri+=ii*(5*oi),ri+=ei*(5*Si),Wr+=ri>>>13,ri&=8191;var ci=Wr;ci+=xe*Si,ci+=br*gi,ci+=wr*fi,ci+=kr*Gr,ci+=Vr*ai,Wr=ci>>>13,ci&=8191,ci+=Zr*si,ci+=Qr*(5*C),ci+=Yr*(5*Ie),ci+=ii*(5*Kr),ci+=ei*(5*oi),Wr+=ci>>>13,ci&=8191;var Jr=Wr;Jr+=xe*oi,Jr+=br*Si,Jr+=wr*gi,Jr+=kr*fi,Jr+=Vr*Gr,Wr=Jr>>>13,Jr&=8191,Jr+=Zr*ai,Jr+=Qr*si,Jr+=Yr*(5*C),Jr+=ii*(5*Ie),Jr+=ei*(5*Kr),Wr+=Jr>>>13,Jr&=8191;var li=Wr;li+=xe*Kr,li+=br*oi,li+=wr*Si,li+=kr*gi,li+=Vr*fi,Wr=li>>>13,li&=8191,li+=Zr*Gr,li+=Qr*ai,li+=Yr*si,li+=ii*(5*C),li+=ei*(5*Ie),Wr+=li>>>13,li&=8191;var yi=Wr;yi+=xe*Ie,yi+=br*Kr,yi+=wr*oi,yi+=kr*Si,yi+=Vr*gi,Wr=yi>>>13,yi&=8191,yi+=Zr*fi,yi+=Qr*Gr,yi+=Yr*ai,yi+=ii*si,yi+=ei*(5*C),Wr+=yi>>>13,yi&=8191;var $i=Wr;$i+=xe*C,$i+=br*Ie,$i+=wr*Kr,$i+=kr*oi,$i+=Vr*Si,Wr=$i>>>13,$i&=8191,$i+=Zr*gi,$i+=Qr*fi,$i+=Yr*Gr,$i+=ii*ai,$i+=ei*si,Wr+=$i>>>13,$i&=8191,Wr=(Wr<<2)+Wr|0,Wr=Wr+bi|0,bi=Wr&8191,Wr=Wr>>>13,vi+=Wr,xe=bi,br=vi,wr=Ei,kr=ti,Vr=ri,Zr=ci,Qr=Jr,Yr=li,ii=yi,ei=$i,Ee+=16,me-=16}this._h[0]=xe,this._h[1]=br,this._h[2]=wr,this._h[3]=kr,this._h[4]=Vr,this._h[5]=Zr,this._h[6]=Qr,this._h[7]=Yr,this._h[8]=ii,this._h[9]=ei},we.prototype.finish=function(ye,Ee){Ee===void 0&&(Ee=0);var me=new Uint16Array(10),fe,xe,br,wr;if(this._leftover){for(wr=this._leftover,this._buffer[wr++]=1;wr<16;wr++)this._buffer[wr]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(fe=this._h[1]>>>13,this._h[1]&=8191,wr=2;wr<10;wr++)this._h[wr]+=fe,fe=this._h[wr]>>>13,this._h[wr]&=8191;for(this._h[0]+=fe*5,fe=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=fe,fe=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=fe,me[0]=this._h[0]+5,fe=me[0]>>>13,me[0]&=8191,wr=1;wr<10;wr++)me[wr]=this._h[wr]+fe,fe=me[wr]>>>13,me[wr]&=8191;for(me[9]-=8192,xe=(fe^1)-1,wr=0;wr<10;wr++)me[wr]&=xe;for(xe=~xe,wr=0;wr<10;wr++)this._h[wr]=this._h[wr]&xe|me[wr];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,br=this._h[0]+this._pad[0],this._h[0]=br&65535,wr=1;wr<8;wr++)br=(this._h[wr]+this._pad[wr]|0)+(br>>>16)|0,this._h[wr]=br&65535;return ye[Ee+0]=this._h[0]>>>0,ye[Ee+1]=this._h[0]>>>8,ye[Ee+2]=this._h[1]>>>0,ye[Ee+3]=this._h[1]>>>8,ye[Ee+4]=this._h[2]>>>0,ye[Ee+5]=this._h[2]>>>8,ye[Ee+6]=this._h[3]>>>0,ye[Ee+7]=this._h[3]>>>8,ye[Ee+8]=this._h[4]>>>0,ye[Ee+9]=this._h[4]>>>8,ye[Ee+10]=this._h[5]>>>0,ye[Ee+11]=this._h[5]>>>8,ye[Ee+12]=this._h[6]>>>0,ye[Ee+13]=this._h[6]>>>8,ye[Ee+14]=this._h[7]>>>0,ye[Ee+15]=this._h[7]>>>8,this._finished=!0,this},we.prototype.update=function(ye){var Ee=0,me=ye.length,fe;if(this._leftover){fe=16-this._leftover,fe>me&&(fe=me);for(var xe=0;xe<fe;xe++)this._buffer[this._leftover+xe]=ye[Ee+xe];if(me-=fe,Ee+=fe,this._leftover+=fe,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(me>=16&&(fe=me-me%16,this._blocks(ye,Ee,fe),Ee+=fe,me-=fe),me){for(var xe=0;xe<me;xe++)this._buffer[this._leftover+xe]=ye[Ee+xe];this._leftover+=me}return this},we.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var ye=new Uint8Array(16);return this.finish(ye),ye},we.prototype.clean=function(){return t.wipe(this._buffer),t.wipe(this._r),t.wipe(this._h),t.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},we}();r.Poly1305=s;function ne(we,ye){var Ee=new s(we);Ee.update(ye);var me=Ee.digest();return Ee.clean(),me}r.oneTimeAuth=ne;function o(we,ye){return we.length!==r.DIGEST_LENGTH||ye.length!==r.DIGEST_LENGTH?!1:e.equal(we,ye)}r.equal=o})(poly1305);(function(r){Object.defineProperty(r,"__esModule",{value:!0});var e=chacha,t=poly1305,s=wipe$1,ne=binary,o=constantTime;r.KEY_LENGTH=32,r.NONCE_LENGTH=12,r.TAG_LENGTH=16;var we=new Uint8Array(16),ye=function(){function Ee(me){if(this.nonceLength=r.NONCE_LENGTH,this.tagLength=r.TAG_LENGTH,me.length!==r.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(me)}return Ee.prototype.seal=function(me,fe,xe,br){if(me.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var wr=new Uint8Array(16);wr.set(me,wr.length-me.length);var kr=new Uint8Array(32);e.stream(this._key,wr,kr,4);var Vr=fe.length+this.tagLength,Zr;if(br){if(br.length!==Vr)throw new Error("ChaCha20Poly1305: incorrect destination length");Zr=br}else Zr=new Uint8Array(Vr);return e.streamXOR(this._key,wr,fe,Zr,4),this._authenticate(Zr.subarray(Zr.length-this.tagLength,Zr.length),kr,Zr.subarray(0,Zr.length-this.tagLength),xe),s.wipe(wr),Zr},Ee.prototype.open=function(me,fe,xe,br){if(me.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(fe.length<this.tagLength)return null;var wr=new Uint8Array(16);wr.set(me,wr.length-me.length);var kr=new Uint8Array(32);e.stream(this._key,wr,kr,4);var Vr=new Uint8Array(this.tagLength);if(this._authenticate(Vr,kr,fe.subarray(0,fe.length-this.tagLength),xe),!o.equal(Vr,fe.subarray(fe.length-this.tagLength,fe.length)))return null;var Zr=fe.length-this.tagLength,Qr;if(br){if(br.length!==Zr)throw new Error("ChaCha20Poly1305: incorrect destination length");Qr=br}else Qr=new Uint8Array(Zr);return e.streamXOR(this._key,wr,fe.subarray(0,fe.length-this.tagLength),Qr,4),s.wipe(wr),Qr},Ee.prototype.clean=function(){return s.wipe(this._key),this},Ee.prototype._authenticate=function(me,fe,xe,br){var wr=new t.Poly1305(fe);br&&(wr.update(br),br.length%16>0&&wr.update(we.subarray(br.length%16))),wr.update(xe),xe.length%16>0&&wr.update(we.subarray(xe.length%16));var kr=new Uint8Array(8);br&&ne.writeUint64LE(br.length,kr),wr.update(kr),ne.writeUint64LE(xe.length,kr),wr.update(kr);for(var Vr=wr.digest(),Zr=0;Zr<Vr.length;Zr++)me[Zr]=Vr[Zr];wr.clean(),s.wipe(Vr),s.wipe(kr)},Ee}();r.ChaCha20Poly1305=ye})(chacha20poly1305);var hkdf={},hmac$2={},hash$1={};Object.defineProperty(hash$1,"__esModule",{value:!0});function isSerializableHash(r){return typeof r.saveState<"u"&&typeof r.restoreState<"u"&&typeof r.cleanSavedState<"u"}hash$1.isSerializableHash=isSerializableHash;Object.defineProperty(hmac$2,"__esModule",{value:!0});var hash_1=hash$1,constant_time_1=constantTime,wipe_1$2=wipe$1,HMAC=function(){function r(e,t){this._finished=!1,this._inner=new e,this._outer=new e,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var s=new Uint8Array(this.blockSize);t.length>this.blockSize?this._inner.update(t).finish(s).clean():s.set(t);for(var ne=0;ne<s.length;ne++)s[ne]^=54;this._inner.update(s);for(var ne=0;ne<s.length;ne++)s[ne]^=106;this._outer.update(s),hash_1.isSerializableHash(this._inner)&&hash_1.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),wipe_1$2.wipe(s)}return r.prototype.reset=function(){if(!hash_1.isSerializableHash(this._inner)||!hash_1.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},r.prototype.clean=function(){hash_1.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),hash_1.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},r.prototype.update=function(e){return this._inner.update(e),this},r.prototype.finish=function(e){return this._finished?(this._outer.finish(e),this):(this._inner.finish(e),this._outer.update(e.subarray(0,this.digestLength)).finish(e),this._finished=!0,this)},r.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},r.prototype.saveState=function(){if(!hash_1.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},r.prototype.restoreState=function(e){if(!hash_1.isSerializableHash(this._inner)||!hash_1.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(e),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},r.prototype.cleanSavedState=function(e){if(!hash_1.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(e)},r}();hmac$2.HMAC=HMAC;function hmac$1(r,e,t){var s=new HMAC(r,e);s.update(t);var ne=s.digest();return s.clean(),ne}hmac$2.hmac=hmac$1;hmac$2.equal=constant_time_1.equal;Object.defineProperty(hkdf,"__esModule",{value:!0});var hmac_1=hmac$2,wipe_1$1=wipe$1,HKDF=function(){function r(e,t,s,ne){s===void 0&&(s=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=e,this._info=ne;var o=hmac_1.hmac(this._hash,s,t);this._hmac=new hmac_1.HMAC(e,o),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return r.prototype._fillBuffer=function(){this._counter[0]++;var e=this._counter[0];if(e===0)throw new Error("hkdf: cannot expand more");this._hmac.reset(),e>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},r.prototype.expand=function(e){for(var t=new Uint8Array(e),s=0;s<t.length;s++)this._bufpos===this._buffer.length&&this._fillBuffer(),t[s]=this._buffer[this._bufpos++];return t},r.prototype.clean=function(){this._hmac.clean(),wipe_1$1.wipe(this._buffer),wipe_1$1.wipe(this._counter),this._bufpos=0},r}(),HKDF_1=hkdf.HKDF=HKDF,random={},system={},browser$d={};Object.defineProperty(browser$d,"__esModule",{value:!0});browser$d.BrowserRandomSource=void 0;const QUOTA=65536;class BrowserRandomSource{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const e=typeof self<"u"?self.crypto||self.msCrypto:null;e&&e.getRandomValues!==void 0&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const t=new Uint8Array(e);for(let s=0;s<t.length;s+=QUOTA)this._crypto.getRandomValues(t.subarray(s,s+Math.min(t.length-s,QUOTA)));return t}}browser$d.BrowserRandomSource=BrowserRandomSource;function commonjsRequire(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var node$1={},cryptoBrowserify={},browser$c={exports:{}},hasRequiredBrowser$a;function requireBrowser$a(){if(hasRequiredBrowser$a)return browser$c.exports;hasRequiredBrowser$a=1;var r=65536,e=4294967295;function t(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var s=safeBufferExports.Buffer,ne=commonjsGlobal.crypto||commonjsGlobal.msCrypto;ne&&ne.getRandomValues?browser$c.exports=o:browser$c.exports=t;function o(we,ye){if(we>e)throw new RangeError("requested too many random bytes");var Ee=s.allocUnsafe(we);if(we>0)if(we>r)for(var me=0;me<we;me+=r)ne.getRandomValues(Ee.slice(me,me+r));else ne.getRandomValues(Ee);return typeof ye=="function"?process$1.nextTick(function(){ye(null,Ee)}):Ee}return browser$c.exports}var hashBase$1,hasRequiredHashBase$1;function requireHashBase$1(){if(hasRequiredHashBase$1)return hashBase$1;hasRequiredHashBase$1=1;var r=safeBufferExports.Buffer,e=readableBrowserExports.Transform,t=inherits_browserExports;function s(o,we){if(!r.isBuffer(o)&&typeof o!="string")throw new TypeError(we+" must be a string or a buffer")}function ne(o){e.call(this),this._block=r.allocUnsafe(o),this._blockSize=o,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}return t(ne,e),ne.prototype._transform=function(o,we,ye){var Ee=null;try{this.update(o,we)}catch(me){Ee=me}ye(Ee)},ne.prototype._flush=function(o){var we=null;try{this.push(this.digest())}catch(ye){we=ye}o(we)},ne.prototype.update=function(o,we){if(s(o,"Data"),this._finalized)throw new Error("Digest already called");r.isBuffer(o)||(o=r.from(o,we));for(var ye=this._block,Ee=0;this._blockOffset+o.length-Ee>=this._blockSize;){for(var me=this._blockOffset;me<this._blockSize;)ye[me++]=o[Ee++];this._update(),this._blockOffset=0}for(;Ee<o.length;)ye[this._blockOffset++]=o[Ee++];for(var fe=0,xe=o.length*8;xe>0;++fe)this._length[fe]+=xe,xe=this._length[fe]/4294967296|0,xe>0&&(this._length[fe]-=4294967296*xe);return this},ne.prototype._update=function(){throw new Error("_update is not implemented")},ne.prototype.digest=function(o){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var we=this._digest();o!==void 0&&(we=we.toString(o)),this._block.fill(0),this._blockOffset=0;for(var ye=0;ye<4;++ye)this._length[ye]=0;return we},ne.prototype._digest=function(){throw new Error("_digest is not implemented")},hashBase$1=ne,hashBase$1}var md5_js,hasRequiredMd5_js;function requireMd5_js(){if(hasRequiredMd5_js)return md5_js;hasRequiredMd5_js=1;var r=inherits_browserExports,e=requireHashBase$1(),t=safeBufferExports.Buffer,s=new Array(16);function ne(){e.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}r(ne,e),ne.prototype._update=function(){for(var fe=s,xe=0;xe<16;++xe)fe[xe]=this._block.readInt32LE(xe*4);var br=this._a,wr=this._b,kr=this._c,Vr=this._d;br=we(br,wr,kr,Vr,fe[0],3614090360,7),Vr=we(Vr,br,wr,kr,fe[1],3905402710,12),kr=we(kr,Vr,br,wr,fe[2],606105819,17),wr=we(wr,kr,Vr,br,fe[3],3250441966,22),br=we(br,wr,kr,Vr,fe[4],4118548399,7),Vr=we(Vr,br,wr,kr,fe[5],1200080426,12),kr=we(kr,Vr,br,wr,fe[6],2821735955,17),wr=we(wr,kr,Vr,br,fe[7],4249261313,22),br=we(br,wr,kr,Vr,fe[8],1770035416,7),Vr=we(Vr,br,wr,kr,fe[9],2336552879,12),kr=we(kr,Vr,br,wr,fe[10],4294925233,17),wr=we(wr,kr,Vr,br,fe[11],2304563134,22),br=we(br,wr,kr,Vr,fe[12],1804603682,7),Vr=we(Vr,br,wr,kr,fe[13],4254626195,12),kr=we(kr,Vr,br,wr,fe[14],2792965006,17),wr=we(wr,kr,Vr,br,fe[15],1236535329,22),br=ye(br,wr,kr,Vr,fe[1],4129170786,5),Vr=ye(Vr,br,wr,kr,fe[6],3225465664,9),kr=ye(kr,Vr,br,wr,fe[11],643717713,14),wr=ye(wr,kr,Vr,br,fe[0],3921069994,20),br=ye(br,wr,kr,Vr,fe[5],3593408605,5),Vr=ye(Vr,br,wr,kr,fe[10],38016083,9),kr=ye(kr,Vr,br,wr,fe[15],3634488961,14),wr=ye(wr,kr,Vr,br,fe[4],3889429448,20),br=ye(br,wr,kr,Vr,fe[9],568446438,5),Vr=ye(Vr,br,wr,kr,fe[14],3275163606,9),kr=ye(kr,Vr,br,wr,fe[3],4107603335,14),wr=ye(wr,kr,Vr,br,fe[8],1163531501,20),br=ye(br,wr,kr,Vr,fe[13],2850285829,5),Vr=ye(Vr,br,wr,kr,fe[2],4243563512,9),kr=ye(kr,Vr,br,wr,fe[7],1735328473,14),wr=ye(wr,kr,Vr,br,fe[12],2368359562,20),br=Ee(br,wr,kr,Vr,fe[5],4294588738,4),Vr=Ee(Vr,br,wr,kr,fe[8],2272392833,11),kr=Ee(kr,Vr,br,wr,fe[11],1839030562,16),wr=Ee(wr,kr,Vr,br,fe[14],4259657740,23),br=Ee(br,wr,kr,Vr,fe[1],2763975236,4),Vr=Ee(Vr,br,wr,kr,fe[4],1272893353,11),kr=Ee(kr,Vr,br,wr,fe[7],4139469664,16),wr=Ee(wr,kr,Vr,br,fe[10],3200236656,23),br=Ee(br,wr,kr,Vr,fe[13],681279174,4),Vr=Ee(Vr,br,wr,kr,fe[0],3936430074,11),kr=Ee(kr,Vr,br,wr,fe[3],3572445317,16),wr=Ee(wr,kr,Vr,br,fe[6],76029189,23),br=Ee(br,wr,kr,Vr,fe[9],3654602809,4),Vr=Ee(Vr,br,wr,kr,fe[12],3873151461,11),kr=Ee(kr,Vr,br,wr,fe[15],530742520,16),wr=Ee(wr,kr,Vr,br,fe[2],3299628645,23),br=me(br,wr,kr,Vr,fe[0],4096336452,6),Vr=me(Vr,br,wr,kr,fe[7],1126891415,10),kr=me(kr,Vr,br,wr,fe[14],2878612391,15),wr=me(wr,kr,Vr,br,fe[5],4237533241,21),br=me(br,wr,kr,Vr,fe[12],1700485571,6),Vr=me(Vr,br,wr,kr,fe[3],2399980690,10),kr=me(kr,Vr,br,wr,fe[10],4293915773,15),wr=me(wr,kr,Vr,br,fe[1],2240044497,21),br=me(br,wr,kr,Vr,fe[8],1873313359,6),Vr=me(Vr,br,wr,kr,fe[15],4264355552,10),kr=me(kr,Vr,br,wr,fe[6],2734768916,15),wr=me(wr,kr,Vr,br,fe[13],1309151649,21),br=me(br,wr,kr,Vr,fe[4],4149444226,6),Vr=me(Vr,br,wr,kr,fe[11],3174756917,10),kr=me(kr,Vr,br,wr,fe[2],718787259,15),wr=me(wr,kr,Vr,br,fe[9],3951481745,21),this._a=this._a+br|0,this._b=this._b+wr|0,this._c=this._c+kr|0,this._d=this._d+Vr|0},ne.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var fe=t.allocUnsafe(16);return fe.writeInt32LE(this._a,0),fe.writeInt32LE(this._b,4),fe.writeInt32LE(this._c,8),fe.writeInt32LE(this._d,12),fe};function o(fe,xe){return fe<<xe|fe>>>32-xe}function we(fe,xe,br,wr,kr,Vr,Zr){return o(fe+(xe&br|~xe&wr)+kr+Vr|0,Zr)+xe|0}function ye(fe,xe,br,wr,kr,Vr,Zr){return o(fe+(xe&wr|br&~wr)+kr+Vr|0,Zr)+xe|0}function Ee(fe,xe,br,wr,kr,Vr,Zr){return o(fe+(xe^br^wr)+kr+Vr|0,Zr)+xe|0}function me(fe,xe,br,wr,kr,Vr,Zr){return o(fe+(br^(xe|~wr))+kr+Vr|0,Zr)+xe|0}return md5_js=ne,md5_js}var hashBase,hasRequiredHashBase;function requireHashBase(){if(hasRequiredHashBase)return hashBase;hasRequiredHashBase=1;var r=safeBufferExports.Buffer,e=readableBrowserExports.Transform,t=inherits_browserExports;function s(o,we){if(!r.isBuffer(o)&&typeof o!="string")throw new TypeError(we+" must be a string or a buffer")}function ne(o){e.call(this),this._block=r.allocUnsafe(o),this._blockSize=o,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}return t(ne,e),ne.prototype._transform=function(o,we,ye){var Ee=null;try{this.update(o,we)}catch(me){Ee=me}ye(Ee)},ne.prototype._flush=function(o){var we=null;try{this.push(this.digest())}catch(ye){we=ye}o(we)},ne.prototype.update=function(o,we){if(s(o,"Data"),this._finalized)throw new Error("Digest already called");r.isBuffer(o)||(o=r.from(o,we));for(var ye=this._block,Ee=0;this._blockOffset+o.length-Ee>=this._blockSize;){for(var me=this._blockOffset;me<this._blockSize;)ye[me++]=o[Ee++];this._update(),this._blockOffset=0}for(;Ee<o.length;)ye[this._blockOffset++]=o[Ee++];for(var fe=0,xe=o.length*8;xe>0;++fe)this._length[fe]+=xe,xe=this._length[fe]/4294967296|0,xe>0&&(this._length[fe]-=4294967296*xe);return this},ne.prototype._update=function(){throw new Error("_update is not implemented")},ne.prototype.digest=function(o){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var we=this._digest();o!==void 0&&(we=we.toString(o)),this._block.fill(0),this._blockOffset=0;for(var ye=0;ye<4;++ye)this._length[ye]=0;return we},ne.prototype._digest=function(){throw new Error("_digest is not implemented")},hashBase=ne,hashBase}var ripemd160,hasRequiredRipemd160;function requireRipemd160(){if(hasRequiredRipemd160)return ripemd160;hasRequiredRipemd160=1;var r=require$$1$2.Buffer,e=inherits_browserExports,t=requireHashBase(),s=new Array(16),ne=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],o=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],we=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],ye=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Ee=[0,1518500249,1859775393,2400959708,2840853838],me=[1352829926,1548603684,1836072691,2053994217,0];function fe(){t.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}e(fe,t),fe.prototype._update=function(){for(var Qr=s,Yr=0;Yr<16;++Yr)Qr[Yr]=this._block.readInt32LE(Yr*4);for(var ii=this._a|0,ei=this._b|0,si=this._c|0,ai=this._d|0,Gr=this._e|0,fi=this._a|0,gi=this._b|0,Si=this._c|0,oi=this._d|0,Kr=this._e|0,Ie=0;Ie<80;Ie+=1){var C,be;Ie<16?(C=br(ii,ei,si,ai,Gr,Qr[ne[Ie]],Ee[0],we[Ie]),be=Zr(fi,gi,Si,oi,Kr,Qr[o[Ie]],me[0],ye[Ie])):Ie<32?(C=wr(ii,ei,si,ai,Gr,Qr[ne[Ie]],Ee[1],we[Ie]),be=Vr(fi,gi,Si,oi,Kr,Qr[o[Ie]],me[1],ye[Ie])):Ie<48?(C=kr(ii,ei,si,ai,Gr,Qr[ne[Ie]],Ee[2],we[Ie]),be=kr(fi,gi,Si,oi,Kr,Qr[o[Ie]],me[2],ye[Ie])):Ie<64?(C=Vr(ii,ei,si,ai,Gr,Qr[ne[Ie]],Ee[3],we[Ie]),be=wr(fi,gi,Si,oi,Kr,Qr[o[Ie]],me[3],ye[Ie])):(C=Zr(ii,ei,si,ai,Gr,Qr[ne[Ie]],Ee[4],we[Ie]),be=br(fi,gi,Si,oi,Kr,Qr[o[Ie]],me[4],ye[Ie])),ii=Gr,Gr=ai,ai=xe(si,10),si=ei,ei=C,fi=Kr,Kr=oi,oi=xe(Si,10),Si=gi,gi=be}var Oe=this._b+si+oi|0;this._b=this._c+ai+Kr|0,this._c=this._d+Gr+fi|0,this._d=this._e+ii+gi|0,this._e=this._a+ei+Si|0,this._a=Oe},fe.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var Qr=r.alloc?r.alloc(20):new r(20);return Qr.writeInt32LE(this._a,0),Qr.writeInt32LE(this._b,4),Qr.writeInt32LE(this._c,8),Qr.writeInt32LE(this._d,12),Qr.writeInt32LE(this._e,16),Qr};function xe(Qr,Yr){return Qr<<Yr|Qr>>>32-Yr}function br(Qr,Yr,ii,ei,si,ai,Gr,fi){return xe(Qr+(Yr^ii^ei)+ai+Gr|0,fi)+si|0}function wr(Qr,Yr,ii,ei,si,ai,Gr,fi){return xe(Qr+(Yr&ii|~Yr&ei)+ai+Gr|0,fi)+si|0}function kr(Qr,Yr,ii,ei,si,ai,Gr,fi){return xe(Qr+((Yr|~ii)^ei)+ai+Gr|0,fi)+si|0}function Vr(Qr,Yr,ii,ei,si,ai,Gr,fi){return xe(Qr+(Yr&ei|ii&~ei)+ai+Gr|0,fi)+si|0}function Zr(Qr,Yr,ii,ei,si,ai,Gr,fi){return xe(Qr+(Yr^(ii|~ei))+ai+Gr|0,fi)+si|0}return ripemd160=fe,ripemd160}var streamBrowserify,hasRequiredStreamBrowserify;function requireStreamBrowserify(){if(hasRequiredStreamBrowserify)return streamBrowserify;hasRequiredStreamBrowserify=1,streamBrowserify=t;var r=eventsExports.EventEmitter,e=inherits_browserExports;e(t,r),t.Readable=require_stream_readable$1(),t.Writable=require_stream_writable$1(),t.Duplex=require_stream_duplex$1(),t.Transform=_stream_transform$1,t.PassThrough=_stream_passthrough$1,t.finished=endOfStream,t.pipeline=pipeline_1,t.Stream=t;function t(){r.call(this)}return t.prototype.pipe=function(s,ne){var o=this;function we(wr){s.writable&&s.write(wr)===!1&&o.pause&&o.pause()}o.on("data",we);function ye(){o.readable&&o.resume&&o.resume()}s.on("drain",ye),!s._isStdio&&(!ne||ne.end!==!1)&&(o.on("end",me),o.on("close",fe));var Ee=!1;function me(){Ee||(Ee=!0,s.end())}function fe(){Ee||(Ee=!0,typeof s.destroy=="function"&&s.destroy())}function xe(wr){if(br(),r.listenerCount(this,"error")===0)throw wr}o.on("error",xe),s.on("error",xe);function br(){o.removeListener("data",we),s.removeListener("drain",ye),o.removeListener("end",me),o.removeListener("close",fe),o.removeListener("error",xe),s.removeListener("error",xe),o.removeListener("end",br),o.removeListener("close",br),s.removeListener("close",br)}return o.on("end",br),o.on("close",br),s.on("close",br),s.emit("pipe",o),s},streamBrowserify}var cipherBase,hasRequiredCipherBase;function requireCipherBase(){if(hasRequiredCipherBase)return cipherBase;hasRequiredCipherBase=1;var r=safeBufferExports.Buffer,e=requireStreamBrowserify().Transform,t=requireString_decoder().StringDecoder,s=inherits_browserExports;function ne(o){e.call(this),this.hashMode=typeof o=="string",this.hashMode?this[o]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}return s(ne,e),ne.prototype.update=function(o,we,ye){typeof o=="string"&&(o=r.from(o,we));var Ee=this._update(o);return this.hashMode?this:(ye&&(Ee=this._toString(Ee,ye)),Ee)},ne.prototype.setAutoPadding=function(){},ne.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},ne.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},ne.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},ne.prototype._transform=function(o,we,ye){var Ee;try{this.hashMode?this._update(o):this.push(this._update(o))}catch(me){Ee=me}finally{ye(Ee)}},ne.prototype._flush=function(o){var we;try{this.push(this.__final())}catch(ye){we=ye}o(we)},ne.prototype._finalOrDigest=function(o){var we=this.__final()||r.alloc(0);return o&&(we=this._toString(we,o,!0)),we},ne.prototype._toString=function(o,we,ye){if(this._decoder||(this._decoder=new t(we),this._encoding=we),this._encoding!==we)throw new Error("can't switch encodings");var Ee=this._decoder.write(o);return ye&&(Ee+=this._decoder.end()),Ee},cipherBase=ne,cipherBase}var browser$b,hasRequiredBrowser$9;function requireBrowser$9(){if(hasRequiredBrowser$9)return browser$b;hasRequiredBrowser$9=1;var r=inherits_browserExports,e=requireMd5_js(),t=requireRipemd160(),s=sha_jsExports,ne=requireCipherBase();function o(we){ne.call(this,"digest"),this._hash=we}return r(o,ne),o.prototype._update=function(we){this._hash.update(we)},o.prototype._final=function(){return this._hash.digest()},browser$b=function(ye){return ye=ye.toLowerCase(),ye==="md5"?new e:ye==="rmd160"||ye==="ripemd160"?new t:new o(s(ye))},browser$b}var legacy,hasRequiredLegacy;function requireLegacy(){if(hasRequiredLegacy)return legacy;hasRequiredLegacy=1;var r=inherits_browserExports,e=safeBufferExports.Buffer,t=requireCipherBase(),s=e.alloc(128),ne=64;function o(we,ye){t.call(this,"digest"),typeof ye=="string"&&(ye=e.from(ye)),this._alg=we,this._key=ye,ye.length>ne?ye=we(ye):ye.length<ne&&(ye=e.concat([ye,s],ne));for(var Ee=this._ipad=e.allocUnsafe(ne),me=this._opad=e.allocUnsafe(ne),fe=0;fe<ne;fe++)Ee[fe]=ye[fe]^54,me[fe]=ye[fe]^92;this._hash=[Ee]}return r(o,t),o.prototype._update=function(we){this._hash.push(we)},o.prototype._final=function(){var we=this._alg(e.concat(this._hash));return this._alg(e.concat([this._opad,we]))},legacy=o,legacy}var md5,hasRequiredMd5;function requireMd5(){if(hasRequiredMd5)return md5;hasRequiredMd5=1;var r=requireMd5_js();return md5=function(e){return new r().update(e).digest()},md5}var browser$a,hasRequiredBrowser$8;function requireBrowser$8(){if(hasRequiredBrowser$8)return browser$a;hasRequiredBrowser$8=1;var r=inherits_browserExports,e=requireLegacy(),t=requireCipherBase(),s=safeBufferExports.Buffer,ne=requireMd5(),o=requireRipemd160(),we=sha_jsExports,ye=s.alloc(128);function Ee(me,fe){t.call(this,"digest"),typeof fe=="string"&&(fe=s.from(fe));var xe=me==="sha512"||me==="sha384"?128:64;if(this._alg=me,this._key=fe,fe.length>xe){var br=me==="rmd160"?new o:we(me);fe=br.update(fe).digest()}else fe.length<xe&&(fe=s.concat([fe,ye],xe));for(var wr=this._ipad=s.allocUnsafe(xe),kr=this._opad=s.allocUnsafe(xe),Vr=0;Vr<xe;Vr++)wr[Vr]=fe[Vr]^54,kr[Vr]=fe[Vr]^92;this._hash=me==="rmd160"?new o:we(me),this._hash.update(wr)}return r(Ee,t),Ee.prototype._update=function(me){this._hash.update(me)},Ee.prototype._final=function(){var me=this._hash.digest(),fe=this._alg==="rmd160"?new o:we(this._alg);return fe.update(this._opad).update(me).digest()},browser$a=function(fe,xe){return fe=fe.toLowerCase(),fe==="rmd160"||fe==="ripemd160"?new Ee("rmd160",xe):fe==="md5"?new e(ne,xe):new Ee(fe,xe)},browser$a}const sha224WithRSAEncryption={sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption={sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption={sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption={sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},sha256$1={sign:"ecdsa",hash:"sha256",id:""},sha224={sign:"ecdsa",hash:"sha224",id:""},sha384={sign:"ecdsa",hash:"sha384",id:""},sha512$1={sign:"ecdsa",hash:"sha512",id:""},DSA={sign:"dsa",hash:"sha1",id:""},ripemd160WithRSA={sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption={sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},require$$6={sha224WithRSAEncryption,"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption,"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption,"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption,"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:sha256$1,sha224,sha384,sha512:sha512$1,"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA,"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA,"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption,"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}};var algos,hasRequiredAlgos;function requireAlgos(){return hasRequiredAlgos||(hasRequiredAlgos=1,algos=require$$6),algos}var browser$9={},precondition,hasRequiredPrecondition;function requirePrecondition(){if(hasRequiredPrecondition)return precondition;hasRequiredPrecondition=1;var r=Math.pow(2,30)-1;return precondition=function(e,t){if(typeof e!="number")throw new TypeError("Iterations not a number");if(e<0)throw new TypeError("Bad iterations");if(typeof t!="number")throw new TypeError("Key length not a number");if(t<0||t>r||t!==t)throw new TypeError("Bad key length")},precondition}var defaultEncoding_1,hasRequiredDefaultEncoding;function requireDefaultEncoding(){if(hasRequiredDefaultEncoding)return defaultEncoding_1;hasRequiredDefaultEncoding=1;var r;if(commonjsGlobal.process&&commonjsGlobal.process.browser)r="utf-8";else if(commonjsGlobal.process&&commonjsGlobal.process.version){var e=parseInt(process$1.version.split(".")[0].slice(1),10);r=e>=6?"utf-8":"binary"}else r="utf-8";return defaultEncoding_1=r,defaultEncoding_1}var toBuffer,hasRequiredToBuffer;function requireToBuffer(){if(hasRequiredToBuffer)return toBuffer;hasRequiredToBuffer=1;var r=safeBufferExports.Buffer;return toBuffer=function(e,t,s){if(r.isBuffer(e))return e;if(typeof e=="string")return r.from(e,t);if(ArrayBuffer.isView(e))return r.from(e.buffer);throw new TypeError(s+" must be a string, a Buffer, a typed array or a DataView")},toBuffer}var syncBrowser,hasRequiredSyncBrowser;function requireSyncBrowser(){if(hasRequiredSyncBrowser)return syncBrowser;hasRequiredSyncBrowser=1;var r=requireMd5(),e=requireRipemd160(),t=sha_jsExports,s=safeBufferExports.Buffer,ne=requirePrecondition(),o=requireDefaultEncoding(),we=requireToBuffer(),ye=s.alloc(128),Ee={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function me(br,wr,kr){var Vr=fe(br),Zr=br==="sha512"||br==="sha384"?128:64;wr.length>Zr?wr=Vr(wr):wr.length<Zr&&(wr=s.concat([wr,ye],Zr));for(var Qr=s.allocUnsafe(Zr+Ee[br]),Yr=s.allocUnsafe(Zr+Ee[br]),ii=0;ii<Zr;ii++)Qr[ii]=wr[ii]^54,Yr[ii]=wr[ii]^92;var ei=s.allocUnsafe(Zr+kr+4);Qr.copy(ei,0,0,Zr),this.ipad1=ei,this.ipad2=Qr,this.opad=Yr,this.alg=br,this.blocksize=Zr,this.hash=Vr,this.size=Ee[br]}me.prototype.run=function(br,wr){br.copy(wr,this.blocksize);var kr=this.hash(wr);return kr.copy(this.opad,this.blocksize),this.hash(this.opad)};function fe(br){function wr(Vr){return t(br).update(Vr).digest()}function kr(Vr){return new e().update(Vr).digest()}return br==="rmd160"||br==="ripemd160"?kr:br==="md5"?r:wr}function xe(br,wr,kr,Vr,Zr){ne(kr,Vr),br=we(br,o,"Password"),wr=we(wr,o,"Salt"),Zr=Zr||"sha1";var Qr=new me(Zr,br,wr.length),Yr=s.allocUnsafe(Vr),ii=s.allocUnsafe(wr.length+4);wr.copy(ii,0,0,wr.length);for(var ei=0,si=Ee[Zr],ai=Math.ceil(Vr/si),Gr=1;Gr<=ai;Gr++){ii.writeUInt32BE(Gr,wr.length);for(var fi=Qr.run(ii,Qr.ipad1),gi=fi,Si=1;Si<kr;Si++){gi=Qr.run(gi,Qr.ipad2);for(var oi=0;oi<si;oi++)fi[oi]^=gi[oi]}fi.copy(Yr,ei),ei+=si}return Yr}return syncBrowser=xe,syncBrowser}var async,hasRequiredAsync;function requireAsync(){if(hasRequiredAsync)return async;hasRequiredAsync=1;var r=safeBufferExports.Buffer,e=requirePrecondition(),t=requireDefaultEncoding(),s=requireSyncBrowser(),ne=requireToBuffer(),o,we=commonjsGlobal.crypto&&commonjsGlobal.crypto.subtle,ye={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},Ee=[];function me(kr){if(commonjsGlobal.process&&!commonjsGlobal.process.browser||!we||!we.importKey||!we.deriveBits)return Promise.resolve(!1);if(Ee[kr]!==void 0)return Ee[kr];o=o||r.alloc(8);var Vr=br(o,o,10,128,kr).then(function(){return!0}).catch(function(){return!1});return Ee[kr]=Vr,Vr}var fe;function xe(){return fe||(commonjsGlobal.process&&commonjsGlobal.process.nextTick?fe=commonjsGlobal.process.nextTick:commonjsGlobal.queueMicrotask?fe=commonjsGlobal.queueMicrotask:commonjsGlobal.setImmediate?fe=commonjsGlobal.setImmediate:fe=commonjsGlobal.setTimeout,fe)}function br(kr,Vr,Zr,Qr,Yr){return we.importKey("raw",kr,{name:"PBKDF2"},!1,["deriveBits"]).then(function(ii){return we.deriveBits({name:"PBKDF2",salt:Vr,iterations:Zr,hash:{name:Yr}},ii,Qr<<3)}).then(function(ii){return r.from(ii)})}function wr(kr,Vr){kr.then(function(Zr){xe()(function(){Vr(null,Zr)})},function(Zr){xe()(function(){Vr(Zr)})})}return async=function(kr,Vr,Zr,Qr,Yr,ii){typeof Yr=="function"&&(ii=Yr,Yr=void 0),Yr=Yr||"sha1";var ei=ye[Yr.toLowerCase()];if(!ei||typeof globalThis.Promise!="function"){xe()(function(){var si;try{si=s(kr,Vr,Zr,Qr,Yr)}catch(ai){return ii(ai)}ii(null,si)});return}if(e(Zr,Qr),kr=ne(kr,t,"Password"),Vr=ne(Vr,t,"Salt"),typeof ii!="function")throw new Error("No callback provided to pbkdf2");wr(me(ei).then(function(si){return si?br(kr,Vr,Zr,Qr,ei):s(kr,Vr,Zr,Qr,Yr)}),ii)},async}var hasRequiredBrowser$7;function requireBrowser$7(){return hasRequiredBrowser$7||(hasRequiredBrowser$7=1,browser$9.pbkdf2=requireAsync(),browser$9.pbkdf2Sync=requireSyncBrowser()),browser$9}var browser$8={},des$1={},utils$4={},hasRequiredUtils$4;function requireUtils$4(){if(hasRequiredUtils$4)return utils$4;hasRequiredUtils$4=1,utils$4.readUInt32BE=function(ne,o){var we=ne[0+o]<<24|ne[1+o]<<16|ne[2+o]<<8|ne[3+o];return we>>>0},utils$4.writeUInt32BE=function(ne,o,we){ne[0+we]=o>>>24,ne[1+we]=o>>>16&255,ne[2+we]=o>>>8&255,ne[3+we]=o&255},utils$4.ip=function(ne,o,we,ye){for(var Ee=0,me=0,fe=6;fe>=0;fe-=2){for(var xe=0;xe<=24;xe+=8)Ee<<=1,Ee|=o>>>xe+fe&1;for(var xe=0;xe<=24;xe+=8)Ee<<=1,Ee|=ne>>>xe+fe&1}for(var fe=6;fe>=0;fe-=2){for(var xe=1;xe<=25;xe+=8)me<<=1,me|=o>>>xe+fe&1;for(var xe=1;xe<=25;xe+=8)me<<=1,me|=ne>>>xe+fe&1}we[ye+0]=Ee>>>0,we[ye+1]=me>>>0},utils$4.rip=function(ne,o,we,ye){for(var Ee=0,me=0,fe=0;fe<4;fe++)for(var xe=24;xe>=0;xe-=8)Ee<<=1,Ee|=o>>>xe+fe&1,Ee<<=1,Ee|=ne>>>xe+fe&1;for(var fe=4;fe<8;fe++)for(var xe=24;xe>=0;xe-=8)me<<=1,me|=o>>>xe+fe&1,me<<=1,me|=ne>>>xe+fe&1;we[ye+0]=Ee>>>0,we[ye+1]=me>>>0},utils$4.pc1=function(ne,o,we,ye){for(var Ee=0,me=0,fe=7;fe>=5;fe--){for(var xe=0;xe<=24;xe+=8)Ee<<=1,Ee|=o>>xe+fe&1;for(var xe=0;xe<=24;xe+=8)Ee<<=1,Ee|=ne>>xe+fe&1}for(var xe=0;xe<=24;xe+=8)Ee<<=1,Ee|=o>>xe+fe&1;for(var fe=1;fe<=3;fe++){for(var xe=0;xe<=24;xe+=8)me<<=1,me|=o>>xe+fe&1;for(var xe=0;xe<=24;xe+=8)me<<=1,me|=ne>>xe+fe&1}for(var xe=0;xe<=24;xe+=8)me<<=1,me|=ne>>xe+fe&1;we[ye+0]=Ee>>>0,we[ye+1]=me>>>0},utils$4.r28shl=function(ne,o){return ne<<o&268435455|ne>>>28-o};var r=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];utils$4.pc2=function(ne,o,we,ye){for(var Ee=0,me=0,fe=r.length>>>1,xe=0;xe<fe;xe++)Ee<<=1,Ee|=ne>>>r[xe]&1;for(var xe=fe;xe<r.length;xe++)me<<=1,me|=o>>>r[xe]&1;we[ye+0]=Ee>>>0,we[ye+1]=me>>>0},utils$4.expand=function(ne,o,we){var ye=0,Ee=0;ye=(ne&1)<<5|ne>>>27;for(var me=23;me>=15;me-=4)ye<<=6,ye|=ne>>>me&63;for(var me=11;me>=3;me-=4)Ee|=ne>>>me&63,Ee<<=6;Ee|=(ne&31)<<1|ne>>>31,o[we+0]=ye>>>0,o[we+1]=Ee>>>0};var e=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];utils$4.substitute=function(ne,o){for(var we=0,ye=0;ye<4;ye++){var Ee=ne>>>18-ye*6&63,me=e[ye*64+Ee];we<<=4,we|=me}for(var ye=0;ye<4;ye++){var Ee=o>>>18-ye*6&63,me=e[4*64+ye*64+Ee];we<<=4,we|=me}return we>>>0};var t=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];return utils$4.permute=function(ne){for(var o=0,we=0;we<t.length;we++)o<<=1,o|=ne>>>t[we]&1;return o>>>0},utils$4.padSplit=function(ne,o,we){for(var ye=ne.toString(2);ye.length<o;)ye="0"+ye;for(var Ee=[],me=0;me<o;me+=we)Ee.push(ye.slice(me,me+we));return Ee.join(" ")},utils$4}var minimalisticAssert,hasRequiredMinimalisticAssert;function requireMinimalisticAssert(){if(hasRequiredMinimalisticAssert)return minimalisticAssert;hasRequiredMinimalisticAssert=1,minimalisticAssert=r;function r(e,t){if(!e)throw new Error(t||"Assertion failed")}return r.equal=function(t,s,ne){if(t!=s)throw new Error(ne||"Assertion failed: "+t+" != "+s)},minimalisticAssert}var cipher,hasRequiredCipher;function requireCipher(){if(hasRequiredCipher)return cipher;hasRequiredCipher=1;var r=requireMinimalisticAssert();function e(t){this.options=t,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=t.padding!==!1}return cipher=e,e.prototype._init=function(){},e.prototype.update=function(s){return s.length===0?[]:this.type==="decrypt"?this._updateDecrypt(s):this._updateEncrypt(s)},e.prototype._buffer=function(s,ne){for(var o=Math.min(this.buffer.length-this.bufferOff,s.length-ne),we=0;we<o;we++)this.buffer[this.bufferOff+we]=s[ne+we];return this.bufferOff+=o,o},e.prototype._flushBuffer=function(s,ne){return this._update(this.buffer,0,s,ne),this.bufferOff=0,this.blockSize},e.prototype._updateEncrypt=function(s){var ne=0,o=0,we=(this.bufferOff+s.length)/this.blockSize|0,ye=new Array(we*this.blockSize);this.bufferOff!==0&&(ne+=this._buffer(s,ne),this.bufferOff===this.buffer.length&&(o+=this._flushBuffer(ye,o)));for(var Ee=s.length-(s.length-ne)%this.blockSize;ne<Ee;ne+=this.blockSize)this._update(s,ne,ye,o),o+=this.blockSize;for(;ne<s.length;ne++,this.bufferOff++)this.buffer[this.bufferOff]=s[ne];return ye},e.prototype._updateDecrypt=function(s){for(var ne=0,o=0,we=Math.ceil((this.bufferOff+s.length)/this.blockSize)-1,ye=new Array(we*this.blockSize);we>0;we--)ne+=this._buffer(s,ne),o+=this._flushBuffer(ye,o);return ne+=this._buffer(s,ne),ye},e.prototype.final=function(s){var ne;s&&(ne=this.update(s));var o;return this.type==="encrypt"?o=this._finalEncrypt():o=this._finalDecrypt(),ne?ne.concat(o):o},e.prototype._pad=function(s,ne){if(ne===0)return!1;for(;ne<s.length;)s[ne++]=0;return!0},e.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var s=new Array(this.blockSize);return this._update(this.buffer,0,s,0),s},e.prototype._unpad=function(s){return s},e.prototype._finalDecrypt=function(){r.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var s=new Array(this.blockSize);return this._flushBuffer(s,0),this._unpad(s)},cipher}var des,hasRequiredDes$1;function requireDes$1(){if(hasRequiredDes$1)return des;hasRequiredDes$1=1;var r=requireMinimalisticAssert(),e=inherits_browserExports,t=requireUtils$4(),s=requireCipher();function ne(){this.tmp=new Array(2),this.keys=null}function o(ye){s.call(this,ye);var Ee=new ne;this._desState=Ee,this.deriveKeys(Ee,ye.key)}e(o,s),des=o,o.create=function(Ee){return new o(Ee)};var we=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];return o.prototype.deriveKeys=function(Ee,me){Ee.keys=new Array(16*2),r.equal(me.length,this.blockSize,"Invalid key length");var fe=t.readUInt32BE(me,0),xe=t.readUInt32BE(me,4);t.pc1(fe,xe,Ee.tmp,0),fe=Ee.tmp[0],xe=Ee.tmp[1];for(var br=0;br<Ee.keys.length;br+=2){var wr=we[br>>>1];fe=t.r28shl(fe,wr),xe=t.r28shl(xe,wr),t.pc2(fe,xe,Ee.keys,br)}},o.prototype._update=function(Ee,me,fe,xe){var br=this._desState,wr=t.readUInt32BE(Ee,me),kr=t.readUInt32BE(Ee,me+4);t.ip(wr,kr,br.tmp,0),wr=br.tmp[0],kr=br.tmp[1],this.type==="encrypt"?this._encrypt(br,wr,kr,br.tmp,0):this._decrypt(br,wr,kr,br.tmp,0),wr=br.tmp[0],kr=br.tmp[1],t.writeUInt32BE(fe,wr,xe),t.writeUInt32BE(fe,kr,xe+4)},o.prototype._pad=function(Ee,me){if(this.padding===!1)return!1;for(var fe=Ee.length-me,xe=me;xe<Ee.length;xe++)Ee[xe]=fe;return!0},o.prototype._unpad=function(Ee){if(this.padding===!1)return Ee;for(var me=Ee[Ee.length-1],fe=Ee.length-me;fe<Ee.length;fe++)r.equal(Ee[fe],me);return Ee.slice(0,Ee.length-me)},o.prototype._encrypt=function(Ee,me,fe,xe,br){for(var wr=me,kr=fe,Vr=0;Vr<Ee.keys.length;Vr+=2){var Zr=Ee.keys[Vr],Qr=Ee.keys[Vr+1];t.expand(kr,Ee.tmp,0),Zr^=Ee.tmp[0],Qr^=Ee.tmp[1];var Yr=t.substitute(Zr,Qr),ii=t.permute(Yr),ei=kr;kr=(wr^ii)>>>0,wr=ei}t.rip(kr,wr,xe,br)},o.prototype._decrypt=function(Ee,me,fe,xe,br){for(var wr=fe,kr=me,Vr=Ee.keys.length-2;Vr>=0;Vr-=2){var Zr=Ee.keys[Vr],Qr=Ee.keys[Vr+1];t.expand(wr,Ee.tmp,0),Zr^=Ee.tmp[0],Qr^=Ee.tmp[1];var Yr=t.substitute(Zr,Qr),ii=t.permute(Yr),ei=wr;wr=(kr^ii)>>>0,kr=ei}t.rip(wr,kr,xe,br)},des}var cbc$1={},hasRequiredCbc$1;function requireCbc$1(){if(hasRequiredCbc$1)return cbc$1;hasRequiredCbc$1=1;var r=requireMinimalisticAssert(),e=inherits_browserExports,t={};function s(o){r.equal(o.length,8,"Invalid IV length"),this.iv=new Array(8);for(var we=0;we<this.iv.length;we++)this.iv[we]=o[we]}function ne(o){function we(fe){o.call(this,fe),this._cbcInit()}e(we,o);for(var ye=Object.keys(t),Ee=0;Ee<ye.length;Ee++){var me=ye[Ee];we.prototype[me]=t[me]}return we.create=function(xe){return new we(xe)},we}return cbc$1.instantiate=ne,t._cbcInit=function(){var we=new s(this.options.iv);this._cbcState=we},t._update=function(we,ye,Ee,me){var fe=this._cbcState,xe=this.constructor.super_.prototype,br=fe.iv;if(this.type==="encrypt"){for(var wr=0;wr<this.blockSize;wr++)br[wr]^=we[ye+wr];xe._update.call(this,br,0,Ee,me);for(var wr=0;wr<this.blockSize;wr++)br[wr]=Ee[me+wr]}else{xe._update.call(this,we,ye,Ee,me);for(var wr=0;wr<this.blockSize;wr++)Ee[me+wr]^=br[wr];for(var wr=0;wr<this.blockSize;wr++)br[wr]=we[ye+wr]}},cbc$1}var ede,hasRequiredEde;function requireEde(){if(hasRequiredEde)return ede;hasRequiredEde=1;var r=requireMinimalisticAssert(),e=inherits_browserExports,t=requireCipher(),s=requireDes$1();function ne(we,ye){r.equal(ye.length,24,"Invalid key length");var Ee=ye.slice(0,8),me=ye.slice(8,16),fe=ye.slice(16,24);we==="encrypt"?this.ciphers=[s.create({type:"encrypt",key:Ee}),s.create({type:"decrypt",key:me}),s.create({type:"encrypt",key:fe})]:this.ciphers=[s.create({type:"decrypt",key:fe}),s.create({type:"encrypt",key:me}),s.create({type:"decrypt",key:Ee})]}function o(we){t.call(this,we);var ye=new ne(this.type,this.options.key);this._edeState=ye}return e(o,t),ede=o,o.create=function(ye){return new o(ye)},o.prototype._update=function(ye,Ee,me,fe){var xe=this._edeState;xe.ciphers[0]._update(ye,Ee,me,fe),xe.ciphers[1]._update(me,fe,me,fe),xe.ciphers[2]._update(me,fe,me,fe)},o.prototype._pad=s.prototype._pad,o.prototype._unpad=s.prototype._unpad,ede}var hasRequiredDes;function requireDes(){return hasRequiredDes||(hasRequiredDes=1,des$1.utils=requireUtils$4(),des$1.Cipher=requireCipher(),des$1.DES=requireDes$1(),des$1.CBC=requireCbc$1(),des$1.EDE=requireEde()),des$1}var browserifyDes,hasRequiredBrowserifyDes;function requireBrowserifyDes(){if(hasRequiredBrowserifyDes)return browserifyDes;hasRequiredBrowserifyDes=1;var r=requireCipherBase(),e=requireDes(),t=inherits_browserExports,s=safeBufferExports.Buffer,ne={"des-ede3-cbc":e.CBC.instantiate(e.EDE),"des-ede3":e.EDE,"des-ede-cbc":e.CBC.instantiate(e.EDE),"des-ede":e.EDE,"des-cbc":e.CBC.instantiate(e.DES),"des-ecb":e.DES};ne.des=ne["des-cbc"],ne.des3=ne["des-ede3-cbc"],browserifyDes=o,t(o,r);function o(we){r.call(this);var ye=we.mode.toLowerCase(),Ee=ne[ye],me;we.decrypt?me="decrypt":me="encrypt";var fe=we.key;s.isBuffer(fe)||(fe=s.from(fe)),(ye==="des-ede"||ye==="des-ede-cbc")&&(fe=s.concat([fe,fe.slice(0,8)]));var xe=we.iv;s.isBuffer(xe)||(xe=s.from(xe)),this._des=Ee.create({key:fe,iv:xe,type:me})}return o.prototype._update=function(we){return s.from(this._des.update(we))},o.prototype._final=function(){return s.from(this._des.final())},browserifyDes}var browser$7={},encrypter={},ecb={},hasRequiredEcb;function requireEcb(){return hasRequiredEcb||(hasRequiredEcb=1,ecb.encrypt=function(r,e){return r._cipher.encryptBlock(e)},ecb.decrypt=function(r,e){return r._cipher.decryptBlock(e)}),ecb}var cbc={},bufferXor,hasRequiredBufferXor;function requireBufferXor(){return hasRequiredBufferXor||(hasRequiredBufferXor=1,bufferXor=function(e,t){for(var s=Math.min(e.length,t.length),ne=new Buffer(s),o=0;o<s;++o)ne[o]=e[o]^t[o];return ne}),bufferXor}var hasRequiredCbc;function requireCbc(){if(hasRequiredCbc)return cbc;hasRequiredCbc=1;var r=requireBufferXor();return cbc.encrypt=function(e,t){var s=r(t,e._prev);return e._prev=e._cipher.encryptBlock(s),e._prev},cbc.decrypt=function(e,t){var s=e._prev;e._prev=t;var ne=e._cipher.decryptBlock(t);return r(ne,s)},cbc}var cfb={},hasRequiredCfb;function requireCfb(){if(hasRequiredCfb)return cfb;hasRequiredCfb=1;var r=safeBufferExports.Buffer,e=requireBufferXor();function t(s,ne,o){var we=ne.length,ye=e(ne,s._cache);return s._cache=s._cache.slice(we),s._prev=r.concat([s._prev,o?ne:ye]),ye}return cfb.encrypt=function(s,ne,o){for(var we=r.allocUnsafe(0),ye;ne.length;)if(s._cache.length===0&&(s._cache=s._cipher.encryptBlock(s._prev),s._prev=r.allocUnsafe(0)),s._cache.length<=ne.length)ye=s._cache.length,we=r.concat([we,t(s,ne.slice(0,ye),o)]),ne=ne.slice(ye);else{we=r.concat([we,t(s,ne,o)]);break}return we},cfb}var cfb8={},hasRequiredCfb8;function requireCfb8(){if(hasRequiredCfb8)return cfb8;hasRequiredCfb8=1;var r=safeBufferExports.Buffer;function e(t,s,ne){var o=t._cipher.encryptBlock(t._prev),we=o[0]^s;return t._prev=r.concat([t._prev.slice(1),r.from([ne?s:we])]),we}return cfb8.encrypt=function(t,s,ne){for(var o=s.length,we=r.allocUnsafe(o),ye=-1;++ye<o;)we[ye]=e(t,s[ye],ne);return we},cfb8}var cfb1={},hasRequiredCfb1;function requireCfb1(){if(hasRequiredCfb1)return cfb1;hasRequiredCfb1=1;var r=safeBufferExports.Buffer;function e(s,ne,o){for(var we,ye=-1,Ee=8,me=0,fe,xe;++ye<Ee;)we=s._cipher.encryptBlock(s._prev),fe=ne&1<<7-ye?128:0,xe=we[0]^fe,me+=(xe&128)>>ye%8,s._prev=t(s._prev,o?fe:xe);return me}function t(s,ne){var o=s.length,we=-1,ye=r.allocUnsafe(s.length);for(s=r.concat([s,r.from([ne])]);++we<o;)ye[we]=s[we]<<1|s[we+1]>>7;return ye}return cfb1.encrypt=function(s,ne,o){for(var we=ne.length,ye=r.allocUnsafe(we),Ee=-1;++Ee<we;)ye[Ee]=e(s,ne[Ee],o);return ye},cfb1}var ofb={},hasRequiredOfb;function requireOfb(){if(hasRequiredOfb)return ofb;hasRequiredOfb=1;var r=requireBufferXor();function e(t){return t._prev=t._cipher.encryptBlock(t._prev),t._prev}return ofb.encrypt=function(t,s){for(;t._cache.length<s.length;)t._cache=Buffer.concat([t._cache,e(t)]);var ne=t._cache.slice(0,s.length);return t._cache=t._cache.slice(s.length),r(s,ne)},ofb}var ctr={},incr32_1,hasRequiredIncr32;function requireIncr32(){if(hasRequiredIncr32)return incr32_1;hasRequiredIncr32=1;function r(e){for(var t=e.length,s;t--;)if(s=e.readUInt8(t),s===255)e.writeUInt8(0,t);else{s++,e.writeUInt8(s,t);break}}return incr32_1=r,incr32_1}var hasRequiredCtr;function requireCtr(){if(hasRequiredCtr)return ctr;hasRequiredCtr=1;var r=requireBufferXor(),e=safeBufferExports.Buffer,t=requireIncr32();function s(o){var we=o._cipher.encryptBlockRaw(o._prev);return t(o._prev),we}var ne=16;return ctr.encrypt=function(o,we){var ye=Math.ceil(we.length/ne),Ee=o._cache.length;o._cache=e.concat([o._cache,e.allocUnsafe(ye*ne)]);for(var me=0;me<ye;me++){var fe=s(o),xe=Ee+me*ne;o._cache.writeUInt32BE(fe[0],xe+0),o._cache.writeUInt32BE(fe[1],xe+4),o._cache.writeUInt32BE(fe[2],xe+8),o._cache.writeUInt32BE(fe[3],xe+12)}var br=o._cache.slice(0,we.length);return o._cache=o._cache.slice(we.length),r(we,br)},ctr}const aes128={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},require$$2={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128,aes192,aes256,"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}};var modes_1,hasRequiredModes$1;function requireModes$1(){if(hasRequiredModes$1)return modes_1;hasRequiredModes$1=1;var r={ECB:requireEcb(),CBC:requireCbc(),CFB:requireCfb(),CFB8:requireCfb8(),CFB1:requireCfb1(),OFB:requireOfb(),CTR:requireCtr(),GCM:requireCtr()},e=require$$2;for(var t in e)e[t].module=r[e[t].mode];return modes_1=e,modes_1}var aes={},hasRequiredAes;function requireAes(){if(hasRequiredAes)return aes;hasRequiredAes=1;var r=safeBufferExports.Buffer;function e(ye){r.isBuffer(ye)||(ye=r.from(ye));for(var Ee=ye.length/4|0,me=new Array(Ee),fe=0;fe<Ee;fe++)me[fe]=ye.readUInt32BE(fe*4);return me}function t(ye){for(var Ee=0;Ee<ye.length;ye++)ye[Ee]=0}function s(ye,Ee,me,fe,xe){for(var br=me[0],wr=me[1],kr=me[2],Vr=me[3],Zr=ye[0]^Ee[0],Qr=ye[1]^Ee[1],Yr=ye[2]^Ee[2],ii=ye[3]^Ee[3],ei,si,ai,Gr,fi=4,gi=1;gi<xe;gi++)ei=br[Zr>>>24]^wr[Qr>>>16&255]^kr[Yr>>>8&255]^Vr[ii&255]^Ee[fi++],si=br[Qr>>>24]^wr[Yr>>>16&255]^kr[ii>>>8&255]^Vr[Zr&255]^Ee[fi++],ai=br[Yr>>>24]^wr[ii>>>16&255]^kr[Zr>>>8&255]^Vr[Qr&255]^Ee[fi++],Gr=br[ii>>>24]^wr[Zr>>>16&255]^kr[Qr>>>8&255]^Vr[Yr&255]^Ee[fi++],Zr=ei,Qr=si,Yr=ai,ii=Gr;return ei=(fe[Zr>>>24]<<24|fe[Qr>>>16&255]<<16|fe[Yr>>>8&255]<<8|fe[ii&255])^Ee[fi++],si=(fe[Qr>>>24]<<24|fe[Yr>>>16&255]<<16|fe[ii>>>8&255]<<8|fe[Zr&255])^Ee[fi++],ai=(fe[Yr>>>24]<<24|fe[ii>>>16&255]<<16|fe[Zr>>>8&255]<<8|fe[Qr&255])^Ee[fi++],Gr=(fe[ii>>>24]<<24|fe[Zr>>>16&255]<<16|fe[Qr>>>8&255]<<8|fe[Yr&255])^Ee[fi++],ei=ei>>>0,si=si>>>0,ai=ai>>>0,Gr=Gr>>>0,[ei,si,ai,Gr]}var ne=[0,1,2,4,8,16,32,64,128,27,54],o=function(){for(var ye=new Array(256),Ee=0;Ee<256;Ee++)Ee<128?ye[Ee]=Ee<<1:ye[Ee]=Ee<<1^283;for(var me=[],fe=[],xe=[[],[],[],[]],br=[[],[],[],[]],wr=0,kr=0,Vr=0;Vr<256;++Vr){var Zr=kr^kr<<1^kr<<2^kr<<3^kr<<4;Zr=Zr>>>8^Zr&255^99,me[wr]=Zr,fe[Zr]=wr;var Qr=ye[wr],Yr=ye[Qr],ii=ye[Yr],ei=ye[Zr]*257^Zr*16843008;xe[0][wr]=ei<<24|ei>>>8,xe[1][wr]=ei<<16|ei>>>16,xe[2][wr]=ei<<8|ei>>>24,xe[3][wr]=ei,ei=ii*16843009^Yr*65537^Qr*257^wr*16843008,br[0][Zr]=ei<<24|ei>>>8,br[1][Zr]=ei<<16|ei>>>16,br[2][Zr]=ei<<8|ei>>>24,br[3][Zr]=ei,wr===0?wr=kr=1:(wr=Qr^ye[ye[ye[ii^Qr]]],kr^=ye[ye[kr]])}return{SBOX:me,INV_SBOX:fe,SUB_MIX:xe,INV_SUB_MIX:br}}();function we(ye){this._key=e(ye),this._reset()}return we.blockSize=4*4,we.keySize=256/8,we.prototype.blockSize=we.blockSize,we.prototype.keySize=we.keySize,we.prototype._reset=function(){for(var ye=this._key,Ee=ye.length,me=Ee+6,fe=(me+1)*4,xe=[],br=0;br<Ee;br++)xe[br]=ye[br];for(br=Ee;br<fe;br++){var wr=xe[br-1];br%Ee===0?(wr=wr<<8|wr>>>24,wr=o.SBOX[wr>>>24]<<24|o.SBOX[wr>>>16&255]<<16|o.SBOX[wr>>>8&255]<<8|o.SBOX[wr&255],wr^=ne[br/Ee|0]<<24):Ee>6&&br%Ee===4&&(wr=o.SBOX[wr>>>24]<<24|o.SBOX[wr>>>16&255]<<16|o.SBOX[wr>>>8&255]<<8|o.SBOX[wr&255]),xe[br]=xe[br-Ee]^wr}for(var kr=[],Vr=0;Vr<fe;Vr++){var Zr=fe-Vr,Qr=xe[Zr-(Vr%4?0:4)];Vr<4||Zr<=4?kr[Vr]=Qr:kr[Vr]=o.INV_SUB_MIX[0][o.SBOX[Qr>>>24]]^o.INV_SUB_MIX[1][o.SBOX[Qr>>>16&255]]^o.INV_SUB_MIX[2][o.SBOX[Qr>>>8&255]]^o.INV_SUB_MIX[3][o.SBOX[Qr&255]]}this._nRounds=me,this._keySchedule=xe,this._invKeySchedule=kr},we.prototype.encryptBlockRaw=function(ye){return ye=e(ye),s(ye,this._keySchedule,o.SUB_MIX,o.SBOX,this._nRounds)},we.prototype.encryptBlock=function(ye){var Ee=this.encryptBlockRaw(ye),me=r.allocUnsafe(16);return me.writeUInt32BE(Ee[0],0),me.writeUInt32BE(Ee[1],4),me.writeUInt32BE(Ee[2],8),me.writeUInt32BE(Ee[3],12),me},we.prototype.decryptBlock=function(ye){ye=e(ye);var Ee=ye[1];ye[1]=ye[3],ye[3]=Ee;var me=s(ye,this._invKeySchedule,o.INV_SUB_MIX,o.INV_SBOX,this._nRounds),fe=r.allocUnsafe(16);return fe.writeUInt32BE(me[0],0),fe.writeUInt32BE(me[3],4),fe.writeUInt32BE(me[2],8),fe.writeUInt32BE(me[1],12),fe},we.prototype.scrub=function(){t(this._keySchedule),t(this._invKeySchedule),t(this._key)},aes.AES=we,aes}var ghash,hasRequiredGhash;function requireGhash(){if(hasRequiredGhash)return ghash;hasRequiredGhash=1;var r=safeBufferExports.Buffer,e=r.alloc(16,0);function t(o){return[o.readUInt32BE(0),o.readUInt32BE(4),o.readUInt32BE(8),o.readUInt32BE(12)]}function s(o){var we=r.allocUnsafe(16);return we.writeUInt32BE(o[0]>>>0,0),we.writeUInt32BE(o[1]>>>0,4),we.writeUInt32BE(o[2]>>>0,8),we.writeUInt32BE(o[3]>>>0,12),we}function ne(o){this.h=o,this.state=r.alloc(16,0),this.cache=r.allocUnsafe(0)}return ne.prototype.ghash=function(o){for(var we=-1;++we<o.length;)this.state[we]^=o[we];this._multiply()},ne.prototype._multiply=function(){for(var o=t(this.h),we=[0,0,0,0],ye,Ee,me,fe=-1;++fe<128;){for(Ee=(this.state[~~(fe/8)]&1<<7-fe%8)!==0,Ee&&(we[0]^=o[0],we[1]^=o[1],we[2]^=o[2],we[3]^=o[3]),me=(o[3]&1)!==0,ye=3;ye>0;ye--)o[ye]=o[ye]>>>1|(o[ye-1]&1)<<31;o[0]=o[0]>>>1,me&&(o[0]=o[0]^225<<24)}this.state=s(we)},ne.prototype.update=function(o){this.cache=r.concat([this.cache,o]);for(var we;this.cache.length>=16;)we=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(we)},ne.prototype.final=function(o,we){return this.cache.length&&this.ghash(r.concat([this.cache,e],16)),this.ghash(s([0,o,0,we])),this.state},ghash=ne,ghash}var authCipher,hasRequiredAuthCipher;function requireAuthCipher(){if(hasRequiredAuthCipher)return authCipher;hasRequiredAuthCipher=1;var r=requireAes(),e=safeBufferExports.Buffer,t=requireCipherBase(),s=inherits_browserExports,ne=requireGhash(),o=requireBufferXor(),we=requireIncr32();function ye(fe,xe){var br=0;fe.length!==xe.length&&br++;for(var wr=Math.min(fe.length,xe.length),kr=0;kr<wr;++kr)br+=fe[kr]^xe[kr];return br}function Ee(fe,xe,br){if(xe.length===12)return fe._finID=e.concat([xe,e.from([0,0,0,1])]),e.concat([xe,e.from([0,0,0,2])]);var wr=new ne(br),kr=xe.length,Vr=kr%16;wr.update(xe),Vr&&(Vr=16-Vr,wr.update(e.alloc(Vr,0))),wr.update(e.alloc(8,0));var Zr=kr*8,Qr=e.alloc(8);Qr.writeUIntBE(Zr,0,8),wr.update(Qr),fe._finID=wr.state;var Yr=e.from(fe._finID);return we(Yr),Yr}function me(fe,xe,br,wr){t.call(this);var kr=e.alloc(4,0);this._cipher=new r.AES(xe);var Vr=this._cipher.encryptBlock(kr);this._ghash=new ne(Vr),br=Ee(this,br,Vr),this._prev=e.from(br),this._cache=e.allocUnsafe(0),this._secCache=e.allocUnsafe(0),this._decrypt=wr,this._alen=0,this._len=0,this._mode=fe,this._authTag=null,this._called=!1}return s(me,t),me.prototype._update=function(fe){if(!this._called&&this._alen){var xe=16-this._alen%16;xe<16&&(xe=e.alloc(xe,0),this._ghash.update(xe))}this._called=!0;var br=this._mode.encrypt(this,fe);return this._decrypt?this._ghash.update(fe):this._ghash.update(br),this._len+=fe.length,br},me.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var fe=o(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&ye(fe,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=fe,this._cipher.scrub()},me.prototype.getAuthTag=function(){if(this._decrypt||!e.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},me.prototype.setAuthTag=function(xe){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=xe},me.prototype.setAAD=function(xe){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(xe),this._alen+=xe.length},authCipher=me,authCipher}var streamCipher,hasRequiredStreamCipher;function requireStreamCipher(){if(hasRequiredStreamCipher)return streamCipher;hasRequiredStreamCipher=1;var r=requireAes(),e=safeBufferExports.Buffer,t=requireCipherBase(),s=inherits_browserExports;function ne(o,we,ye,Ee){t.call(this),this._cipher=new r.AES(we),this._prev=e.from(ye),this._cache=e.allocUnsafe(0),this._secCache=e.allocUnsafe(0),this._decrypt=Ee,this._mode=o}return s(ne,t),ne.prototype._update=function(o){return this._mode.encrypt(this,o,this._decrypt)},ne.prototype._final=function(){this._cipher.scrub()},streamCipher=ne,streamCipher}var evp_bytestokey,hasRequiredEvp_bytestokey;function requireEvp_bytestokey(){if(hasRequiredEvp_bytestokey)return evp_bytestokey;hasRequiredEvp_bytestokey=1;var r=safeBufferExports.Buffer,e=requireMd5_js();function t(s,ne,o,we){if(r.isBuffer(s)||(s=r.from(s,"binary")),ne&&(r.isBuffer(ne)||(ne=r.from(ne,"binary")),ne.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var ye=o/8,Ee=r.alloc(ye),me=r.alloc(we||0),fe=r.alloc(0);ye>0||we>0;){var xe=new e;xe.update(fe),xe.update(s),ne&&xe.update(ne),fe=xe.digest();var br=0;if(ye>0){var wr=Ee.length-ye;br=Math.min(ye,fe.length),fe.copy(Ee,wr,0,br),ye-=br}if(br<fe.length&&we>0){var kr=me.length-we,Vr=Math.min(we,fe.length-br);fe.copy(me,kr,br,br+Vr),we-=Vr}}return fe.fill(0),{key:Ee,iv:me}}return evp_bytestokey=t,evp_bytestokey}var hasRequiredEncrypter;function requireEncrypter(){if(hasRequiredEncrypter)return encrypter;hasRequiredEncrypter=1;var r=requireModes$1(),e=requireAuthCipher(),t=safeBufferExports.Buffer,s=requireStreamCipher(),ne=requireCipherBase(),o=requireAes(),we=requireEvp_bytestokey(),ye=inherits_browserExports;function Ee(wr,kr,Vr){ne.call(this),this._cache=new fe,this._cipher=new o.AES(kr),this._prev=t.from(Vr),this._mode=wr,this._autopadding=!0}ye(Ee,ne),Ee.prototype._update=function(wr){this._cache.add(wr);for(var kr,Vr,Zr=[];kr=this._cache.get();)Vr=this._mode.encrypt(this,kr),Zr.push(Vr);return t.concat(Zr)};var me=t.alloc(16,16);Ee.prototype._final=function(){var wr=this._cache.flush();if(this._autopadding)return wr=this._mode.encrypt(this,wr),this._cipher.scrub(),wr;if(!wr.equals(me))throw this._cipher.scrub(),new Error("data not multiple of block length")},Ee.prototype.setAutoPadding=function(wr){return this._autopadding=!!wr,this};function fe(){this.cache=t.allocUnsafe(0)}fe.prototype.add=function(wr){this.cache=t.concat([this.cache,wr])},fe.prototype.get=function(){if(this.cache.length>15){var wr=this.cache.slice(0,16);return this.cache=this.cache.slice(16),wr}return null},fe.prototype.flush=function(){for(var wr=16-this.cache.length,kr=t.allocUnsafe(wr),Vr=-1;++Vr<wr;)kr.writeUInt8(wr,Vr);return t.concat([this.cache,kr])};function xe(wr,kr,Vr){var Zr=r[wr.toLowerCase()];if(!Zr)throw new TypeError("invalid suite type");if(typeof kr=="string"&&(kr=t.from(kr)),kr.length!==Zr.key/8)throw new TypeError("invalid key length "+kr.length);if(typeof Vr=="string"&&(Vr=t.from(Vr)),Zr.mode!=="GCM"&&Vr.length!==Zr.iv)throw new TypeError("invalid iv length "+Vr.length);return Zr.type==="stream"?new s(Zr.module,kr,Vr):Zr.type==="auth"?new e(Zr.module,kr,Vr):new Ee(Zr.module,kr,Vr)}function br(wr,kr){var Vr=r[wr.toLowerCase()];if(!Vr)throw new TypeError("invalid suite type");var Zr=we(kr,!1,Vr.key,Vr.iv);return xe(wr,Zr.key,Zr.iv)}return encrypter.createCipheriv=xe,encrypter.createCipher=br,encrypter}var decrypter={},hasRequiredDecrypter;function requireDecrypter(){if(hasRequiredDecrypter)return decrypter;hasRequiredDecrypter=1;var r=requireAuthCipher(),e=safeBufferExports.Buffer,t=requireModes$1(),s=requireStreamCipher(),ne=requireCipherBase(),o=requireAes(),we=requireEvp_bytestokey(),ye=inherits_browserExports;function Ee(wr,kr,Vr){ne.call(this),this._cache=new me,this._last=void 0,this._cipher=new o.AES(kr),this._prev=e.from(Vr),this._mode=wr,this._autopadding=!0}ye(Ee,ne),Ee.prototype._update=function(wr){this._cache.add(wr);for(var kr,Vr,Zr=[];kr=this._cache.get(this._autopadding);)Vr=this._mode.decrypt(this,kr),Zr.push(Vr);return e.concat(Zr)},Ee.prototype._final=function(){var wr=this._cache.flush();if(this._autopadding)return fe(this._mode.decrypt(this,wr));if(wr)throw new Error("data not multiple of block length")},Ee.prototype.setAutoPadding=function(wr){return this._autopadding=!!wr,this};function me(){this.cache=e.allocUnsafe(0)}me.prototype.add=function(wr){this.cache=e.concat([this.cache,wr])},me.prototype.get=function(wr){var kr;if(wr){if(this.cache.length>16)return kr=this.cache.slice(0,16),this.cache=this.cache.slice(16),kr}else if(this.cache.length>=16)return kr=this.cache.slice(0,16),this.cache=this.cache.slice(16),kr;return null},me.prototype.flush=function(){if(this.cache.length)return this.cache};function fe(wr){var kr=wr[15];if(kr<1||kr>16)throw new Error("unable to decrypt data");for(var Vr=-1;++Vr<kr;)if(wr[Vr+(16-kr)]!==kr)throw new Error("unable to decrypt data");if(kr!==16)return wr.slice(0,16-kr)}function xe(wr,kr,Vr){var Zr=t[wr.toLowerCase()];if(!Zr)throw new TypeError("invalid suite type");if(typeof Vr=="string"&&(Vr=e.from(Vr)),Zr.mode!=="GCM"&&Vr.length!==Zr.iv)throw new TypeError("invalid iv length "+Vr.length);if(typeof kr=="string"&&(kr=e.from(kr)),kr.length!==Zr.key/8)throw new TypeError("invalid key length "+kr.length);return Zr.type==="stream"?new s(Zr.module,kr,Vr,!0):Zr.type==="auth"?new r(Zr.module,kr,Vr,!0):new Ee(Zr.module,kr,Vr)}function br(wr,kr){var Vr=t[wr.toLowerCase()];if(!Vr)throw new TypeError("invalid suite type");var Zr=we(kr,!1,Vr.key,Vr.iv);return xe(wr,Zr.key,Zr.iv)}return decrypter.createDecipher=br,decrypter.createDecipheriv=xe,decrypter}var hasRequiredBrowser$6;function requireBrowser$6(){if(hasRequiredBrowser$6)return browser$7;hasRequiredBrowser$6=1;var r=requireEncrypter(),e=requireDecrypter(),t=require$$2;function s(){return Object.keys(t)}return browser$7.createCipher=browser$7.Cipher=r.createCipher,browser$7.createCipheriv=browser$7.Cipheriv=r.createCipheriv,browser$7.createDecipher=browser$7.Decipher=e.createDecipher,browser$7.createDecipheriv=browser$7.Decipheriv=e.createDecipheriv,browser$7.listCiphers=browser$7.getCiphers=s,browser$7}var modes={},hasRequiredModes;function requireModes(){return hasRequiredModes||(hasRequiredModes=1,function(r){r["des-ecb"]={key:8,iv:0},r["des-cbc"]=r.des={key:8,iv:8},r["des-ede3-cbc"]=r.des3={key:24,iv:8},r["des-ede3"]={key:24,iv:0},r["des-ede-cbc"]={key:16,iv:8},r["des-ede"]={key:16,iv:0}}(modes)),modes}var hasRequiredBrowser$5;function requireBrowser$5(){if(hasRequiredBrowser$5)return browser$8;hasRequiredBrowser$5=1;var r=requireBrowserifyDes(),e=requireBrowser$6(),t=requireModes$1(),s=requireModes(),ne=requireEvp_bytestokey();function o(fe,xe){fe=fe.toLowerCase();var br,wr;if(t[fe])br=t[fe].key,wr=t[fe].iv;else if(s[fe])br=s[fe].key*8,wr=s[fe].iv;else throw new TypeError("invalid suite type");var kr=ne(xe,!1,br,wr);return ye(fe,kr.key,kr.iv)}function we(fe,xe){fe=fe.toLowerCase();var br,wr;if(t[fe])br=t[fe].key,wr=t[fe].iv;else if(s[fe])br=s[fe].key*8,wr=s[fe].iv;else throw new TypeError("invalid suite type");var kr=ne(xe,!1,br,wr);return Ee(fe,kr.key,kr.iv)}function ye(fe,xe,br){if(fe=fe.toLowerCase(),t[fe])return e.createCipheriv(fe,xe,br);if(s[fe])return new r({key:xe,iv:br,mode:fe});throw new TypeError("invalid suite type")}function Ee(fe,xe,br){if(fe=fe.toLowerCase(),t[fe])return e.createDecipheriv(fe,xe,br);if(s[fe])return new r({key:xe,iv:br,mode:fe,decrypt:!0});throw new TypeError("invalid suite type")}function me(){return Object.keys(s).concat(e.getCiphers())}return browser$8.createCipher=browser$8.Cipher=o,browser$8.createCipheriv=browser$8.Cipheriv=ye,browser$8.createDecipher=browser$8.Decipher=we,browser$8.createDecipheriv=browser$8.Decipheriv=Ee,browser$8.listCiphers=browser$8.getCiphers=me,browser$8}var browser$6={},bn$2={exports:{}};bn$2.exports;var hasRequiredBn$2;function requireBn$2(){return hasRequiredBn$2||(hasRequiredBn$2=1,function(r){(function(e,t){function s(oi,Kr){if(!oi)throw new Error(Kr||"Assertion failed")}function ne(oi,Kr){oi.super_=Kr;var Ie=function(){};Ie.prototype=Kr.prototype,oi.prototype=new Ie,oi.prototype.constructor=oi}function o(oi,Kr,Ie){if(o.isBN(oi))return oi;this.negative=0,this.words=null,this.length=0,this.red=null,oi!==null&&((Kr==="le"||Kr==="be")&&(Ie=Kr,Kr=10),this._init(oi||0,Kr||10,Ie||"be"))}typeof e=="object"?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;var we;try{typeof window<"u"&&typeof window.Buffer<"u"?we=window.Buffer:we=require$$1$2.Buffer}catch{}o.isBN=function(Kr){return Kr instanceof o?!0:Kr!==null&&typeof Kr=="object"&&Kr.constructor.wordSize===o.wordSize&&Array.isArray(Kr.words)},o.max=function(Kr,Ie){return Kr.cmp(Ie)>0?Kr:Ie},o.min=function(Kr,Ie){return Kr.cmp(Ie)<0?Kr:Ie},o.prototype._init=function(Kr,Ie,C){if(typeof Kr=="number")return this._initNumber(Kr,Ie,C);if(typeof Kr=="object")return this._initArray(Kr,Ie,C);Ie==="hex"&&(Ie=16),s(Ie===(Ie|0)&&Ie>=2&&Ie<=36),Kr=Kr.toString().replace(/\s+/g,"");var be=0;Kr[0]==="-"&&(be++,this.negative=1),be<Kr.length&&(Ie===16?this._parseHex(Kr,be,C):(this._parseBase(Kr,Ie,be),C==="le"&&this._initArray(this.toArray(),Ie,C)))},o.prototype._initNumber=function(Kr,Ie,C){Kr<0&&(this.negative=1,Kr=-Kr),Kr<67108864?(this.words=[Kr&67108863],this.length=1):Kr<4503599627370496?(this.words=[Kr&67108863,Kr/67108864&67108863],this.length=2):(s(Kr<9007199254740992),this.words=[Kr&67108863,Kr/67108864&67108863,1],this.length=3),C==="le"&&this._initArray(this.toArray(),Ie,C)},o.prototype._initArray=function(Kr,Ie,C){if(s(typeof Kr.length=="number"),Kr.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(Kr.length/3),this.words=new Array(this.length);for(var be=0;be<this.length;be++)this.words[be]=0;var Oe,fr,qr=0;if(C==="be")for(be=Kr.length-1,Oe=0;be>=0;be-=3)fr=Kr[be]|Kr[be-1]<<8|Kr[be-2]<<16,this.words[Oe]|=fr<<qr&67108863,this.words[Oe+1]=fr>>>26-qr&67108863,qr+=24,qr>=26&&(qr-=26,Oe++);else if(C==="le")for(be=0,Oe=0;be<Kr.length;be+=3)fr=Kr[be]|Kr[be+1]<<8|Kr[be+2]<<16,this.words[Oe]|=fr<<qr&67108863,this.words[Oe+1]=fr>>>26-qr&67108863,qr+=24,qr>=26&&(qr-=26,Oe++);return this.strip()};function ye(oi,Kr){var Ie=oi.charCodeAt(Kr);return Ie>=65&&Ie<=70?Ie-55:Ie>=97&&Ie<=102?Ie-87:Ie-48&15}function Ee(oi,Kr,Ie){var C=ye(oi,Ie);return Ie-1>=Kr&&(C|=ye(oi,Ie-1)<<4),C}o.prototype._parseHex=function(Kr,Ie,C){this.length=Math.ceil((Kr.length-Ie)/6),this.words=new Array(this.length);for(var be=0;be<this.length;be++)this.words[be]=0;var Oe=0,fr=0,qr;if(C==="be")for(be=Kr.length-1;be>=Ie;be-=2)qr=Ee(Kr,Ie,be)<<Oe,this.words[fr]|=qr&67108863,Oe>=18?(Oe-=18,fr+=1,this.words[fr]|=qr>>>26):Oe+=8;else{var Hr=Kr.length-Ie;for(be=Hr%2===0?Ie+1:Ie;be<Kr.length;be+=2)qr=Ee(Kr,Ie,be)<<Oe,this.words[fr]|=qr&67108863,Oe>=18?(Oe-=18,fr+=1,this.words[fr]|=qr>>>26):Oe+=8}this.strip()};function me(oi,Kr,Ie,C){for(var be=0,Oe=Math.min(oi.length,Ie),fr=Kr;fr<Oe;fr++){var qr=oi.charCodeAt(fr)-48;be*=C,qr>=49?be+=qr-49+10:qr>=17?be+=qr-17+10:be+=qr}return be}o.prototype._parseBase=function(Kr,Ie,C){this.words=[0],this.length=1;for(var be=0,Oe=1;Oe<=67108863;Oe*=Ie)be++;be--,Oe=Oe/Ie|0;for(var fr=Kr.length-C,qr=fr%be,Hr=Math.min(fr,fr-qr)+C,Er=0,jr=C;jr<Hr;jr+=be)Er=me(Kr,jr,jr+be,Ie),this.imuln(Oe),this.words[0]+Er<67108864?this.words[0]+=Er:this._iaddn(Er);if(qr!==0){var Se=1;for(Er=me(Kr,jr,Kr.length,Ie),jr=0;jr<qr;jr++)Se*=Ie;this.imuln(Se),this.words[0]+Er<67108864?this.words[0]+=Er:this._iaddn(Er)}this.strip()},o.prototype.copy=function(Kr){Kr.words=new Array(this.length);for(var Ie=0;Ie<this.length;Ie++)Kr.words[Ie]=this.words[Ie];Kr.length=this.length,Kr.negative=this.negative,Kr.red=this.red},o.prototype.clone=function(){var Kr=new o(null);return this.copy(Kr),Kr},o.prototype._expand=function(Kr){for(;this.length<Kr;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var fe=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],xe=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],br=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(Kr,Ie){Kr=Kr||10,Ie=Ie|0||1;var C;if(Kr===16||Kr==="hex"){C="";for(var be=0,Oe=0,fr=0;fr<this.length;fr++){var qr=this.words[fr],Hr=((qr<<be|Oe)&16777215).toString(16);Oe=qr>>>24-be&16777215,Oe!==0||fr!==this.length-1?C=fe[6-Hr.length]+Hr+C:C=Hr+C,be+=2,be>=26&&(be-=26,fr--)}for(Oe!==0&&(C=Oe.toString(16)+C);C.length%Ie!==0;)C="0"+C;return this.negative!==0&&(C="-"+C),C}if(Kr===(Kr|0)&&Kr>=2&&Kr<=36){var Er=xe[Kr],jr=br[Kr];C="";var Se=this.clone();for(Se.negative=0;!Se.isZero();){var Wr=Se.modn(jr).toString(Kr);Se=Se.idivn(jr),Se.isZero()?C=Wr+C:C=fe[Er-Wr.length]+Wr+C}for(this.isZero()&&(C="0"+C);C.length%Ie!==0;)C="0"+C;return this.negative!==0&&(C="-"+C),C}s(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var Kr=this.words[0];return this.length===2?Kr+=this.words[1]*67108864:this.length===3&&this.words[2]===1?Kr+=4503599627370496+this.words[1]*67108864:this.length>2&&s(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-Kr:Kr},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(Kr,Ie){return s(typeof we<"u"),this.toArrayLike(we,Kr,Ie)},o.prototype.toArray=function(Kr,Ie){return this.toArrayLike(Array,Kr,Ie)},o.prototype.toArrayLike=function(Kr,Ie,C){var be=this.byteLength(),Oe=C||Math.max(1,be);s(be<=Oe,"byte array longer than desired length"),s(Oe>0,"Requested array length <= 0"),this.strip();var fr=Ie==="le",qr=new Kr(Oe),Hr,Er,jr=this.clone();if(fr){for(Er=0;!jr.isZero();Er++)Hr=jr.andln(255),jr.iushrn(8),qr[Er]=Hr;for(;Er<Oe;Er++)qr[Er]=0}else{for(Er=0;Er<Oe-be;Er++)qr[Er]=0;for(Er=0;!jr.isZero();Er++)Hr=jr.andln(255),jr.iushrn(8),qr[Oe-Er-1]=Hr}return qr},Math.clz32?o.prototype._countBits=function(Kr){return 32-Math.clz32(Kr)}:o.prototype._countBits=function(Kr){var Ie=Kr,C=0;return Ie>=4096&&(C+=13,Ie>>>=13),Ie>=64&&(C+=7,Ie>>>=7),Ie>=8&&(C+=4,Ie>>>=4),Ie>=2&&(C+=2,Ie>>>=2),C+Ie},o.prototype._zeroBits=function(Kr){if(Kr===0)return 26;var Ie=Kr,C=0;return Ie&8191||(C+=13,Ie>>>=13),Ie&127||(C+=7,Ie>>>=7),Ie&15||(C+=4,Ie>>>=4),Ie&3||(C+=2,Ie>>>=2),Ie&1||C++,C},o.prototype.bitLength=function(){var Kr=this.words[this.length-1],Ie=this._countBits(Kr);return(this.length-1)*26+Ie};function wr(oi){for(var Kr=new Array(oi.bitLength()),Ie=0;Ie<Kr.length;Ie++){var C=Ie/26|0,be=Ie%26;Kr[Ie]=(oi.words[C]&1<<be)>>>be}return Kr}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var Kr=0,Ie=0;Ie<this.length;Ie++){var C=this._zeroBits(this.words[Ie]);if(Kr+=C,C!==26)break}return Kr},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(Kr){return this.negative!==0?this.abs().inotn(Kr).iaddn(1):this.clone()},o.prototype.fromTwos=function(Kr){return this.testn(Kr-1)?this.notn(Kr).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(Kr){for(;this.length<Kr.length;)this.words[this.length++]=0;for(var Ie=0;Ie<Kr.length;Ie++)this.words[Ie]=this.words[Ie]|Kr.words[Ie];return this.strip()},o.prototype.ior=function(Kr){return s((this.negative|Kr.negative)===0),this.iuor(Kr)},o.prototype.or=function(Kr){return this.length>Kr.length?this.clone().ior(Kr):Kr.clone().ior(this)},o.prototype.uor=function(Kr){return this.length>Kr.length?this.clone().iuor(Kr):Kr.clone().iuor(this)},o.prototype.iuand=function(Kr){var Ie;this.length>Kr.length?Ie=Kr:Ie=this;for(var C=0;C<Ie.length;C++)this.words[C]=this.words[C]&Kr.words[C];return this.length=Ie.length,this.strip()},o.prototype.iand=function(Kr){return s((this.negative|Kr.negative)===0),this.iuand(Kr)},o.prototype.and=function(Kr){return this.length>Kr.length?this.clone().iand(Kr):Kr.clone().iand(this)},o.prototype.uand=function(Kr){return this.length>Kr.length?this.clone().iuand(Kr):Kr.clone().iuand(this)},o.prototype.iuxor=function(Kr){var Ie,C;this.length>Kr.length?(Ie=this,C=Kr):(Ie=Kr,C=this);for(var be=0;be<C.length;be++)this.words[be]=Ie.words[be]^C.words[be];if(this!==Ie)for(;be<Ie.length;be++)this.words[be]=Ie.words[be];return this.length=Ie.length,this.strip()},o.prototype.ixor=function(Kr){return s((this.negative|Kr.negative)===0),this.iuxor(Kr)},o.prototype.xor=function(Kr){return this.length>Kr.length?this.clone().ixor(Kr):Kr.clone().ixor(this)},o.prototype.uxor=function(Kr){return this.length>Kr.length?this.clone().iuxor(Kr):Kr.clone().iuxor(this)},o.prototype.inotn=function(Kr){s(typeof Kr=="number"&&Kr>=0);var Ie=Math.ceil(Kr/26)|0,C=Kr%26;this._expand(Ie),C>0&&Ie--;for(var be=0;be<Ie;be++)this.words[be]=~this.words[be]&67108863;return C>0&&(this.words[be]=~this.words[be]&67108863>>26-C),this.strip()},o.prototype.notn=function(Kr){return this.clone().inotn(Kr)},o.prototype.setn=function(Kr,Ie){s(typeof Kr=="number"&&Kr>=0);var C=Kr/26|0,be=Kr%26;return this._expand(C+1),Ie?this.words[C]=this.words[C]|1<<be:this.words[C]=this.words[C]&~(1<<be),this.strip()},o.prototype.iadd=function(Kr){var Ie;if(this.negative!==0&&Kr.negative===0)return this.negative=0,Ie=this.isub(Kr),this.negative^=1,this._normSign();if(this.negative===0&&Kr.negative!==0)return Kr.negative=0,Ie=this.isub(Kr),Kr.negative=1,Ie._normSign();var C,be;this.length>Kr.length?(C=this,be=Kr):(C=Kr,be=this);for(var Oe=0,fr=0;fr<be.length;fr++)Ie=(C.words[fr]|0)+(be.words[fr]|0)+Oe,this.words[fr]=Ie&67108863,Oe=Ie>>>26;for(;Oe!==0&&fr<C.length;fr++)Ie=(C.words[fr]|0)+Oe,this.words[fr]=Ie&67108863,Oe=Ie>>>26;if(this.length=C.length,Oe!==0)this.words[this.length]=Oe,this.length++;else if(C!==this)for(;fr<C.length;fr++)this.words[fr]=C.words[fr];return this},o.prototype.add=function(Kr){var Ie;return Kr.negative!==0&&this.negative===0?(Kr.negative=0,Ie=this.sub(Kr),Kr.negative^=1,Ie):Kr.negative===0&&this.negative!==0?(this.negative=0,Ie=Kr.sub(this),this.negative=1,Ie):this.length>Kr.length?this.clone().iadd(Kr):Kr.clone().iadd(this)},o.prototype.isub=function(Kr){if(Kr.negative!==0){Kr.negative=0;var Ie=this.iadd(Kr);return Kr.negative=1,Ie._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(Kr),this.negative=1,this._normSign();var C=this.cmp(Kr);if(C===0)return this.negative=0,this.length=1,this.words[0]=0,this;var be,Oe;C>0?(be=this,Oe=Kr):(be=Kr,Oe=this);for(var fr=0,qr=0;qr<Oe.length;qr++)Ie=(be.words[qr]|0)-(Oe.words[qr]|0)+fr,fr=Ie>>26,this.words[qr]=Ie&67108863;for(;fr!==0&&qr<be.length;qr++)Ie=(be.words[qr]|0)+fr,fr=Ie>>26,this.words[qr]=Ie&67108863;if(fr===0&&qr<be.length&&be!==this)for(;qr<be.length;qr++)this.words[qr]=be.words[qr];return this.length=Math.max(this.length,qr),be!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(Kr){return this.clone().isub(Kr)};function kr(oi,Kr,Ie){Ie.negative=Kr.negative^oi.negative;var C=oi.length+Kr.length|0;Ie.length=C,C=C-1|0;var be=oi.words[0]|0,Oe=Kr.words[0]|0,fr=be*Oe,qr=fr&67108863,Hr=fr/67108864|0;Ie.words[0]=qr;for(var Er=1;Er<C;Er++){for(var jr=Hr>>>26,Se=Hr&67108863,Wr=Math.min(Er,Kr.length-1),bi=Math.max(0,Er-oi.length+1);bi<=Wr;bi++){var vi=Er-bi|0;be=oi.words[vi]|0,Oe=Kr.words[bi]|0,fr=be*Oe+Se,jr+=fr/67108864|0,Se=fr&67108863}Ie.words[Er]=Se|0,Hr=jr|0}return Hr!==0?Ie.words[Er]=Hr|0:Ie.length--,Ie.strip()}var Vr=function(Kr,Ie,C){var be=Kr.words,Oe=Ie.words,fr=C.words,qr=0,Hr,Er,jr,Se=be[0]|0,Wr=Se&8191,bi=Se>>>13,vi=be[1]|0,Ei=vi&8191,ti=vi>>>13,ri=be[2]|0,ci=ri&8191,Jr=ri>>>13,li=be[3]|0,yi=li&8191,$i=li>>>13,Ni=be[4]|0,Bi=Ni&8191,zn=Ni>>>13,zi=be[5]|0,Ki=zi&8191,la=zi>>>13,Vi=be[6]|0,Ii=Vi&8191,Nn=Vi>>>13,ki=be[7]|0,Ai=ki&8191,In=ki>>>13,wn=be[8]|0,qi=wn&8191,Yn=wn>>>13,$n=be[9]|0,Oi=$n&8191,fa=$n>>>13,Pn=Oe[0]|0,Li=Pn&8191,ca=Pn>>>13,Cn=Oe[1]|0,On=Cn&8191,Ua=Cn>>>13,da=Oe[2]|0,Tn=da&8191,Ha=da>>>13,pa=Oe[3]|0,ea=pa&8191,wa=pa>>>13,ta=Oe[4]|0,En=ta&8191,_a=ta>>>13,ra=Oe[5]|0,_n=ra&8191,Aa=ra>>>13,oa=Oe[6]|0,Sn=oa&8191,qa=oa>>>13,na=Oe[7]|0,Rn=na&8191,Ma=na>>>13,Zn=Oe[8]|0,An=Zn&8191,Pa=Zn>>>13,Da=Oe[9]|0,aa=Da&8191,Ja=Da>>>13;C.negative=Kr.negative^Ie.negative,C.length=19,Hr=Math.imul(Wr,Li),Er=Math.imul(Wr,ca),Er=Er+Math.imul(bi,Li)|0,jr=Math.imul(bi,ca);var ha=(qr+Hr|0)+((Er&8191)<<13)|0;qr=(jr+(Er>>>13)|0)+(ha>>>26)|0,ha&=67108863,Hr=Math.imul(Ei,Li),Er=Math.imul(Ei,ca),Er=Er+Math.imul(ti,Li)|0,jr=Math.imul(ti,ca),Hr=Hr+Math.imul(Wr,On)|0,Er=Er+Math.imul(Wr,Ua)|0,Er=Er+Math.imul(bi,On)|0,jr=jr+Math.imul(bi,Ua)|0;var $a=(qr+Hr|0)+((Er&8191)<<13)|0;qr=(jr+(Er>>>13)|0)+($a>>>26)|0,$a&=67108863,Hr=Math.imul(ci,Li),Er=Math.imul(ci,ca),Er=Er+Math.imul(Jr,Li)|0,jr=Math.imul(Jr,ca),Hr=Hr+Math.imul(Ei,On)|0,Er=Er+Math.imul(Ei,Ua)|0,Er=Er+Math.imul(ti,On)|0,jr=jr+Math.imul(ti,Ua)|0,Hr=Hr+Math.imul(Wr,Tn)|0,Er=Er+Math.imul(Wr,Ha)|0,Er=Er+Math.imul(bi,Tn)|0,jr=jr+Math.imul(bi,Ha)|0;var Do=(qr+Hr|0)+((Er&8191)<<13)|0;qr=(jr+(Er>>>13)|0)+(Do>>>26)|0,Do&=67108863,Hr=Math.imul(yi,Li),Er=Math.imul(yi,ca),Er=Er+Math.imul($i,Li)|0,jr=Math.imul($i,ca),Hr=Hr+Math.imul(ci,On)|0,Er=Er+Math.imul(ci,Ua)|0,Er=Er+Math.imul(Jr,On)|0,jr=jr+Math.imul(Jr,Ua)|0,Hr=Hr+Math.imul(Ei,Tn)|0,Er=Er+Math.imul(Ei,Ha)|0,Er=Er+Math.imul(ti,Tn)|0,jr=jr+Math.imul(ti,Ha)|0,Hr=Hr+Math.imul(Wr,ea)|0,Er=Er+Math.imul(Wr,wa)|0,Er=Er+Math.imul(bi,ea)|0,jr=jr+Math.imul(bi,wa)|0;var Io=(qr+Hr|0)+((Er&8191)<<13)|0;qr=(jr+(Er>>>13)|0)+(Io>>>26)|0,Io&=67108863,Hr=Math.imul(Bi,Li),Er=Math.imul(Bi,ca),Er=Er+Math.imul(zn,Li)|0,jr=Math.imul(zn,ca),Hr=Hr+Math.imul(yi,On)|0,Er=Er+Math.imul(yi,Ua)|0,Er=Er+Math.imul($i,On)|0,jr=jr+Math.imul($i,Ua)|0,Hr=Hr+Math.imul(ci,Tn)|0,Er=Er+Math.imul(ci,Ha)|0,Er=Er+Math.imul(Jr,Tn)|0,jr=jr+Math.imul(Jr,Ha)|0,Hr=Hr+Math.imul(Ei,ea)|0,Er=Er+Math.imul(Ei,wa)|0,Er=Er+Math.imul(ti,ea)|0,jr=jr+Math.imul(ti,wa)|0,Hr=Hr+Math.imul(Wr,En)|0,Er=Er+Math.imul(Wr,_a)|0,Er=Er+Math.imul(bi,En)|0,jr=jr+Math.imul(bi,_a)|0;var Ao=(qr+Hr|0)+((Er&8191)<<13)|0;qr=(jr+(Er>>>13)|0)+(Ao>>>26)|0,Ao&=67108863,Hr=Math.imul(Ki,Li),Er=Math.imul(Ki,ca),Er=Er+Math.imul(la,Li)|0,jr=Math.imul(la,ca),Hr=Hr+Math.imul(Bi,On)|0,Er=Er+Math.imul(Bi,Ua)|0,Er=Er+Math.imul(zn,On)|0,jr=jr+Math.imul(zn,Ua)|0,Hr=Hr+Math.imul(yi,Tn)|0,Er=Er+Math.imul(yi,Ha)|0,Er=Er+Math.imul($i,Tn)|0,jr=jr+Math.imul($i,Ha)|0,Hr=Hr+Math.imul(ci,ea)|0,Er=Er+Math.imul(ci,wa)|0,Er=Er+Math.imul(Jr,ea)|0,jr=jr+Math.imul(Jr,wa)|0,Hr=Hr+Math.imul(Ei,En)|0,Er=Er+Math.imul(Ei,_a)|0,Er=Er+Math.imul(ti,En)|0,jr=jr+Math.imul(ti,_a)|0,Hr=Hr+Math.imul(Wr,_n)|0,Er=Er+Math.imul(Wr,Aa)|0,Er=Er+Math.imul(bi,_n)|0,jr=jr+Math.imul(bi,Aa)|0;var qo=(qr+Hr|0)+((Er&8191)<<13)|0;qr=(jr+(Er>>>13)|0)+(qo>>>26)|0,qo&=67108863,Hr=Math.imul(Ii,Li),Er=Math.imul(Ii,ca),Er=Er+Math.imul(Nn,Li)|0,jr=Math.imul(Nn,ca),Hr=Hr+Math.imul(Ki,On)|0,Er=Er+Math.imul(Ki,Ua)|0,Er=Er+Math.imul(la,On)|0,jr=jr+Math.imul(la,Ua)|0,Hr=Hr+Math.imul(Bi,Tn)|0,Er=Er+Math.imul(Bi,Ha)|0,Er=Er+Math.imul(zn,Tn)|0,jr=jr+Math.imul(zn,Ha)|0,Hr=Hr+Math.imul(yi,ea)|0,Er=Er+Math.imul(yi,wa)|0,Er=Er+Math.imul($i,ea)|0,jr=jr+Math.imul($i,wa)|0,Hr=Hr+Math.imul(ci,En)|0,Er=Er+Math.imul(ci,_a)|0,Er=Er+Math.imul(Jr,En)|0,jr=jr+Math.imul(Jr,_a)|0,Hr=Hr+Math.imul(Ei,_n)|0,Er=Er+Math.imul(Ei,Aa)|0,Er=Er+Math.imul(ti,_n)|0,jr=jr+Math.imul(ti,Aa)|0,Hr=Hr+Math.imul(Wr,Sn)|0,Er=Er+Math.imul(Wr,qa)|0,Er=Er+Math.imul(bi,Sn)|0,jr=jr+Math.imul(bi,qa)|0;var co=(qr+Hr|0)+((Er&8191)<<13)|0;qr=(jr+(Er>>>13)|0)+(co>>>26)|0,co&=67108863,Hr=Math.imul(Ai,Li),Er=Math.imul(Ai,ca),Er=Er+Math.imul(In,Li)|0,jr=Math.imul(In,ca),Hr=Hr+Math.imul(Ii,On)|0,Er=Er+Math.imul(Ii,Ua)|0,Er=Er+Math.imul(Nn,On)|0,jr=jr+Math.imul(Nn,Ua)|0,Hr=Hr+Math.imul(Ki,Tn)|0,Er=Er+Math.imul(Ki,Ha)|0,Er=Er+Math.imul(la,Tn)|0,jr=jr+Math.imul(la,Ha)|0,Hr=Hr+Math.imul(Bi,ea)|0,Er=Er+Math.imul(Bi,wa)|0,Er=Er+Math.imul(zn,ea)|0,jr=jr+Math.imul(zn,wa)|0,Hr=Hr+Math.imul(yi,En)|0,Er=Er+Math.imul(yi,_a)|0,Er=Er+Math.imul($i,En)|0,jr=jr+Math.imul($i,_a)|0,Hr=Hr+Math.imul(ci,_n)|0,Er=Er+Math.imul(ci,Aa)|0,Er=Er+Math.imul(Jr,_n)|0,jr=jr+Math.imul(Jr,Aa)|0,Hr=Hr+Math.imul(Ei,Sn)|0,Er=Er+Math.imul(Ei,qa)|0,Er=Er+Math.imul(ti,Sn)|0,jr=jr+Math.imul(ti,qa)|0,Hr=Hr+Math.imul(Wr,Rn)|0,Er=Er+Math.imul(Wr,Ma)|0,Er=Er+Math.imul(bi,Rn)|0,jr=jr+Math.imul(bi,Ma)|0;var mo=(qr+Hr|0)+((Er&8191)<<13)|0;qr=(jr+(Er>>>13)|0)+(mo>>>26)|0,mo&=67108863,Hr=Math.imul(qi,Li),Er=Math.imul(qi,ca),Er=Er+Math.imul(Yn,Li)|0,jr=Math.imul(Yn,ca),Hr=Hr+Math.imul(Ai,On)|0,Er=Er+Math.imul(Ai,Ua)|0,Er=Er+Math.imul(In,On)|0,jr=jr+Math.imul(In,Ua)|0,Hr=Hr+Math.imul(Ii,Tn)|0,Er=Er+Math.imul(Ii,Ha)|0,Er=Er+Math.imul(Nn,Tn)|0,jr=jr+Math.imul(Nn,Ha)|0,Hr=Hr+Math.imul(Ki,ea)|0,Er=Er+Math.imul(Ki,wa)|0,Er=Er+Math.imul(la,ea)|0,jr=jr+Math.imul(la,wa)|0,Hr=Hr+Math.imul(Bi,En)|0,Er=Er+Math.imul(Bi,_a)|0,Er=Er+Math.imul(zn,En)|0,jr=jr+Math.imul(zn,_a)|0,Hr=Hr+Math.imul(yi,_n)|0,Er=Er+Math.imul(yi,Aa)|0,Er=Er+Math.imul($i,_n)|0,jr=jr+Math.imul($i,Aa)|0,Hr=Hr+Math.imul(ci,Sn)|0,Er=Er+Math.imul(ci,qa)|0,Er=Er+Math.imul(Jr,Sn)|0,jr=jr+Math.imul(Jr,qa)|0,Hr=Hr+Math.imul(Ei,Rn)|0,Er=Er+Math.imul(Ei,Ma)|0,Er=Er+Math.imul(ti,Rn)|0,jr=jr+Math.imul(ti,Ma)|0,Hr=Hr+Math.imul(Wr,An)|0,Er=Er+Math.imul(Wr,Pa)|0,Er=Er+Math.imul(bi,An)|0,jr=jr+Math.imul(bi,Pa)|0;var Po=(qr+Hr|0)+((Er&8191)<<13)|0;qr=(jr+(Er>>>13)|0)+(Po>>>26)|0,Po&=67108863,Hr=Math.imul(Oi,Li),Er=Math.imul(Oi,ca),Er=Er+Math.imul(fa,Li)|0,jr=Math.imul(fa,ca),Hr=Hr+Math.imul(qi,On)|0,Er=Er+Math.imul(qi,Ua)|0,Er=Er+Math.imul(Yn,On)|0,jr=jr+Math.imul(Yn,Ua)|0,Hr=Hr+Math.imul(Ai,Tn)|0,Er=Er+Math.imul(Ai,Ha)|0,Er=Er+Math.imul(In,Tn)|0,jr=jr+Math.imul(In,Ha)|0,Hr=Hr+Math.imul(Ii,ea)|0,Er=Er+Math.imul(Ii,wa)|0,Er=Er+Math.imul(Nn,ea)|0,jr=jr+Math.imul(Nn,wa)|0,Hr=Hr+Math.imul(Ki,En)|0,Er=Er+Math.imul(Ki,_a)|0,Er=Er+Math.imul(la,En)|0,jr=jr+Math.imul(la,_a)|0,Hr=Hr+Math.imul(Bi,_n)|0,Er=Er+Math.imul(Bi,Aa)|0,Er=Er+Math.imul(zn,_n)|0,jr=jr+Math.imul(zn,Aa)|0,Hr=Hr+Math.imul(yi,Sn)|0,Er=Er+Math.imul(yi,qa)|0,Er=Er+Math.imul($i,Sn)|0,jr=jr+Math.imul($i,qa)|0,Hr=Hr+Math.imul(ci,Rn)|0,Er=Er+Math.imul(ci,Ma)|0,Er=Er+Math.imul(Jr,Rn)|0,jr=jr+Math.imul(Jr,Ma)|0,Hr=Hr+Math.imul(Ei,An)|0,Er=Er+Math.imul(Ei,Pa)|0,Er=Er+Math.imul(ti,An)|0,jr=jr+Math.imul(ti,Pa)|0,Hr=Hr+Math.imul(Wr,aa)|0,Er=Er+Math.imul(Wr,Ja)|0,Er=Er+Math.imul(bi,aa)|0,jr=jr+Math.imul(bi,Ja)|0;var yo=(qr+Hr|0)+((Er&8191)<<13)|0;qr=(jr+(Er>>>13)|0)+(yo>>>26)|0,yo&=67108863,Hr=Math.imul(Oi,On),Er=Math.imul(Oi,Ua),Er=Er+Math.imul(fa,On)|0,jr=Math.imul(fa,Ua),Hr=Hr+Math.imul(qi,Tn)|0,Er=Er+Math.imul(qi,Ha)|0,Er=Er+Math.imul(Yn,Tn)|0,jr=jr+Math.imul(Yn,Ha)|0,Hr=Hr+Math.imul(Ai,ea)|0,Er=Er+Math.imul(Ai,wa)|0,Er=Er+Math.imul(In,ea)|0,jr=jr+Math.imul(In,wa)|0,Hr=Hr+Math.imul(Ii,En)|0,Er=Er+Math.imul(Ii,_a)|0,Er=Er+Math.imul(Nn,En)|0,jr=jr+Math.imul(Nn,_a)|0,Hr=Hr+Math.imul(Ki,_n)|0,Er=Er+Math.imul(Ki,Aa)|0,Er=Er+Math.imul(la,_n)|0,jr=jr+Math.imul(la,Aa)|0,Hr=Hr+Math.imul(Bi,Sn)|0,Er=Er+Math.imul(Bi,qa)|0,Er=Er+Math.imul(zn,Sn)|0,jr=jr+Math.imul(zn,qa)|0,Hr=Hr+Math.imul(yi,Rn)|0,Er=Er+Math.imul(yi,Ma)|0,Er=Er+Math.imul($i,Rn)|0,jr=jr+Math.imul($i,Ma)|0,Hr=Hr+Math.imul(ci,An)|0,Er=Er+Math.imul(ci,Pa)|0,Er=Er+Math.imul(Jr,An)|0,jr=jr+Math.imul(Jr,Pa)|0,Hr=Hr+Math.imul(Ei,aa)|0,Er=Er+Math.imul(Ei,Ja)|0,Er=Er+Math.imul(ti,aa)|0,jr=jr+Math.imul(ti,Ja)|0;var Co=(qr+Hr|0)+((Er&8191)<<13)|0;qr=(jr+(Er>>>13)|0)+(Co>>>26)|0,Co&=67108863,Hr=Math.imul(Oi,Tn),Er=Math.imul(Oi,Ha),Er=Er+Math.imul(fa,Tn)|0,jr=Math.imul(fa,Ha),Hr=Hr+Math.imul(qi,ea)|0,Er=Er+Math.imul(qi,wa)|0,Er=Er+Math.imul(Yn,ea)|0,jr=jr+Math.imul(Yn,wa)|0,Hr=Hr+Math.imul(Ai,En)|0,Er=Er+Math.imul(Ai,_a)|0,Er=Er+Math.imul(In,En)|0,jr=jr+Math.imul(In,_a)|0,Hr=Hr+Math.imul(Ii,_n)|0,Er=Er+Math.imul(Ii,Aa)|0,Er=Er+Math.imul(Nn,_n)|0,jr=jr+Math.imul(Nn,Aa)|0,Hr=Hr+Math.imul(Ki,Sn)|0,Er=Er+Math.imul(Ki,qa)|0,Er=Er+Math.imul(la,Sn)|0,jr=jr+Math.imul(la,qa)|0,Hr=Hr+Math.imul(Bi,Rn)|0,Er=Er+Math.imul(Bi,Ma)|0,Er=Er+Math.imul(zn,Rn)|0,jr=jr+Math.imul(zn,Ma)|0,Hr=Hr+Math.imul(yi,An)|0,Er=Er+Math.imul(yi,Pa)|0,Er=Er+Math.imul($i,An)|0,jr=jr+Math.imul($i,Pa)|0,Hr=Hr+Math.imul(ci,aa)|0,Er=Er+Math.imul(ci,Ja)|0,Er=Er+Math.imul(Jr,aa)|0,jr=jr+Math.imul(Jr,Ja)|0;var Bo=(qr+Hr|0)+((Er&8191)<<13)|0;qr=(jr+(Er>>>13)|0)+(Bo>>>26)|0,Bo&=67108863,Hr=Math.imul(Oi,ea),Er=Math.imul(Oi,wa),Er=Er+Math.imul(fa,ea)|0,jr=Math.imul(fa,wa),Hr=Hr+Math.imul(qi,En)|0,Er=Er+Math.imul(qi,_a)|0,Er=Er+Math.imul(Yn,En)|0,jr=jr+Math.imul(Yn,_a)|0,Hr=Hr+Math.imul(Ai,_n)|0,Er=Er+Math.imul(Ai,Aa)|0,Er=Er+Math.imul(In,_n)|0,jr=jr+Math.imul(In,Aa)|0,Hr=Hr+Math.imul(Ii,Sn)|0,Er=Er+Math.imul(Ii,qa)|0,Er=Er+Math.imul(Nn,Sn)|0,jr=jr+Math.imul(Nn,qa)|0,Hr=Hr+Math.imul(Ki,Rn)|0,Er=Er+Math.imul(Ki,Ma)|0,Er=Er+Math.imul(la,Rn)|0,jr=jr+Math.imul(la,Ma)|0,Hr=Hr+Math.imul(Bi,An)|0,Er=Er+Math.imul(Bi,Pa)|0,Er=Er+Math.imul(zn,An)|0,jr=jr+Math.imul(zn,Pa)|0,Hr=Hr+Math.imul(yi,aa)|0,Er=Er+Math.imul(yi,Ja)|0,Er=Er+Math.imul($i,aa)|0,jr=jr+Math.imul($i,Ja)|0;var wo=(qr+Hr|0)+((Er&8191)<<13)|0;qr=(jr+(Er>>>13)|0)+(wo>>>26)|0,wo&=67108863,Hr=Math.imul(Oi,En),Er=Math.imul(Oi,_a),Er=Er+Math.imul(fa,En)|0,jr=Math.imul(fa,_a),Hr=Hr+Math.imul(qi,_n)|0,Er=Er+Math.imul(qi,Aa)|0,Er=Er+Math.imul(Yn,_n)|0,jr=jr+Math.imul(Yn,Aa)|0,Hr=Hr+Math.imul(Ai,Sn)|0,Er=Er+Math.imul(Ai,qa)|0,Er=Er+Math.imul(In,Sn)|0,jr=jr+Math.imul(In,qa)|0,Hr=Hr+Math.imul(Ii,Rn)|0,Er=Er+Math.imul(Ii,Ma)|0,Er=Er+Math.imul(Nn,Rn)|0,jr=jr+Math.imul(Nn,Ma)|0,Hr=Hr+Math.imul(Ki,An)|0,Er=Er+Math.imul(Ki,Pa)|0,Er=Er+Math.imul(la,An)|0,jr=jr+Math.imul(la,Pa)|0,Hr=Hr+Math.imul(Bi,aa)|0,Er=Er+Math.imul(Bi,Ja)|0,Er=Er+Math.imul(zn,aa)|0,jr=jr+Math.imul(zn,Ja)|0;var So=(qr+Hr|0)+((Er&8191)<<13)|0;qr=(jr+(Er>>>13)|0)+(So>>>26)|0,So&=67108863,Hr=Math.imul(Oi,_n),Er=Math.imul(Oi,Aa),Er=Er+Math.imul(fa,_n)|0,jr=Math.imul(fa,Aa),Hr=Hr+Math.imul(qi,Sn)|0,Er=Er+Math.imul(qi,qa)|0,Er=Er+Math.imul(Yn,Sn)|0,jr=jr+Math.imul(Yn,qa)|0,Hr=Hr+Math.imul(Ai,Rn)|0,Er=Er+Math.imul(Ai,Ma)|0,Er=Er+Math.imul(In,Rn)|0,jr=jr+Math.imul(In,Ma)|0,Hr=Hr+Math.imul(Ii,An)|0,Er=Er+Math.imul(Ii,Pa)|0,Er=Er+Math.imul(Nn,An)|0,jr=jr+Math.imul(Nn,Pa)|0,Hr=Hr+Math.imul(Ki,aa)|0,Er=Er+Math.imul(Ki,Ja)|0,Er=Er+Math.imul(la,aa)|0,jr=jr+Math.imul(la,Ja)|0;var Mo=(qr+Hr|0)+((Er&8191)<<13)|0;qr=(jr+(Er>>>13)|0)+(Mo>>>26)|0,Mo&=67108863,Hr=Math.imul(Oi,Sn),Er=Math.imul(Oi,qa),Er=Er+Math.imul(fa,Sn)|0,jr=Math.imul(fa,qa),Hr=Hr+Math.imul(qi,Rn)|0,Er=Er+Math.imul(qi,Ma)|0,Er=Er+Math.imul(Yn,Rn)|0,jr=jr+Math.imul(Yn,Ma)|0,Hr=Hr+Math.imul(Ai,An)|0,Er=Er+Math.imul(Ai,Pa)|0,Er=Er+Math.imul(In,An)|0,jr=jr+Math.imul(In,Pa)|0,Hr=Hr+Math.imul(Ii,aa)|0,Er=Er+Math.imul(Ii,Ja)|0,Er=Er+Math.imul(Nn,aa)|0,jr=jr+Math.imul(Nn,Ja)|0;var ao=(qr+Hr|0)+((Er&8191)<<13)|0;qr=(jr+(Er>>>13)|0)+(ao>>>26)|0,ao&=67108863,Hr=Math.imul(Oi,Rn),Er=Math.imul(Oi,Ma),Er=Er+Math.imul(fa,Rn)|0,jr=Math.imul(fa,Ma),Hr=Hr+Math.imul(qi,An)|0,Er=Er+Math.imul(qi,Pa)|0,Er=Er+Math.imul(Yn,An)|0,jr=jr+Math.imul(Yn,Pa)|0,Hr=Hr+Math.imul(Ai,aa)|0,Er=Er+Math.imul(Ai,Ja)|0,Er=Er+Math.imul(In,aa)|0,jr=jr+Math.imul(In,Ja)|0;var Oo=(qr+Hr|0)+((Er&8191)<<13)|0;qr=(jr+(Er>>>13)|0)+(Oo>>>26)|0,Oo&=67108863,Hr=Math.imul(Oi,An),Er=Math.imul(Oi,Pa),Er=Er+Math.imul(fa,An)|0,jr=Math.imul(fa,Pa),Hr=Hr+Math.imul(qi,aa)|0,Er=Er+Math.imul(qi,Ja)|0,Er=Er+Math.imul(Yn,aa)|0,jr=jr+Math.imul(Yn,Ja)|0;var To=(qr+Hr|0)+((Er&8191)<<13)|0;qr=(jr+(Er>>>13)|0)+(To>>>26)|0,To&=67108863,Hr=Math.imul(Oi,aa),Er=Math.imul(Oi,Ja),Er=Er+Math.imul(fa,aa)|0,jr=Math.imul(fa,Ja);var No=(qr+Hr|0)+((Er&8191)<<13)|0;return qr=(jr+(Er>>>13)|0)+(No>>>26)|0,No&=67108863,fr[0]=ha,fr[1]=$a,fr[2]=Do,fr[3]=Io,fr[4]=Ao,fr[5]=qo,fr[6]=co,fr[7]=mo,fr[8]=Po,fr[9]=yo,fr[10]=Co,fr[11]=Bo,fr[12]=wo,fr[13]=So,fr[14]=Mo,fr[15]=ao,fr[16]=Oo,fr[17]=To,fr[18]=No,qr!==0&&(fr[19]=qr,C.length++),C};Math.imul||(Vr=kr);function Zr(oi,Kr,Ie){Ie.negative=Kr.negative^oi.negative,Ie.length=oi.length+Kr.length;for(var C=0,be=0,Oe=0;Oe<Ie.length-1;Oe++){var fr=be;be=0;for(var qr=C&67108863,Hr=Math.min(Oe,Kr.length-1),Er=Math.max(0,Oe-oi.length+1);Er<=Hr;Er++){var jr=Oe-Er,Se=oi.words[jr]|0,Wr=Kr.words[Er]|0,bi=Se*Wr,vi=bi&67108863;fr=fr+(bi/67108864|0)|0,vi=vi+qr|0,qr=vi&67108863,fr=fr+(vi>>>26)|0,be+=fr>>>26,fr&=67108863}Ie.words[Oe]=qr,C=fr,fr=be}return C!==0?Ie.words[Oe]=C:Ie.length--,Ie.strip()}function Qr(oi,Kr,Ie){var C=new Yr;return C.mulp(oi,Kr,Ie)}o.prototype.mulTo=function(Kr,Ie){var C,be=this.length+Kr.length;return this.length===10&&Kr.length===10?C=Vr(this,Kr,Ie):be<63?C=kr(this,Kr,Ie):be<1024?C=Zr(this,Kr,Ie):C=Qr(this,Kr,Ie),C};function Yr(oi,Kr){this.x=oi,this.y=Kr}Yr.prototype.makeRBT=function(Kr){for(var Ie=new Array(Kr),C=o.prototype._countBits(Kr)-1,be=0;be<Kr;be++)Ie[be]=this.revBin(be,C,Kr);return Ie},Yr.prototype.revBin=function(Kr,Ie,C){if(Kr===0||Kr===C-1)return Kr;for(var be=0,Oe=0;Oe<Ie;Oe++)be|=(Kr&1)<<Ie-Oe-1,Kr>>=1;return be},Yr.prototype.permute=function(Kr,Ie,C,be,Oe,fr){for(var qr=0;qr<fr;qr++)be[qr]=Ie[Kr[qr]],Oe[qr]=C[Kr[qr]]},Yr.prototype.transform=function(Kr,Ie,C,be,Oe,fr){this.permute(fr,Kr,Ie,C,be,Oe);for(var qr=1;qr<Oe;qr<<=1)for(var Hr=qr<<1,Er=Math.cos(2*Math.PI/Hr),jr=Math.sin(2*Math.PI/Hr),Se=0;Se<Oe;Se+=Hr)for(var Wr=Er,bi=jr,vi=0;vi<qr;vi++){var Ei=C[Se+vi],ti=be[Se+vi],ri=C[Se+vi+qr],ci=be[Se+vi+qr],Jr=Wr*ri-bi*ci;ci=Wr*ci+bi*ri,ri=Jr,C[Se+vi]=Ei+ri,be[Se+vi]=ti+ci,C[Se+vi+qr]=Ei-ri,be[Se+vi+qr]=ti-ci,vi!==Hr&&(Jr=Er*Wr-jr*bi,bi=Er*bi+jr*Wr,Wr=Jr)}},Yr.prototype.guessLen13b=function(Kr,Ie){var C=Math.max(Ie,Kr)|1,be=C&1,Oe=0;for(C=C/2|0;C;C=C>>>1)Oe++;return 1<<Oe+1+be},Yr.prototype.conjugate=function(Kr,Ie,C){if(!(C<=1))for(var be=0;be<C/2;be++){var Oe=Kr[be];Kr[be]=Kr[C-be-1],Kr[C-be-1]=Oe,Oe=Ie[be],Ie[be]=-Ie[C-be-1],Ie[C-be-1]=-Oe}},Yr.prototype.normalize13b=function(Kr,Ie){for(var C=0,be=0;be<Ie/2;be++){var Oe=Math.round(Kr[2*be+1]/Ie)*8192+Math.round(Kr[2*be]/Ie)+C;Kr[be]=Oe&67108863,Oe<67108864?C=0:C=Oe/67108864|0}return Kr},Yr.prototype.convert13b=function(Kr,Ie,C,be){for(var Oe=0,fr=0;fr<Ie;fr++)Oe=Oe+(Kr[fr]|0),C[2*fr]=Oe&8191,Oe=Oe>>>13,C[2*fr+1]=Oe&8191,Oe=Oe>>>13;for(fr=2*Ie;fr<be;++fr)C[fr]=0;s(Oe===0),s((Oe&-8192)===0)},Yr.prototype.stub=function(Kr){for(var Ie=new Array(Kr),C=0;C<Kr;C++)Ie[C]=0;return Ie},Yr.prototype.mulp=function(Kr,Ie,C){var be=2*this.guessLen13b(Kr.length,Ie.length),Oe=this.makeRBT(be),fr=this.stub(be),qr=new Array(be),Hr=new Array(be),Er=new Array(be),jr=new Array(be),Se=new Array(be),Wr=new Array(be),bi=C.words;bi.length=be,this.convert13b(Kr.words,Kr.length,qr,be),this.convert13b(Ie.words,Ie.length,jr,be),this.transform(qr,fr,Hr,Er,be,Oe),this.transform(jr,fr,Se,Wr,be,Oe);for(var vi=0;vi<be;vi++){var Ei=Hr[vi]*Se[vi]-Er[vi]*Wr[vi];Er[vi]=Hr[vi]*Wr[vi]+Er[vi]*Se[vi],Hr[vi]=Ei}return this.conjugate(Hr,Er,be),this.transform(Hr,Er,bi,fr,be,Oe),this.conjugate(bi,fr,be),this.normalize13b(bi,be),C.negative=Kr.negative^Ie.negative,C.length=Kr.length+Ie.length,C.strip()},o.prototype.mul=function(Kr){var Ie=new o(null);return Ie.words=new Array(this.length+Kr.length),this.mulTo(Kr,Ie)},o.prototype.mulf=function(Kr){var Ie=new o(null);return Ie.words=new Array(this.length+Kr.length),Qr(this,Kr,Ie)},o.prototype.imul=function(Kr){return this.clone().mulTo(Kr,this)},o.prototype.imuln=function(Kr){s(typeof Kr=="number"),s(Kr<67108864);for(var Ie=0,C=0;C<this.length;C++){var be=(this.words[C]|0)*Kr,Oe=(be&67108863)+(Ie&67108863);Ie>>=26,Ie+=be/67108864|0,Ie+=Oe>>>26,this.words[C]=Oe&67108863}return Ie!==0&&(this.words[C]=Ie,this.length++),this},o.prototype.muln=function(Kr){return this.clone().imuln(Kr)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(Kr){var Ie=wr(Kr);if(Ie.length===0)return new o(1);for(var C=this,be=0;be<Ie.length&&Ie[be]===0;be++,C=C.sqr());if(++be<Ie.length)for(var Oe=C.sqr();be<Ie.length;be++,Oe=Oe.sqr())Ie[be]!==0&&(C=C.mul(Oe));return C},o.prototype.iushln=function(Kr){s(typeof Kr=="number"&&Kr>=0);var Ie=Kr%26,C=(Kr-Ie)/26,be=67108863>>>26-Ie<<26-Ie,Oe;if(Ie!==0){var fr=0;for(Oe=0;Oe<this.length;Oe++){var qr=this.words[Oe]&be,Hr=(this.words[Oe]|0)-qr<<Ie;this.words[Oe]=Hr|fr,fr=qr>>>26-Ie}fr&&(this.words[Oe]=fr,this.length++)}if(C!==0){for(Oe=this.length-1;Oe>=0;Oe--)this.words[Oe+C]=this.words[Oe];for(Oe=0;Oe<C;Oe++)this.words[Oe]=0;this.length+=C}return this.strip()},o.prototype.ishln=function(Kr){return s(this.negative===0),this.iushln(Kr)},o.prototype.iushrn=function(Kr,Ie,C){s(typeof Kr=="number"&&Kr>=0);var be;Ie?be=(Ie-Ie%26)/26:be=0;var Oe=Kr%26,fr=Math.min((Kr-Oe)/26,this.length),qr=67108863^67108863>>>Oe<<Oe,Hr=C;if(be-=fr,be=Math.max(0,be),Hr){for(var Er=0;Er<fr;Er++)Hr.words[Er]=this.words[Er];Hr.length=fr}if(fr!==0)if(this.length>fr)for(this.length-=fr,Er=0;Er<this.length;Er++)this.words[Er]=this.words[Er+fr];else this.words[0]=0,this.length=1;var jr=0;for(Er=this.length-1;Er>=0&&(jr!==0||Er>=be);Er--){var Se=this.words[Er]|0;this.words[Er]=jr<<26-Oe|Se>>>Oe,jr=Se&qr}return Hr&&jr!==0&&(Hr.words[Hr.length++]=jr),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(Kr,Ie,C){return s(this.negative===0),this.iushrn(Kr,Ie,C)},o.prototype.shln=function(Kr){return this.clone().ishln(Kr)},o.prototype.ushln=function(Kr){return this.clone().iushln(Kr)},o.prototype.shrn=function(Kr){return this.clone().ishrn(Kr)},o.prototype.ushrn=function(Kr){return this.clone().iushrn(Kr)},o.prototype.testn=function(Kr){s(typeof Kr=="number"&&Kr>=0);var Ie=Kr%26,C=(Kr-Ie)/26,be=1<<Ie;if(this.length<=C)return!1;var Oe=this.words[C];return!!(Oe&be)},o.prototype.imaskn=function(Kr){s(typeof Kr=="number"&&Kr>=0);var Ie=Kr%26,C=(Kr-Ie)/26;if(s(this.negative===0,"imaskn works only with positive numbers"),this.length<=C)return this;if(Ie!==0&&C++,this.length=Math.min(C,this.length),Ie!==0){var be=67108863^67108863>>>Ie<<Ie;this.words[this.length-1]&=be}return this.strip()},o.prototype.maskn=function(Kr){return this.clone().imaskn(Kr)},o.prototype.iaddn=function(Kr){return s(typeof Kr=="number"),s(Kr<67108864),Kr<0?this.isubn(-Kr):this.negative!==0?this.length===1&&(this.words[0]|0)<Kr?(this.words[0]=Kr-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(Kr),this.negative=1,this):this._iaddn(Kr)},o.prototype._iaddn=function(Kr){this.words[0]+=Kr;for(var Ie=0;Ie<this.length&&this.words[Ie]>=67108864;Ie++)this.words[Ie]-=67108864,Ie===this.length-1?this.words[Ie+1]=1:this.words[Ie+1]++;return this.length=Math.max(this.length,Ie+1),this},o.prototype.isubn=function(Kr){if(s(typeof Kr=="number"),s(Kr<67108864),Kr<0)return this.iaddn(-Kr);if(this.negative!==0)return this.negative=0,this.iaddn(Kr),this.negative=1,this;if(this.words[0]-=Kr,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var Ie=0;Ie<this.length&&this.words[Ie]<0;Ie++)this.words[Ie]+=67108864,this.words[Ie+1]-=1;return this.strip()},o.prototype.addn=function(Kr){return this.clone().iaddn(Kr)},o.prototype.subn=function(Kr){return this.clone().isubn(Kr)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(Kr,Ie,C){var be=Kr.length+C,Oe;this._expand(be);var fr,qr=0;for(Oe=0;Oe<Kr.length;Oe++){fr=(this.words[Oe+C]|0)+qr;var Hr=(Kr.words[Oe]|0)*Ie;fr-=Hr&67108863,qr=(fr>>26)-(Hr/67108864|0),this.words[Oe+C]=fr&67108863}for(;Oe<this.length-C;Oe++)fr=(this.words[Oe+C]|0)+qr,qr=fr>>26,this.words[Oe+C]=fr&67108863;if(qr===0)return this.strip();for(s(qr===-1),qr=0,Oe=0;Oe<this.length;Oe++)fr=-(this.words[Oe]|0)+qr,qr=fr>>26,this.words[Oe]=fr&67108863;return this.negative=1,this.strip()},o.prototype._wordDiv=function(Kr,Ie){var C=this.length-Kr.length,be=this.clone(),Oe=Kr,fr=Oe.words[Oe.length-1]|0,qr=this._countBits(fr);C=26-qr,C!==0&&(Oe=Oe.ushln(C),be.iushln(C),fr=Oe.words[Oe.length-1]|0);var Hr=be.length-Oe.length,Er;if(Ie!=="mod"){Er=new o(null),Er.length=Hr+1,Er.words=new Array(Er.length);for(var jr=0;jr<Er.length;jr++)Er.words[jr]=0}var Se=be.clone()._ishlnsubmul(Oe,1,Hr);Se.negative===0&&(be=Se,Er&&(Er.words[Hr]=1));for(var Wr=Hr-1;Wr>=0;Wr--){var bi=(be.words[Oe.length+Wr]|0)*67108864+(be.words[Oe.length+Wr-1]|0);for(bi=Math.min(bi/fr|0,67108863),be._ishlnsubmul(Oe,bi,Wr);be.negative!==0;)bi--,be.negative=0,be._ishlnsubmul(Oe,1,Wr),be.isZero()||(be.negative^=1);Er&&(Er.words[Wr]=bi)}return Er&&Er.strip(),be.strip(),Ie!=="div"&&C!==0&&be.iushrn(C),{div:Er||null,mod:be}},o.prototype.divmod=function(Kr,Ie,C){if(s(!Kr.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var be,Oe,fr;return this.negative!==0&&Kr.negative===0?(fr=this.neg().divmod(Kr,Ie),Ie!=="mod"&&(be=fr.div.neg()),Ie!=="div"&&(Oe=fr.mod.neg(),C&&Oe.negative!==0&&Oe.iadd(Kr)),{div:be,mod:Oe}):this.negative===0&&Kr.negative!==0?(fr=this.divmod(Kr.neg(),Ie),Ie!=="mod"&&(be=fr.div.neg()),{div:be,mod:fr.mod}):this.negative&Kr.negative?(fr=this.neg().divmod(Kr.neg(),Ie),Ie!=="div"&&(Oe=fr.mod.neg(),C&&Oe.negative!==0&&Oe.isub(Kr)),{div:fr.div,mod:Oe}):Kr.length>this.length||this.cmp(Kr)<0?{div:new o(0),mod:this}:Kr.length===1?Ie==="div"?{div:this.divn(Kr.words[0]),mod:null}:Ie==="mod"?{div:null,mod:new o(this.modn(Kr.words[0]))}:{div:this.divn(Kr.words[0]),mod:new o(this.modn(Kr.words[0]))}:this._wordDiv(Kr,Ie)},o.prototype.div=function(Kr){return this.divmod(Kr,"div",!1).div},o.prototype.mod=function(Kr){return this.divmod(Kr,"mod",!1).mod},o.prototype.umod=function(Kr){return this.divmod(Kr,"mod",!0).mod},o.prototype.divRound=function(Kr){var Ie=this.divmod(Kr);if(Ie.mod.isZero())return Ie.div;var C=Ie.div.negative!==0?Ie.mod.isub(Kr):Ie.mod,be=Kr.ushrn(1),Oe=Kr.andln(1),fr=C.cmp(be);return fr<0||Oe===1&&fr===0?Ie.div:Ie.div.negative!==0?Ie.div.isubn(1):Ie.div.iaddn(1)},o.prototype.modn=function(Kr){s(Kr<=67108863);for(var Ie=(1<<26)%Kr,C=0,be=this.length-1;be>=0;be--)C=(Ie*C+(this.words[be]|0))%Kr;return C},o.prototype.idivn=function(Kr){s(Kr<=67108863);for(var Ie=0,C=this.length-1;C>=0;C--){var be=(this.words[C]|0)+Ie*67108864;this.words[C]=be/Kr|0,Ie=be%Kr}return this.strip()},o.prototype.divn=function(Kr){return this.clone().idivn(Kr)},o.prototype.egcd=function(Kr){s(Kr.negative===0),s(!Kr.isZero());var Ie=this,C=Kr.clone();Ie.negative!==0?Ie=Ie.umod(Kr):Ie=Ie.clone();for(var be=new o(1),Oe=new o(0),fr=new o(0),qr=new o(1),Hr=0;Ie.isEven()&&C.isEven();)Ie.iushrn(1),C.iushrn(1),++Hr;for(var Er=C.clone(),jr=Ie.clone();!Ie.isZero();){for(var Se=0,Wr=1;!(Ie.words[0]&Wr)&&Se<26;++Se,Wr<<=1);if(Se>0)for(Ie.iushrn(Se);Se-- >0;)(be.isOdd()||Oe.isOdd())&&(be.iadd(Er),Oe.isub(jr)),be.iushrn(1),Oe.iushrn(1);for(var bi=0,vi=1;!(C.words[0]&vi)&&bi<26;++bi,vi<<=1);if(bi>0)for(C.iushrn(bi);bi-- >0;)(fr.isOdd()||qr.isOdd())&&(fr.iadd(Er),qr.isub(jr)),fr.iushrn(1),qr.iushrn(1);Ie.cmp(C)>=0?(Ie.isub(C),be.isub(fr),Oe.isub(qr)):(C.isub(Ie),fr.isub(be),qr.isub(Oe))}return{a:fr,b:qr,gcd:C.iushln(Hr)}},o.prototype._invmp=function(Kr){s(Kr.negative===0),s(!Kr.isZero());var Ie=this,C=Kr.clone();Ie.negative!==0?Ie=Ie.umod(Kr):Ie=Ie.clone();for(var be=new o(1),Oe=new o(0),fr=C.clone();Ie.cmpn(1)>0&&C.cmpn(1)>0;){for(var qr=0,Hr=1;!(Ie.words[0]&Hr)&&qr<26;++qr,Hr<<=1);if(qr>0)for(Ie.iushrn(qr);qr-- >0;)be.isOdd()&&be.iadd(fr),be.iushrn(1);for(var Er=0,jr=1;!(C.words[0]&jr)&&Er<26;++Er,jr<<=1);if(Er>0)for(C.iushrn(Er);Er-- >0;)Oe.isOdd()&&Oe.iadd(fr),Oe.iushrn(1);Ie.cmp(C)>=0?(Ie.isub(C),be.isub(Oe)):(C.isub(Ie),Oe.isub(be))}var Se;return Ie.cmpn(1)===0?Se=be:Se=Oe,Se.cmpn(0)<0&&Se.iadd(Kr),Se},o.prototype.gcd=function(Kr){if(this.isZero())return Kr.abs();if(Kr.isZero())return this.abs();var Ie=this.clone(),C=Kr.clone();Ie.negative=0,C.negative=0;for(var be=0;Ie.isEven()&&C.isEven();be++)Ie.iushrn(1),C.iushrn(1);do{for(;Ie.isEven();)Ie.iushrn(1);for(;C.isEven();)C.iushrn(1);var Oe=Ie.cmp(C);if(Oe<0){var fr=Ie;Ie=C,C=fr}else if(Oe===0||C.cmpn(1)===0)break;Ie.isub(C)}while(!0);return C.iushln(be)},o.prototype.invm=function(Kr){return this.egcd(Kr).a.umod(Kr)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(Kr){return this.words[0]&Kr},o.prototype.bincn=function(Kr){s(typeof Kr=="number");var Ie=Kr%26,C=(Kr-Ie)/26,be=1<<Ie;if(this.length<=C)return this._expand(C+1),this.words[C]|=be,this;for(var Oe=be,fr=C;Oe!==0&&fr<this.length;fr++){var qr=this.words[fr]|0;qr+=Oe,Oe=qr>>>26,qr&=67108863,this.words[fr]=qr}return Oe!==0&&(this.words[fr]=Oe,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(Kr){var Ie=Kr<0;if(this.negative!==0&&!Ie)return-1;if(this.negative===0&&Ie)return 1;this.strip();var C;if(this.length>1)C=1;else{Ie&&(Kr=-Kr),s(Kr<=67108863,"Number is too big");var be=this.words[0]|0;C=be===Kr?0:be<Kr?-1:1}return this.negative!==0?-C|0:C},o.prototype.cmp=function(Kr){if(this.negative!==0&&Kr.negative===0)return-1;if(this.negative===0&&Kr.negative!==0)return 1;var Ie=this.ucmp(Kr);return this.negative!==0?-Ie|0:Ie},o.prototype.ucmp=function(Kr){if(this.length>Kr.length)return 1;if(this.length<Kr.length)return-1;for(var Ie=0,C=this.length-1;C>=0;C--){var be=this.words[C]|0,Oe=Kr.words[C]|0;if(be!==Oe){be<Oe?Ie=-1:be>Oe&&(Ie=1);break}}return Ie},o.prototype.gtn=function(Kr){return this.cmpn(Kr)===1},o.prototype.gt=function(Kr){return this.cmp(Kr)===1},o.prototype.gten=function(Kr){return this.cmpn(Kr)>=0},o.prototype.gte=function(Kr){return this.cmp(Kr)>=0},o.prototype.ltn=function(Kr){return this.cmpn(Kr)===-1},o.prototype.lt=function(Kr){return this.cmp(Kr)===-1},o.prototype.lten=function(Kr){return this.cmpn(Kr)<=0},o.prototype.lte=function(Kr){return this.cmp(Kr)<=0},o.prototype.eqn=function(Kr){return this.cmpn(Kr)===0},o.prototype.eq=function(Kr){return this.cmp(Kr)===0},o.red=function(Kr){return new gi(Kr)},o.prototype.toRed=function(Kr){return s(!this.red,"Already a number in reduction context"),s(this.negative===0,"red works only with positives"),Kr.convertTo(this)._forceRed(Kr)},o.prototype.fromRed=function(){return s(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(Kr){return this.red=Kr,this},o.prototype.forceRed=function(Kr){return s(!this.red,"Already a number in reduction context"),this._forceRed(Kr)},o.prototype.redAdd=function(Kr){return s(this.red,"redAdd works only with red numbers"),this.red.add(this,Kr)},o.prototype.redIAdd=function(Kr){return s(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,Kr)},o.prototype.redSub=function(Kr){return s(this.red,"redSub works only with red numbers"),this.red.sub(this,Kr)},o.prototype.redISub=function(Kr){return s(this.red,"redISub works only with red numbers"),this.red.isub(this,Kr)},o.prototype.redShl=function(Kr){return s(this.red,"redShl works only with red numbers"),this.red.shl(this,Kr)},o.prototype.redMul=function(Kr){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,Kr),this.red.mul(this,Kr)},o.prototype.redIMul=function(Kr){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,Kr),this.red.imul(this,Kr)},o.prototype.redSqr=function(){return s(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return s(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return s(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return s(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return s(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(Kr){return s(this.red&&!Kr.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,Kr)};var ii={k256:null,p224:null,p192:null,p25519:null};function ei(oi,Kr){this.name=oi,this.p=new o(Kr,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}ei.prototype._tmp=function(){var Kr=new o(null);return Kr.words=new Array(Math.ceil(this.n/13)),Kr},ei.prototype.ireduce=function(Kr){var Ie=Kr,C;do this.split(Ie,this.tmp),Ie=this.imulK(Ie),Ie=Ie.iadd(this.tmp),C=Ie.bitLength();while(C>this.n);var be=C<this.n?-1:Ie.ucmp(this.p);return be===0?(Ie.words[0]=0,Ie.length=1):be>0?Ie.isub(this.p):Ie.strip!==void 0?Ie.strip():Ie._strip(),Ie},ei.prototype.split=function(Kr,Ie){Kr.iushrn(this.n,0,Ie)},ei.prototype.imulK=function(Kr){return Kr.imul(this.k)};function si(){ei.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}ne(si,ei),si.prototype.split=function(Kr,Ie){for(var C=4194303,be=Math.min(Kr.length,9),Oe=0;Oe<be;Oe++)Ie.words[Oe]=Kr.words[Oe];if(Ie.length=be,Kr.length<=9){Kr.words[0]=0,Kr.length=1;return}var fr=Kr.words[9];for(Ie.words[Ie.length++]=fr&C,Oe=10;Oe<Kr.length;Oe++){var qr=Kr.words[Oe]|0;Kr.words[Oe-10]=(qr&C)<<4|fr>>>22,fr=qr}fr>>>=22,Kr.words[Oe-10]=fr,fr===0&&Kr.length>10?Kr.length-=10:Kr.length-=9},si.prototype.imulK=function(Kr){Kr.words[Kr.length]=0,Kr.words[Kr.length+1]=0,Kr.length+=2;for(var Ie=0,C=0;C<Kr.length;C++){var be=Kr.words[C]|0;Ie+=be*977,Kr.words[C]=Ie&67108863,Ie=be*64+(Ie/67108864|0)}return Kr.words[Kr.length-1]===0&&(Kr.length--,Kr.words[Kr.length-1]===0&&Kr.length--),Kr};function ai(){ei.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}ne(ai,ei);function Gr(){ei.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}ne(Gr,ei);function fi(){ei.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}ne(fi,ei),fi.prototype.imulK=function(Kr){for(var Ie=0,C=0;C<Kr.length;C++){var be=(Kr.words[C]|0)*19+Ie,Oe=be&67108863;be>>>=26,Kr.words[C]=Oe,Ie=be}return Ie!==0&&(Kr.words[Kr.length++]=Ie),Kr},o._prime=function(Kr){if(ii[Kr])return ii[Kr];var Ie;if(Kr==="k256")Ie=new si;else if(Kr==="p224")Ie=new ai;else if(Kr==="p192")Ie=new Gr;else if(Kr==="p25519")Ie=new fi;else throw new Error("Unknown prime "+Kr);return ii[Kr]=Ie,Ie};function gi(oi){if(typeof oi=="string"){var Kr=o._prime(oi);this.m=Kr.p,this.prime=Kr}else s(oi.gtn(1),"modulus must be greater than 1"),this.m=oi,this.prime=null}gi.prototype._verify1=function(Kr){s(Kr.negative===0,"red works only with positives"),s(Kr.red,"red works only with red numbers")},gi.prototype._verify2=function(Kr,Ie){s((Kr.negative|Ie.negative)===0,"red works only with positives"),s(Kr.red&&Kr.red===Ie.red,"red works only with red numbers")},gi.prototype.imod=function(Kr){return this.prime?this.prime.ireduce(Kr)._forceRed(this):Kr.umod(this.m)._forceRed(this)},gi.prototype.neg=function(Kr){return Kr.isZero()?Kr.clone():this.m.sub(Kr)._forceRed(this)},gi.prototype.add=function(Kr,Ie){this._verify2(Kr,Ie);var C=Kr.add(Ie);return C.cmp(this.m)>=0&&C.isub(this.m),C._forceRed(this)},gi.prototype.iadd=function(Kr,Ie){this._verify2(Kr,Ie);var C=Kr.iadd(Ie);return C.cmp(this.m)>=0&&C.isub(this.m),C},gi.prototype.sub=function(Kr,Ie){this._verify2(Kr,Ie);var C=Kr.sub(Ie);return C.cmpn(0)<0&&C.iadd(this.m),C._forceRed(this)},gi.prototype.isub=function(Kr,Ie){this._verify2(Kr,Ie);var C=Kr.isub(Ie);return C.cmpn(0)<0&&C.iadd(this.m),C},gi.prototype.shl=function(Kr,Ie){return this._verify1(Kr),this.imod(Kr.ushln(Ie))},gi.prototype.imul=function(Kr,Ie){return this._verify2(Kr,Ie),this.imod(Kr.imul(Ie))},gi.prototype.mul=function(Kr,Ie){return this._verify2(Kr,Ie),this.imod(Kr.mul(Ie))},gi.prototype.isqr=function(Kr){return this.imul(Kr,Kr.clone())},gi.prototype.sqr=function(Kr){return this.mul(Kr,Kr)},gi.prototype.sqrt=function(Kr){if(Kr.isZero())return Kr.clone();var Ie=this.m.andln(3);if(s(Ie%2===1),Ie===3){var C=this.m.add(new o(1)).iushrn(2);return this.pow(Kr,C)}for(var be=this.m.subn(1),Oe=0;!be.isZero()&&be.andln(1)===0;)Oe++,be.iushrn(1);s(!be.isZero());var fr=new o(1).toRed(this),qr=fr.redNeg(),Hr=this.m.subn(1).iushrn(1),Er=this.m.bitLength();for(Er=new o(2*Er*Er).toRed(this);this.pow(Er,Hr).cmp(qr)!==0;)Er.redIAdd(qr);for(var jr=this.pow(Er,be),Se=this.pow(Kr,be.addn(1).iushrn(1)),Wr=this.pow(Kr,be),bi=Oe;Wr.cmp(fr)!==0;){for(var vi=Wr,Ei=0;vi.cmp(fr)!==0;Ei++)vi=vi.redSqr();s(Ei<bi);var ti=this.pow(jr,new o(1).iushln(bi-Ei-1));Se=Se.redMul(ti),jr=ti.redSqr(),Wr=Wr.redMul(jr),bi=Ei}return Se},gi.prototype.invm=function(Kr){var Ie=Kr._invmp(this.m);return Ie.negative!==0?(Ie.negative=0,this.imod(Ie).redNeg()):this.imod(Ie)},gi.prototype.pow=function(Kr,Ie){if(Ie.isZero())return new o(1).toRed(this);if(Ie.cmpn(1)===0)return Kr.clone();var C=4,be=new Array(1<<C);be[0]=new o(1).toRed(this),be[1]=Kr;for(var Oe=2;Oe<be.length;Oe++)be[Oe]=this.mul(be[Oe-1],Kr);var fr=be[0],qr=0,Hr=0,Er=Ie.bitLength()%26;for(Er===0&&(Er=26),Oe=Ie.length-1;Oe>=0;Oe--){for(var jr=Ie.words[Oe],Se=Er-1;Se>=0;Se--){var Wr=jr>>Se&1;if(fr!==be[0]&&(fr=this.sqr(fr)),Wr===0&&qr===0){Hr=0;continue}qr<<=1,qr|=Wr,Hr++,!(Hr!==C&&(Oe!==0||Se!==0))&&(fr=this.mul(fr,be[qr]),Hr=0,qr=0)}Er=26}return fr},gi.prototype.convertTo=function(Kr){var Ie=Kr.umod(this.m);return Ie===Kr?Ie.clone():Ie},gi.prototype.convertFrom=function(Kr){var Ie=Kr.clone();return Ie.red=null,Ie},o.mont=function(Kr){return new Si(Kr)};function Si(oi){gi.call(this,oi),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ne(Si,gi),Si.prototype.convertTo=function(Kr){return this.imod(Kr.ushln(this.shift))},Si.prototype.convertFrom=function(Kr){var Ie=this.imod(Kr.mul(this.rinv));return Ie.red=null,Ie},Si.prototype.imul=function(Kr,Ie){if(Kr.isZero()||Ie.isZero())return Kr.words[0]=0,Kr.length=1,Kr;var C=Kr.imul(Ie),be=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Oe=C.isub(be).iushrn(this.shift),fr=Oe;return Oe.cmp(this.m)>=0?fr=Oe.isub(this.m):Oe.cmpn(0)<0&&(fr=Oe.iadd(this.m)),fr._forceRed(this)},Si.prototype.mul=function(Kr,Ie){if(Kr.isZero()||Ie.isZero())return new o(0)._forceRed(this);var C=Kr.mul(Ie),be=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Oe=C.isub(be).iushrn(this.shift),fr=Oe;return Oe.cmp(this.m)>=0?fr=Oe.isub(this.m):Oe.cmpn(0)<0&&(fr=Oe.iadd(this.m)),fr._forceRed(this)},Si.prototype.invm=function(Kr){var Ie=this.imod(Kr._invmp(this.m).mul(this.r2));return Ie._forceRed(this)}})(r,commonjsGlobal)}(bn$2)),bn$2.exports}var brorand={exports:{}},hasRequiredBrorand;function requireBrorand(){if(hasRequiredBrorand)return brorand.exports;hasRequiredBrorand=1;var r;brorand.exports=function(ne){return r||(r=new e(null)),r.generate(ne)};function e(s){this.rand=s}if(brorand.exports.Rand=e,e.prototype.generate=function(ne){return this._rand(ne)},e.prototype._rand=function(ne){if(this.rand.getBytes)return this.rand.getBytes(ne);for(var o=new Uint8Array(ne),we=0;we<o.length;we++)o[we]=this.rand.getByte();return o},typeof self=="object")self.crypto&&self.crypto.getRandomValues?e.prototype._rand=function(ne){var o=new Uint8Array(ne);return self.crypto.getRandomValues(o),o}:self.msCrypto&&self.msCrypto.getRandomValues?e.prototype._rand=function(ne){var o=new Uint8Array(ne);return self.msCrypto.getRandomValues(o),o}:typeof window=="object"&&(e.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var t=requireCryptoBrowserify();if(typeof t.randomBytes!="function")throw new Error("Not supported");e.prototype._rand=function(ne){return t.randomBytes(ne)}}catch{}return brorand.exports}var mr$1,hasRequiredMr;function requireMr(){if(hasRequiredMr)return mr$1;hasRequiredMr=1;var r=requireBn$2(),e=requireBrorand();function t(s){this.rand=s||new e.Rand}return mr$1=t,t.create=function(ne){return new t(ne)},t.prototype._randbelow=function(ne){var o=ne.bitLength(),we=Math.ceil(o/8);do var ye=new r(this.rand.generate(we));while(ye.cmp(ne)>=0);return ye},t.prototype._randrange=function(ne,o){var we=o.sub(ne);return ne.add(this._randbelow(we))},t.prototype.test=function(ne,o,we){var ye=ne.bitLength(),Ee=r.mont(ne),me=new r(1).toRed(Ee);o||(o=Math.max(1,ye/48|0));for(var fe=ne.subn(1),xe=0;!fe.testn(xe);xe++);for(var br=ne.shrn(xe),wr=fe.toRed(Ee),kr=!0;o>0;o--){var Vr=this._randrange(new r(2),fe);we&&we(Vr);var Zr=Vr.toRed(Ee).redPow(br);if(!(Zr.cmp(me)===0||Zr.cmp(wr)===0)){for(var Qr=1;Qr<xe;Qr++){if(Zr=Zr.redSqr(),Zr.cmp(me)===0)return!1;if(Zr.cmp(wr)===0)break}if(Qr===xe)return!1}}return kr},t.prototype.getDivisor=function(ne,o){var we=ne.bitLength(),ye=r.mont(ne),Ee=new r(1).toRed(ye);o||(o=Math.max(1,we/48|0));for(var me=ne.subn(1),fe=0;!me.testn(fe);fe++);for(var xe=ne.shrn(fe),br=me.toRed(ye);o>0;o--){var wr=this._randrange(new r(2),me),kr=ne.gcd(wr);if(kr.cmpn(1)!==0)return kr;var Vr=wr.toRed(ye).redPow(xe);if(!(Vr.cmp(Ee)===0||Vr.cmp(br)===0)){for(var Zr=1;Zr<fe;Zr++){if(Vr=Vr.redSqr(),Vr.cmp(Ee)===0)return Vr.fromRed().subn(1).gcd(ne);if(Vr.cmp(br)===0)break}if(Zr===fe)return Vr=Vr.redSqr(),Vr.fromRed().subn(1).gcd(ne)}}return!1},mr$1}var generatePrime,hasRequiredGeneratePrime;function requireGeneratePrime(){if(hasRequiredGeneratePrime)return generatePrime;hasRequiredGeneratePrime=1;var r=requireBrowser$a();generatePrime=Zr,Zr.simpleSieve=kr,Zr.fermatTest=Vr;var e=requireBn$2(),t=new e(24),s=requireMr(),ne=new s,o=new e(1),we=new e(2),ye=new e(5);new e(16),new e(8);var Ee=new e(10),me=new e(3);new e(7);var fe=new e(11),xe=new e(4);new e(12);var br=null;function wr(){if(br!==null)return br;var Qr=1048576,Yr=[];Yr[0]=2;for(var ii=1,ei=3;ei<Qr;ei+=2){for(var si=Math.ceil(Math.sqrt(ei)),ai=0;ai<ii&&Yr[ai]<=si&&ei%Yr[ai]!==0;ai++);ii!==ai&&Yr[ai]<=si||(Yr[ii++]=ei)}return br=Yr,Yr}function kr(Qr){for(var Yr=wr(),ii=0;ii<Yr.length;ii++)if(Qr.modn(Yr[ii])===0)return Qr.cmpn(Yr[ii])===0;return!0}function Vr(Qr){var Yr=e.mont(Qr);return we.toRed(Yr).redPow(Qr.subn(1)).fromRed().cmpn(1)===0}function Zr(Qr,Yr){if(Qr<16)return Yr===2||Yr===5?new e([140,123]):new e([140,39]);Yr=new e(Yr);for(var ii,ei;;){for(ii=new e(r(Math.ceil(Qr/8)));ii.bitLength()>Qr;)ii.ishrn(1);if(ii.isEven()&&ii.iadd(o),ii.testn(1)||ii.iadd(we),Yr.cmp(we)){if(!Yr.cmp(ye))for(;ii.mod(Ee).cmp(me);)ii.iadd(xe)}else for(;ii.mod(t).cmp(fe);)ii.iadd(xe);if(ei=ii.shrn(1),kr(ei)&&kr(ii)&&Vr(ei)&&Vr(ii)&&ne.test(ei)&&ne.test(ii))return ii}}return generatePrime}const modp1={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"},require$$1$1={modp1,modp2,modp5,modp14,modp15,modp16,modp17,modp18};var dh,hasRequiredDh;function requireDh(){if(hasRequiredDh)return dh;hasRequiredDh=1;var r=requireBn$2(),e=requireMr(),t=new e,s=new r(24),ne=new r(11),o=new r(10),we=new r(3),ye=new r(7),Ee=requireGeneratePrime(),me=requireBrowser$a();dh=kr;function fe(Zr,Qr){return Qr=Qr||"utf8",Buffer.isBuffer(Zr)||(Zr=new Buffer(Zr,Qr)),this._pub=new r(Zr),this}function xe(Zr,Qr){return Qr=Qr||"utf8",Buffer.isBuffer(Zr)||(Zr=new Buffer(Zr,Qr)),this._priv=new r(Zr),this}var br={};function wr(Zr,Qr){var Yr=Qr.toString("hex"),ii=[Yr,Zr.toString(16)].join("_");if(ii in br)return br[ii];var ei=0;if(Zr.isEven()||!Ee.simpleSieve||!Ee.fermatTest(Zr)||!t.test(Zr))return ei+=1,Yr==="02"||Yr==="05"?ei+=8:ei+=4,br[ii]=ei,ei;t.test(Zr.shrn(1))||(ei+=2);var si;switch(Yr){case"02":Zr.mod(s).cmp(ne)&&(ei+=8);break;case"05":si=Zr.mod(o),si.cmp(we)&&si.cmp(ye)&&(ei+=8);break;default:ei+=4}return br[ii]=ei,ei}function kr(Zr,Qr,Yr){this.setGenerator(Qr),this.__prime=new r(Zr),this._prime=r.mont(this.__prime),this._primeLen=Zr.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,Yr?(this.setPublicKey=fe,this.setPrivateKey=xe):this._primeCode=8}Object.defineProperty(kr.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=wr(this.__prime,this.__gen)),this._primeCode}}),kr.prototype.generateKeys=function(){return this._priv||(this._priv=new r(me(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},kr.prototype.computeSecret=function(Zr){Zr=new r(Zr),Zr=Zr.toRed(this._prime);var Qr=Zr.redPow(this._priv).fromRed(),Yr=new Buffer(Qr.toArray()),ii=this.getPrime();if(Yr.length<ii.length){var ei=new Buffer(ii.length-Yr.length);ei.fill(0),Yr=Buffer.concat([ei,Yr])}return Yr},kr.prototype.getPublicKey=function(Qr){return Vr(this._pub,Qr)},kr.prototype.getPrivateKey=function(Qr){return Vr(this._priv,Qr)},kr.prototype.getPrime=function(Zr){return Vr(this.__prime,Zr)},kr.prototype.getGenerator=function(Zr){return Vr(this._gen,Zr)},kr.prototype.setGenerator=function(Zr,Qr){return Qr=Qr||"utf8",Buffer.isBuffer(Zr)||(Zr=new Buffer(Zr,Qr)),this.__gen=Zr,this._gen=new r(Zr),this};function Vr(Zr,Qr){var Yr=new Buffer(Zr.toArray());return Qr?Yr.toString(Qr):Yr}return dh}var hasRequiredBrowser$4;function requireBrowser$4(){if(hasRequiredBrowser$4)return browser$6;hasRequiredBrowser$4=1;var r=requireGeneratePrime(),e=require$$1$1,t=requireDh();function s(we){var ye=new Buffer(e[we].prime,"hex"),Ee=new Buffer(e[we].gen,"hex");return new t(ye,Ee)}var ne={binary:!0,hex:!0,base64:!0};function o(we,ye,Ee,me){return Buffer.isBuffer(ye)||ne[ye]===void 0?o(we,"binary",ye,Ee):(ye=ye||"binary",me=me||"binary",Ee=Ee||new Buffer([2]),Buffer.isBuffer(Ee)||(Ee=new Buffer(Ee,me)),typeof we=="number"?new t(r(we,Ee),Ee,!0):(Buffer.isBuffer(we)||(we=new Buffer(we,ye)),new t(we,Ee,!0)))}return browser$6.DiffieHellmanGroup=browser$6.createDiffieHellmanGroup=browser$6.getDiffieHellman=s,browser$6.createDiffieHellman=browser$6.DiffieHellman=o,browser$6}var readableBrowser={exports:{}},processNextickArgs={exports:{}},hasRequiredProcessNextickArgs;function requireProcessNextickArgs(){if(hasRequiredProcessNextickArgs)return processNextickArgs.exports;hasRequiredProcessNextickArgs=1,typeof process$1>"u"||!process$1.version||process$1.version.indexOf("v0.")===0||process$1.version.indexOf("v1.")===0&&process$1.version.indexOf("v1.8.")!==0?processNextickArgs.exports={nextTick:r}:processNextickArgs.exports=process$1;function r(e,t,s,ne){if(typeof e!="function")throw new TypeError('"callback" argument must be a function');var o=arguments.length,we,ye;switch(o){case 0:case 1:return process$1.nextTick(e);case 2:return process$1.nextTick(function(){e.call(null,t)});case 3:return process$1.nextTick(function(){e.call(null,t,s)});case 4:return process$1.nextTick(function(){e.call(null,t,s,ne)});default:for(we=new Array(o-1),ye=0;ye<we.length;)we[ye++]=arguments[ye];return process$1.nextTick(function(){e.apply(null,we)})}}return processNextickArgs.exports}var isarray,hasRequiredIsarray;function requireIsarray(){if(hasRequiredIsarray)return isarray;hasRequiredIsarray=1;var r={}.toString;return isarray=Array.isArray||function(e){return r.call(e)=="[object Array]"},isarray}var streamBrowser,hasRequiredStreamBrowser;function requireStreamBrowser(){return hasRequiredStreamBrowser||(hasRequiredStreamBrowser=1,streamBrowser=eventsExports.EventEmitter),streamBrowser}var safeBuffer={exports:{}},hasRequiredSafeBuffer;function requireSafeBuffer(){return hasRequiredSafeBuffer||(hasRequiredSafeBuffer=1,function(r,e){var t=require$$1$2,s=t.Buffer;function ne(we,ye){for(var Ee in we)ye[Ee]=we[Ee]}s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?r.exports=t:(ne(t,e),e.Buffer=o);function o(we,ye,Ee){return s(we,ye,Ee)}ne(s,o),o.from=function(we,ye,Ee){if(typeof we=="number")throw new TypeError("Argument must not be a number");return s(we,ye,Ee)},o.alloc=function(we,ye,Ee){if(typeof we!="number")throw new TypeError("Argument must be a number");var me=s(we);return ye!==void 0?typeof Ee=="string"?me.fill(ye,Ee):me.fill(ye):me.fill(0),me},o.allocUnsafe=function(we){if(typeof we!="number")throw new TypeError("Argument must be a number");return s(we)},o.allocUnsafeSlow=function(we){if(typeof we!="number")throw new TypeError("Argument must be a number");return t.SlowBuffer(we)}}(safeBuffer,safeBuffer.exports)),safeBuffer.exports}var util={},hasRequiredUtil;function requireUtil(){if(hasRequiredUtil)return util;hasRequiredUtil=1;function r(Vr){return Array.isArray?Array.isArray(Vr):kr(Vr)==="[object Array]"}util.isArray=r;function e(Vr){return typeof Vr=="boolean"}util.isBoolean=e;function t(Vr){return Vr===null}util.isNull=t;function s(Vr){return Vr==null}util.isNullOrUndefined=s;function ne(Vr){return typeof Vr=="number"}util.isNumber=ne;function o(Vr){return typeof Vr=="string"}util.isString=o;function we(Vr){return typeof Vr=="symbol"}util.isSymbol=we;function ye(Vr){return Vr===void 0}util.isUndefined=ye;function Ee(Vr){return kr(Vr)==="[object RegExp]"}util.isRegExp=Ee;function me(Vr){return typeof Vr=="object"&&Vr!==null}util.isObject=me;function fe(Vr){return kr(Vr)==="[object Date]"}util.isDate=fe;function xe(Vr){return kr(Vr)==="[object Error]"||Vr instanceof Error}util.isError=xe;function br(Vr){return typeof Vr=="function"}util.isFunction=br;function wr(Vr){return Vr===null||typeof Vr=="boolean"||typeof Vr=="number"||typeof Vr=="string"||typeof Vr=="symbol"||typeof Vr>"u"}util.isPrimitive=wr,util.isBuffer=require$$1$2.Buffer.isBuffer;function kr(Vr){return Object.prototype.toString.call(Vr)}return util}var BufferList={exports:{}},hasRequiredBufferList;function requireBufferList(){return hasRequiredBufferList||(hasRequiredBufferList=1,function(r){function e(o,we){if(!(o instanceof we))throw new TypeError("Cannot call a class as a function")}var t=requireSafeBuffer().Buffer,s=util$1;function ne(o,we,ye){o.copy(we,ye)}r.exports=function(){function o(){e(this,o),this.head=null,this.tail=null,this.length=0}return o.prototype.push=function(ye){var Ee={data:ye,next:null};this.length>0?this.tail.next=Ee:this.head=Ee,this.tail=Ee,++this.length},o.prototype.unshift=function(ye){var Ee={data:ye,next:this.head};this.length===0&&(this.tail=Ee),this.head=Ee,++this.length},o.prototype.shift=function(){if(this.length!==0){var ye=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,ye}},o.prototype.clear=function(){this.head=this.tail=null,this.length=0},o.prototype.join=function(ye){if(this.length===0)return"";for(var Ee=this.head,me=""+Ee.data;Ee=Ee.next;)me+=ye+Ee.data;return me},o.prototype.concat=function(ye){if(this.length===0)return t.alloc(0);for(var Ee=t.allocUnsafe(ye>>>0),me=this.head,fe=0;me;)ne(me.data,Ee,fe),fe+=me.data.length,me=me.next;return Ee},o}(),s&&s.inspect&&s.inspect.custom&&(r.exports.prototype[s.inspect.custom]=function(){var o=s.inspect({length:this.length});return this.constructor.name+" "+o})}(BufferList)),BufferList.exports}var destroy_1,hasRequiredDestroy;function requireDestroy(){if(hasRequiredDestroy)return destroy_1;hasRequiredDestroy=1;var r=requireProcessNextickArgs();function e(ne,o){var we=this,ye=this._readableState&&this._readableState.destroyed,Ee=this._writableState&&this._writableState.destroyed;return ye||Ee?(o?o(ne):ne&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,r.nextTick(s,this,ne)):r.nextTick(s,this,ne)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(ne||null,function(me){!o&&me?we._writableState?we._writableState.errorEmitted||(we._writableState.errorEmitted=!0,r.nextTick(s,we,me)):r.nextTick(s,we,me):o&&o(me)}),this)}function t(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function s(ne,o){ne.emit("error",o)}return destroy_1={destroy:e,undestroy:t},destroy_1}var _stream_writable,hasRequired_stream_writable;function require_stream_writable(){if(hasRequired_stream_writable)return _stream_writable;hasRequired_stream_writable=1;var r=requireProcessNextickArgs();_stream_writable=Vr;function e(fr){var qr=this;this.next=null,this.entry=null,this.finish=function(){Oe(qr,fr)}}var t=r.nextTick,s;Vr.WritableState=wr;var ne=Object.create(requireUtil());ne.inherits=inherits_browserExports;var o={deprecate:browser$e},we=requireStreamBrowser(),ye=requireSafeBuffer().Buffer,Ee=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function me(fr){return ye.from(fr)}function fe(fr){return ye.isBuffer(fr)||fr instanceof Ee}var xe=requireDestroy();ne.inherits(Vr,we);function br(){}function wr(fr,qr){s=s||require_stream_duplex(),fr=fr||{};var Hr=qr instanceof s;this.objectMode=!!fr.objectMode,Hr&&(this.objectMode=this.objectMode||!!fr.writableObjectMode);var Er=fr.highWaterMark,jr=fr.writableHighWaterMark,Se=this.objectMode?16:16*1024;Er||Er===0?this.highWaterMark=Er:Hr&&(jr||jr===0)?this.highWaterMark=jr:this.highWaterMark=Se,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Wr=fr.decodeStrings===!1;this.decodeStrings=!Wr,this.defaultEncoding=fr.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(bi){Gr(qr,bi)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}wr.prototype.getBuffer=function(){for(var qr=this.bufferedRequest,Hr=[];qr;)Hr.push(qr),qr=qr.next;return Hr},function(){try{Object.defineProperty(wr.prototype,"buffer",{get:o.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var kr;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(kr=Function.prototype[Symbol.hasInstance],Object.defineProperty(Vr,Symbol.hasInstance,{value:function(fr){return kr.call(this,fr)?!0:this!==Vr?!1:fr&&fr._writableState instanceof wr}})):kr=function(fr){return fr instanceof this};function Vr(fr){if(s=s||require_stream_duplex(),!kr.call(Vr,this)&&!(this instanceof s))return new Vr(fr);this._writableState=new wr(fr,this),this.writable=!0,fr&&(typeof fr.write=="function"&&(this._write=fr.write),typeof fr.writev=="function"&&(this._writev=fr.writev),typeof fr.destroy=="function"&&(this._destroy=fr.destroy),typeof fr.final=="function"&&(this._final=fr.final)),we.call(this)}Vr.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function Zr(fr,qr){var Hr=new Error("write after end");fr.emit("error",Hr),r.nextTick(qr,Hr)}function Qr(fr,qr,Hr,Er){var jr=!0,Se=!1;return Hr===null?Se=new TypeError("May not write null values to stream"):typeof Hr!="string"&&Hr!==void 0&&!qr.objectMode&&(Se=new TypeError("Invalid non-string/buffer chunk")),Se&&(fr.emit("error",Se),r.nextTick(Er,Se),jr=!1),jr}Vr.prototype.write=function(fr,qr,Hr){var Er=this._writableState,jr=!1,Se=!Er.objectMode&&fe(fr);return Se&&!ye.isBuffer(fr)&&(fr=me(fr)),typeof qr=="function"&&(Hr=qr,qr=null),Se?qr="buffer":qr||(qr=Er.defaultEncoding),typeof Hr!="function"&&(Hr=br),Er.ended?Zr(this,Hr):(Se||Qr(this,Er,fr,Hr))&&(Er.pendingcb++,jr=ii(this,Er,Se,fr,qr,Hr)),jr},Vr.prototype.cork=function(){var fr=this._writableState;fr.corked++},Vr.prototype.uncork=function(){var fr=this._writableState;fr.corked&&(fr.corked--,!fr.writing&&!fr.corked&&!fr.bufferProcessing&&fr.bufferedRequest&&Si(this,fr))},Vr.prototype.setDefaultEncoding=function(qr){if(typeof qr=="string"&&(qr=qr.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((qr+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+qr);return this._writableState.defaultEncoding=qr,this};function Yr(fr,qr,Hr){return!fr.objectMode&&fr.decodeStrings!==!1&&typeof qr=="string"&&(qr=ye.from(qr,Hr)),qr}Object.defineProperty(Vr.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function ii(fr,qr,Hr,Er,jr,Se){if(!Hr){var Wr=Yr(qr,Er,jr);Er!==Wr&&(Hr=!0,jr="buffer",Er=Wr)}var bi=qr.objectMode?1:Er.length;qr.length+=bi;var vi=qr.length<qr.highWaterMark;if(vi||(qr.needDrain=!0),qr.writing||qr.corked){var Ei=qr.lastBufferedRequest;qr.lastBufferedRequest={chunk:Er,encoding:jr,isBuf:Hr,callback:Se,next:null},Ei?Ei.next=qr.lastBufferedRequest:qr.bufferedRequest=qr.lastBufferedRequest,qr.bufferedRequestCount+=1}else ei(fr,qr,!1,bi,Er,jr,Se);return vi}function ei(fr,qr,Hr,Er,jr,Se,Wr){qr.writelen=Er,qr.writecb=Wr,qr.writing=!0,qr.sync=!0,Hr?fr._writev(jr,qr.onwrite):fr._write(jr,Se,qr.onwrite),qr.sync=!1}function si(fr,qr,Hr,Er,jr){--qr.pendingcb,Hr?(r.nextTick(jr,Er),r.nextTick(C,fr,qr),fr._writableState.errorEmitted=!0,fr.emit("error",Er)):(jr(Er),fr._writableState.errorEmitted=!0,fr.emit("error",Er),C(fr,qr))}function ai(fr){fr.writing=!1,fr.writecb=null,fr.length-=fr.writelen,fr.writelen=0}function Gr(fr,qr){var Hr=fr._writableState,Er=Hr.sync,jr=Hr.writecb;if(ai(Hr),qr)si(fr,Hr,Er,qr,jr);else{var Se=oi(Hr);!Se&&!Hr.corked&&!Hr.bufferProcessing&&Hr.bufferedRequest&&Si(fr,Hr),Er?t(fi,fr,Hr,Se,jr):fi(fr,Hr,Se,jr)}}function fi(fr,qr,Hr,Er){Hr||gi(fr,qr),qr.pendingcb--,Er(),C(fr,qr)}function gi(fr,qr){qr.length===0&&qr.needDrain&&(qr.needDrain=!1,fr.emit("drain"))}function Si(fr,qr){qr.bufferProcessing=!0;var Hr=qr.bufferedRequest;if(fr._writev&&Hr&&Hr.next){var Er=qr.bufferedRequestCount,jr=new Array(Er),Se=qr.corkedRequestsFree;Se.entry=Hr;for(var Wr=0,bi=!0;Hr;)jr[Wr]=Hr,Hr.isBuf||(bi=!1),Hr=Hr.next,Wr+=1;jr.allBuffers=bi,ei(fr,qr,!0,qr.length,jr,"",Se.finish),qr.pendingcb++,qr.lastBufferedRequest=null,Se.next?(qr.corkedRequestsFree=Se.next,Se.next=null):qr.corkedRequestsFree=new e(qr),qr.bufferedRequestCount=0}else{for(;Hr;){var vi=Hr.chunk,Ei=Hr.encoding,ti=Hr.callback,ri=qr.objectMode?1:vi.length;if(ei(fr,qr,!1,ri,vi,Ei,ti),Hr=Hr.next,qr.bufferedRequestCount--,qr.writing)break}Hr===null&&(qr.lastBufferedRequest=null)}qr.bufferedRequest=Hr,qr.bufferProcessing=!1}Vr.prototype._write=function(fr,qr,Hr){Hr(new Error("_write() is not implemented"))},Vr.prototype._writev=null,Vr.prototype.end=function(fr,qr,Hr){var Er=this._writableState;typeof fr=="function"?(Hr=fr,fr=null,qr=null):typeof qr=="function"&&(Hr=qr,qr=null),fr!=null&&this.write(fr,qr),Er.corked&&(Er.corked=1,this.uncork()),Er.ending||be(this,Er,Hr)};function oi(fr){return fr.ending&&fr.length===0&&fr.bufferedRequest===null&&!fr.finished&&!fr.writing}function Kr(fr,qr){fr._final(function(Hr){qr.pendingcb--,Hr&&fr.emit("error",Hr),qr.prefinished=!0,fr.emit("prefinish"),C(fr,qr)})}function Ie(fr,qr){!qr.prefinished&&!qr.finalCalled&&(typeof fr._final=="function"?(qr.pendingcb++,qr.finalCalled=!0,r.nextTick(Kr,fr,qr)):(qr.prefinished=!0,fr.emit("prefinish")))}function C(fr,qr){var Hr=oi(qr);return Hr&&(Ie(fr,qr),qr.pendingcb===0&&(qr.finished=!0,fr.emit("finish"))),Hr}function be(fr,qr,Hr){qr.ending=!0,C(fr,qr),Hr&&(qr.finished?r.nextTick(Hr):fr.once("finish",Hr)),qr.ended=!0,fr.writable=!1}function Oe(fr,qr,Hr){var Er=fr.entry;for(fr.entry=null;Er;){var jr=Er.callback;qr.pendingcb--,jr(Hr),Er=Er.next}qr.corkedRequestsFree.next=fr}return Object.defineProperty(Vr.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(fr){this._writableState&&(this._writableState.destroyed=fr)}}),Vr.prototype.destroy=xe.destroy,Vr.prototype._undestroy=xe.undestroy,Vr.prototype._destroy=function(fr,qr){this.end(),qr(fr)},_stream_writable}var _stream_duplex,hasRequired_stream_duplex;function require_stream_duplex(){if(hasRequired_stream_duplex)return _stream_duplex;hasRequired_stream_duplex=1;var r=requireProcessNextickArgs(),e=Object.keys||function(xe){var br=[];for(var wr in xe)br.push(wr);return br};_stream_duplex=Ee;var t=Object.create(requireUtil());t.inherits=inherits_browserExports;var s=require_stream_readable(),ne=require_stream_writable();t.inherits(Ee,s);for(var o=e(ne.prototype),we=0;we<o.length;we++){var ye=o[we];Ee.prototype[ye]||(Ee.prototype[ye]=ne.prototype[ye])}function Ee(xe){if(!(this instanceof Ee))return new Ee(xe);s.call(this,xe),ne.call(this,xe),xe&&xe.readable===!1&&(this.readable=!1),xe&&xe.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,xe&&xe.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",me)}Object.defineProperty(Ee.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function me(){this.allowHalfOpen||this._writableState.ended||r.nextTick(fe,this)}function fe(xe){xe.end()}return Object.defineProperty(Ee.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(xe){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=xe,this._writableState.destroyed=xe)}}),Ee.prototype._destroy=function(xe,br){this.push(null),this.end(),r.nextTick(br,xe)},_stream_duplex}var _stream_readable,hasRequired_stream_readable;function require_stream_readable(){if(hasRequired_stream_readable)return _stream_readable;hasRequired_stream_readable=1;var r=requireProcessNextickArgs();_stream_readable=Yr;var e=requireIsarray(),t;Yr.ReadableState=Qr,eventsExports.EventEmitter;var s=function(ti,ri){return ti.listeners(ri).length},ne=requireStreamBrowser(),o=requireSafeBuffer().Buffer,we=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function ye(ti){return o.from(ti)}function Ee(ti){return o.isBuffer(ti)||ti instanceof we}var me=Object.create(requireUtil());me.inherits=inherits_browserExports;var fe=util$1,xe=void 0;fe&&fe.debuglog?xe=fe.debuglog("stream"):xe=function(){};var br=requireBufferList(),wr=requireDestroy(),kr;me.inherits(Yr,ne);var Vr=["error","close","destroy","pause","resume"];function Zr(ti,ri,ci){if(typeof ti.prependListener=="function")return ti.prependListener(ri,ci);!ti._events||!ti._events[ri]?ti.on(ri,ci):e(ti._events[ri])?ti._events[ri].unshift(ci):ti._events[ri]=[ci,ti._events[ri]]}function Qr(ti,ri){t=t||require_stream_duplex(),ti=ti||{};var ci=ri instanceof t;this.objectMode=!!ti.objectMode,ci&&(this.objectMode=this.objectMode||!!ti.readableObjectMode);var Jr=ti.highWaterMark,li=ti.readableHighWaterMark,yi=this.objectMode?16:16*1024;Jr||Jr===0?this.highWaterMark=Jr:ci&&(li||li===0)?this.highWaterMark=li:this.highWaterMark=yi,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new br,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=ti.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,ti.encoding&&(kr||(kr=requireString_decoder().StringDecoder),this.decoder=new kr(ti.encoding),this.encoding=ti.encoding)}function Yr(ti){if(t=t||require_stream_duplex(),!(this instanceof Yr))return new Yr(ti);this._readableState=new Qr(ti,this),this.readable=!0,ti&&(typeof ti.read=="function"&&(this._read=ti.read),typeof ti.destroy=="function"&&(this._destroy=ti.destroy)),ne.call(this)}Object.defineProperty(Yr.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(ti){this._readableState&&(this._readableState.destroyed=ti)}}),Yr.prototype.destroy=wr.destroy,Yr.prototype._undestroy=wr.undestroy,Yr.prototype._destroy=function(ti,ri){this.push(null),ri(ti)},Yr.prototype.push=function(ti,ri){var ci=this._readableState,Jr;return ci.objectMode?Jr=!0:typeof ti=="string"&&(ri=ri||ci.defaultEncoding,ri!==ci.encoding&&(ti=o.from(ti,ri),ri=""),Jr=!0),ii(this,ti,ri,!1,Jr)},Yr.prototype.unshift=function(ti){return ii(this,ti,null,!0,!1)};function ii(ti,ri,ci,Jr,li){var yi=ti._readableState;if(ri===null)yi.reading=!1,Si(ti,yi);else{var $i;li||($i=si(yi,ri)),$i?ti.emit("error",$i):yi.objectMode||ri&&ri.length>0?(typeof ri!="string"&&!yi.objectMode&&Object.getPrototypeOf(ri)!==o.prototype&&(ri=ye(ri)),Jr?yi.endEmitted?ti.emit("error",new Error("stream.unshift() after end event")):ei(ti,yi,ri,!0):yi.ended?ti.emit("error",new Error("stream.push() after EOF")):(yi.reading=!1,yi.decoder&&!ci?(ri=yi.decoder.write(ri),yi.objectMode||ri.length!==0?ei(ti,yi,ri,!1):Ie(ti,yi)):ei(ti,yi,ri,!1))):Jr||(yi.reading=!1)}return ai(yi)}function ei(ti,ri,ci,Jr){ri.flowing&&ri.length===0&&!ri.sync?(ti.emit("data",ci),ti.read(0)):(ri.length+=ri.objectMode?1:ci.length,Jr?ri.buffer.unshift(ci):ri.buffer.push(ci),ri.needReadable&&oi(ti)),Ie(ti,ri)}function si(ti,ri){var ci;return!Ee(ri)&&typeof ri!="string"&&ri!==void 0&&!ti.objectMode&&(ci=new TypeError("Invalid non-string/buffer chunk")),ci}function ai(ti){return!ti.ended&&(ti.needReadable||ti.length<ti.highWaterMark||ti.length===0)}Yr.prototype.isPaused=function(){return this._readableState.flowing===!1},Yr.prototype.setEncoding=function(ti){return kr||(kr=requireString_decoder().StringDecoder),this._readableState.decoder=new kr(ti),this._readableState.encoding=ti,this};var Gr=8388608;function fi(ti){return ti>=Gr?ti=Gr:(ti--,ti|=ti>>>1,ti|=ti>>>2,ti|=ti>>>4,ti|=ti>>>8,ti|=ti>>>16,ti++),ti}function gi(ti,ri){return ti<=0||ri.length===0&&ri.ended?0:ri.objectMode?1:ti!==ti?ri.flowing&&ri.length?ri.buffer.head.data.length:ri.length:(ti>ri.highWaterMark&&(ri.highWaterMark=fi(ti)),ti<=ri.length?ti:ri.ended?ri.length:(ri.needReadable=!0,0))}Yr.prototype.read=function(ti){xe("read",ti),ti=parseInt(ti,10);var ri=this._readableState,ci=ti;if(ti!==0&&(ri.emittedReadable=!1),ti===0&&ri.needReadable&&(ri.length>=ri.highWaterMark||ri.ended))return xe("read: emitReadable",ri.length,ri.ended),ri.length===0&&ri.ended?bi(this):oi(this),null;if(ti=gi(ti,ri),ti===0&&ri.ended)return ri.length===0&&bi(this),null;var Jr=ri.needReadable;xe("need readable",Jr),(ri.length===0||ri.length-ti<ri.highWaterMark)&&(Jr=!0,xe("length less than watermark",Jr)),ri.ended||ri.reading?(Jr=!1,xe("reading or ended",Jr)):Jr&&(xe("do read"),ri.reading=!0,ri.sync=!0,ri.length===0&&(ri.needReadable=!0),this._read(ri.highWaterMark),ri.sync=!1,ri.reading||(ti=gi(ci,ri)));var li;return ti>0?li=Er(ti,ri):li=null,li===null?(ri.needReadable=!0,ti=0):ri.length-=ti,ri.length===0&&(ri.ended||(ri.needReadable=!0),ci!==ti&&ri.ended&&bi(this)),li!==null&&this.emit("data",li),li};function Si(ti,ri){if(!ri.ended){if(ri.decoder){var ci=ri.decoder.end();ci&&ci.length&&(ri.buffer.push(ci),ri.length+=ri.objectMode?1:ci.length)}ri.ended=!0,oi(ti)}}function oi(ti){var ri=ti._readableState;ri.needReadable=!1,ri.emittedReadable||(xe("emitReadable",ri.flowing),ri.emittedReadable=!0,ri.sync?r.nextTick(Kr,ti):Kr(ti))}function Kr(ti){xe("emit readable"),ti.emit("readable"),Hr(ti)}function Ie(ti,ri){ri.readingMore||(ri.readingMore=!0,r.nextTick(C,ti,ri))}function C(ti,ri){for(var ci=ri.length;!ri.reading&&!ri.flowing&&!ri.ended&&ri.length<ri.highWaterMark&&(xe("maybeReadMore read 0"),ti.read(0),ci!==ri.length);)ci=ri.length;ri.readingMore=!1}Yr.prototype._read=function(ti){this.emit("error",new Error("_read() is not implemented"))},Yr.prototype.pipe=function(ti,ri){var ci=this,Jr=this._readableState;switch(Jr.pipesCount){case 0:Jr.pipes=ti;break;case 1:Jr.pipes=[Jr.pipes,ti];break;default:Jr.pipes.push(ti);break}Jr.pipesCount+=1,xe("pipe count=%d opts=%j",Jr.pipesCount,ri);var li=(!ri||ri.end!==!1)&&ti!==process$1.stdout&&ti!==process$1.stderr,yi=li?Ni:ki;Jr.endEmitted?r.nextTick(yi):ci.once("end",yi),ti.on("unpipe",$i);function $i(Ai,In){xe("onunpipe"),Ai===ci&&In&&In.hasUnpiped===!1&&(In.hasUnpiped=!0,zi())}function Ni(){xe("onend"),ti.end()}var Bi=be(ci);ti.on("drain",Bi);var zn=!1;function zi(){xe("cleanup"),ti.removeListener("close",Ii),ti.removeListener("finish",Nn),ti.removeListener("drain",Bi),ti.removeListener("error",Vi),ti.removeListener("unpipe",$i),ci.removeListener("end",Ni),ci.removeListener("end",ki),ci.removeListener("data",la),zn=!0,Jr.awaitDrain&&(!ti._writableState||ti._writableState.needDrain)&&Bi()}var Ki=!1;ci.on("data",la);function la(Ai){xe("ondata"),Ki=!1;var In=ti.write(Ai);In===!1&&!Ki&&((Jr.pipesCount===1&&Jr.pipes===ti||Jr.pipesCount>1&&Ei(Jr.pipes,ti)!==-1)&&!zn&&(xe("false write response, pause",Jr.awaitDrain),Jr.awaitDrain++,Ki=!0),ci.pause())}function Vi(Ai){xe("onerror",Ai),ki(),ti.removeListener("error",Vi),s(ti,"error")===0&&ti.emit("error",Ai)}Zr(ti,"error",Vi);function Ii(){ti.removeListener("finish",Nn),ki()}ti.once("close",Ii);function Nn(){xe("onfinish"),ti.removeListener("close",Ii),ki()}ti.once("finish",Nn);function ki(){xe("unpipe"),ci.unpipe(ti)}return ti.emit("pipe",ci),Jr.flowing||(xe("pipe resume"),ci.resume()),ti};function be(ti){return function(){var ri=ti._readableState;xe("pipeOnDrain",ri.awaitDrain),ri.awaitDrain&&ri.awaitDrain--,ri.awaitDrain===0&&s(ti,"data")&&(ri.flowing=!0,Hr(ti))}}Yr.prototype.unpipe=function(ti){var ri=this._readableState,ci={hasUnpiped:!1};if(ri.pipesCount===0)return this;if(ri.pipesCount===1)return ti&&ti!==ri.pipes?this:(ti||(ti=ri.pipes),ri.pipes=null,ri.pipesCount=0,ri.flowing=!1,ti&&ti.emit("unpipe",this,ci),this);if(!ti){var Jr=ri.pipes,li=ri.pipesCount;ri.pipes=null,ri.pipesCount=0,ri.flowing=!1;for(var yi=0;yi<li;yi++)Jr[yi].emit("unpipe",this,{hasUnpiped:!1});return this}var $i=Ei(ri.pipes,ti);return $i===-1?this:(ri.pipes.splice($i,1),ri.pipesCount-=1,ri.pipesCount===1&&(ri.pipes=ri.pipes[0]),ti.emit("unpipe",this,ci),this)},Yr.prototype.on=function(ti,ri){var ci=ne.prototype.on.call(this,ti,ri);if(ti==="data")this._readableState.flowing!==!1&&this.resume();else if(ti==="readable"){var Jr=this._readableState;!Jr.endEmitted&&!Jr.readableListening&&(Jr.readableListening=Jr.needReadable=!0,Jr.emittedReadable=!1,Jr.reading?Jr.length&&oi(this):r.nextTick(Oe,this))}return ci},Yr.prototype.addListener=Yr.prototype.on;function Oe(ti){xe("readable nexttick read 0"),ti.read(0)}Yr.prototype.resume=function(){var ti=this._readableState;return ti.flowing||(xe("resume"),ti.flowing=!0,fr(this,ti)),this};function fr(ti,ri){ri.resumeScheduled||(ri.resumeScheduled=!0,r.nextTick(qr,ti,ri))}function qr(ti,ri){ri.reading||(xe("resume read 0"),ti.read(0)),ri.resumeScheduled=!1,ri.awaitDrain=0,ti.emit("resume"),Hr(ti),ri.flowing&&!ri.reading&&ti.read(0)}Yr.prototype.pause=function(){return xe("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(xe("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function Hr(ti){var ri=ti._readableState;for(xe("flow",ri.flowing);ri.flowing&&ti.read()!==null;);}Yr.prototype.wrap=function(ti){var ri=this,ci=this._readableState,Jr=!1;ti.on("end",function(){if(xe("wrapped end"),ci.decoder&&!ci.ended){var $i=ci.decoder.end();$i&&$i.length&&ri.push($i)}ri.push(null)}),ti.on("data",function($i){if(xe("wrapped data"),ci.decoder&&($i=ci.decoder.write($i)),!(ci.objectMode&&$i==null)&&!(!ci.objectMode&&(!$i||!$i.length))){var Ni=ri.push($i);Ni||(Jr=!0,ti.pause())}});for(var li in ti)this[li]===void 0&&typeof ti[li]=="function"&&(this[li]=function($i){return function(){return ti[$i].apply(ti,arguments)}}(li));for(var yi=0;yi<Vr.length;yi++)ti.on(Vr[yi],this.emit.bind(this,Vr[yi]));return this._read=function($i){xe("wrapped _read",$i),Jr&&(Jr=!1,ti.resume())},this},Object.defineProperty(Yr.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Yr._fromList=Er;function Er(ti,ri){if(ri.length===0)return null;var ci;return ri.objectMode?ci=ri.buffer.shift():!ti||ti>=ri.length?(ri.decoder?ci=ri.buffer.join(""):ri.buffer.length===1?ci=ri.buffer.head.data:ci=ri.buffer.concat(ri.length),ri.buffer.clear()):ci=jr(ti,ri.buffer,ri.decoder),ci}function jr(ti,ri,ci){var Jr;return ti<ri.head.data.length?(Jr=ri.head.data.slice(0,ti),ri.head.data=ri.head.data.slice(ti)):ti===ri.head.data.length?Jr=ri.shift():Jr=ci?Se(ti,ri):Wr(ti,ri),Jr}function Se(ti,ri){var ci=ri.head,Jr=1,li=ci.data;for(ti-=li.length;ci=ci.next;){var yi=ci.data,$i=ti>yi.length?yi.length:ti;if($i===yi.length?li+=yi:li+=yi.slice(0,ti),ti-=$i,ti===0){$i===yi.length?(++Jr,ci.next?ri.head=ci.next:ri.head=ri.tail=null):(ri.head=ci,ci.data=yi.slice($i));break}++Jr}return ri.length-=Jr,li}function Wr(ti,ri){var ci=o.allocUnsafe(ti),Jr=ri.head,li=1;for(Jr.data.copy(ci),ti-=Jr.data.length;Jr=Jr.next;){var yi=Jr.data,$i=ti>yi.length?yi.length:ti;if(yi.copy(ci,ci.length-ti,0,$i),ti-=$i,ti===0){$i===yi.length?(++li,Jr.next?ri.head=Jr.next:ri.head=ri.tail=null):(ri.head=Jr,Jr.data=yi.slice($i));break}++li}return ri.length-=li,ci}function bi(ti){var ri=ti._readableState;if(ri.length>0)throw new Error('"endReadable()" called on non-empty stream');ri.endEmitted||(ri.ended=!0,r.nextTick(vi,ri,ti))}function vi(ti,ri){!ti.endEmitted&&ti.length===0&&(ti.endEmitted=!0,ri.readable=!1,ri.emit("end"))}function Ei(ti,ri){for(var ci=0,Jr=ti.length;ci<Jr;ci++)if(ti[ci]===ri)return ci;return-1}return _stream_readable}var _stream_transform,hasRequired_stream_transform;function require_stream_transform(){if(hasRequired_stream_transform)return _stream_transform;hasRequired_stream_transform=1,_stream_transform=s;var r=require_stream_duplex(),e=Object.create(requireUtil());e.inherits=inherits_browserExports,e.inherits(s,r);function t(we,ye){var Ee=this._transformState;Ee.transforming=!1;var me=Ee.writecb;if(!me)return this.emit("error",new Error("write callback called multiple times"));Ee.writechunk=null,Ee.writecb=null,ye!=null&&this.push(ye),me(we);var fe=this._readableState;fe.reading=!1,(fe.needReadable||fe.length<fe.highWaterMark)&&this._read(fe.highWaterMark)}function s(we){if(!(this instanceof s))return new s(we);r.call(this,we),this._transformState={afterTransform:t.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,we&&(typeof we.transform=="function"&&(this._transform=we.transform),typeof we.flush=="function"&&(this._flush=we.flush)),this.on("prefinish",ne)}function ne(){var we=this;typeof this._flush=="function"?this._flush(function(ye,Ee){o(we,ye,Ee)}):o(this,null,null)}s.prototype.push=function(we,ye){return this._transformState.needTransform=!1,r.prototype.push.call(this,we,ye)},s.prototype._transform=function(we,ye,Ee){throw new Error("_transform() is not implemented")},s.prototype._write=function(we,ye,Ee){var me=this._transformState;if(me.writecb=Ee,me.writechunk=we,me.writeencoding=ye,!me.transforming){var fe=this._readableState;(me.needTransform||fe.needReadable||fe.length<fe.highWaterMark)&&this._read(fe.highWaterMark)}},s.prototype._read=function(we){var ye=this._transformState;ye.writechunk!==null&&ye.writecb&&!ye.transforming?(ye.transforming=!0,this._transform(ye.writechunk,ye.writeencoding,ye.afterTransform)):ye.needTransform=!0},s.prototype._destroy=function(we,ye){var Ee=this;r.prototype._destroy.call(this,we,function(me){ye(me),Ee.emit("close")})};function o(we,ye,Ee){if(ye)return we.emit("error",ye);if(Ee!=null&&we.push(Ee),we._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(we._transformState.transforming)throw new Error("Calling transform done when still transforming");return we.push(null)}return _stream_transform}var _stream_passthrough,hasRequired_stream_passthrough;function require_stream_passthrough(){if(hasRequired_stream_passthrough)return _stream_passthrough;hasRequired_stream_passthrough=1,_stream_passthrough=t;var r=require_stream_transform(),e=Object.create(requireUtil());e.inherits=inherits_browserExports,e.inherits(t,r);function t(s){if(!(this instanceof t))return new t(s);r.call(this,s)}return t.prototype._transform=function(s,ne,o){o(null,s)},_stream_passthrough}var hasRequiredReadableBrowser;function requireReadableBrowser(){return hasRequiredReadableBrowser||(hasRequiredReadableBrowser=1,function(r,e){e=r.exports=require_stream_readable(),e.Stream=e,e.Readable=e,e.Writable=require_stream_writable(),e.Duplex=require_stream_duplex(),e.Transform=require_stream_transform(),e.PassThrough=require_stream_passthrough()}(readableBrowser,readableBrowser.exports)),readableBrowser.exports}var sign={exports:{}},bn$1={exports:{}};bn$1.exports;var hasRequiredBn$1;function requireBn$1(){return hasRequiredBn$1||(hasRequiredBn$1=1,function(r){(function(e,t){function s(Ie,C){if(!Ie)throw new Error(C||"Assertion failed")}function ne(Ie,C){Ie.super_=C;var be=function(){};be.prototype=C.prototype,Ie.prototype=new be,Ie.prototype.constructor=Ie}function o(Ie,C,be){if(o.isBN(Ie))return Ie;this.negative=0,this.words=null,this.length=0,this.red=null,Ie!==null&&((C==="le"||C==="be")&&(be=C,C=10),this._init(Ie||0,C||10,be||"be"))}typeof e=="object"?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;var we;try{typeof window<"u"&&typeof window.Buffer<"u"?we=window.Buffer:we=require$$1$2.Buffer}catch{}o.isBN=function(C){return C instanceof o?!0:C!==null&&typeof C=="object"&&C.constructor.wordSize===o.wordSize&&Array.isArray(C.words)},o.max=function(C,be){return C.cmp(be)>0?C:be},o.min=function(C,be){return C.cmp(be)<0?C:be},o.prototype._init=function(C,be,Oe){if(typeof C=="number")return this._initNumber(C,be,Oe);if(typeof C=="object")return this._initArray(C,be,Oe);be==="hex"&&(be=16),s(be===(be|0)&&be>=2&&be<=36),C=C.toString().replace(/\s+/g,"");var fr=0;C[0]==="-"&&(fr++,this.negative=1),fr<C.length&&(be===16?this._parseHex(C,fr,Oe):(this._parseBase(C,be,fr),Oe==="le"&&this._initArray(this.toArray(),be,Oe)))},o.prototype._initNumber=function(C,be,Oe){C<0&&(this.negative=1,C=-C),C<67108864?(this.words=[C&67108863],this.length=1):C<4503599627370496?(this.words=[C&67108863,C/67108864&67108863],this.length=2):(s(C<9007199254740992),this.words=[C&67108863,C/67108864&67108863,1],this.length=3),Oe==="le"&&this._initArray(this.toArray(),be,Oe)},o.prototype._initArray=function(C,be,Oe){if(s(typeof C.length=="number"),C.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(C.length/3),this.words=new Array(this.length);for(var fr=0;fr<this.length;fr++)this.words[fr]=0;var qr,Hr,Er=0;if(Oe==="be")for(fr=C.length-1,qr=0;fr>=0;fr-=3)Hr=C[fr]|C[fr-1]<<8|C[fr-2]<<16,this.words[qr]|=Hr<<Er&67108863,this.words[qr+1]=Hr>>>26-Er&67108863,Er+=24,Er>=26&&(Er-=26,qr++);else if(Oe==="le")for(fr=0,qr=0;fr<C.length;fr+=3)Hr=C[fr]|C[fr+1]<<8|C[fr+2]<<16,this.words[qr]|=Hr<<Er&67108863,this.words[qr+1]=Hr>>>26-Er&67108863,Er+=24,Er>=26&&(Er-=26,qr++);return this._strip()};function ye(Ie,C){var be=Ie.charCodeAt(C);if(be>=48&&be<=57)return be-48;if(be>=65&&be<=70)return be-55;if(be>=97&&be<=102)return be-87;s(!1,"Invalid character in "+Ie)}function Ee(Ie,C,be){var Oe=ye(Ie,be);return be-1>=C&&(Oe|=ye(Ie,be-1)<<4),Oe}o.prototype._parseHex=function(C,be,Oe){this.length=Math.ceil((C.length-be)/6),this.words=new Array(this.length);for(var fr=0;fr<this.length;fr++)this.words[fr]=0;var qr=0,Hr=0,Er;if(Oe==="be")for(fr=C.length-1;fr>=be;fr-=2)Er=Ee(C,be,fr)<<qr,this.words[Hr]|=Er&67108863,qr>=18?(qr-=18,Hr+=1,this.words[Hr]|=Er>>>26):qr+=8;else{var jr=C.length-be;for(fr=jr%2===0?be+1:be;fr<C.length;fr+=2)Er=Ee(C,be,fr)<<qr,this.words[Hr]|=Er&67108863,qr>=18?(qr-=18,Hr+=1,this.words[Hr]|=Er>>>26):qr+=8}this._strip()};function me(Ie,C,be,Oe){for(var fr=0,qr=0,Hr=Math.min(Ie.length,be),Er=C;Er<Hr;Er++){var jr=Ie.charCodeAt(Er)-48;fr*=Oe,jr>=49?qr=jr-49+10:jr>=17?qr=jr-17+10:qr=jr,s(jr>=0&&qr<Oe,"Invalid character"),fr+=qr}return fr}o.prototype._parseBase=function(C,be,Oe){this.words=[0],this.length=1;for(var fr=0,qr=1;qr<=67108863;qr*=be)fr++;fr--,qr=qr/be|0;for(var Hr=C.length-Oe,Er=Hr%fr,jr=Math.min(Hr,Hr-Er)+Oe,Se=0,Wr=Oe;Wr<jr;Wr+=fr)Se=me(C,Wr,Wr+fr,be),this.imuln(qr),this.words[0]+Se<67108864?this.words[0]+=Se:this._iaddn(Se);if(Er!==0){var bi=1;for(Se=me(C,Wr,C.length,be),Wr=0;Wr<Er;Wr++)bi*=be;this.imuln(bi),this.words[0]+Se<67108864?this.words[0]+=Se:this._iaddn(Se)}this._strip()},o.prototype.copy=function(C){C.words=new Array(this.length);for(var be=0;be<this.length;be++)C.words[be]=this.words[be];C.length=this.length,C.negative=this.negative,C.red=this.red};function fe(Ie,C){Ie.words=C.words,Ie.length=C.length,Ie.negative=C.negative,Ie.red=C.red}if(o.prototype._move=function(C){fe(C,this)},o.prototype.clone=function(){var C=new o(null);return this.copy(C),C},o.prototype._expand=function(C){for(;this.length<C;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=xe}catch{o.prototype.inspect=xe}else o.prototype.inspect=xe;function xe(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var br=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],wr=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],kr=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(C,be){C=C||10,be=be|0||1;var Oe;if(C===16||C==="hex"){Oe="";for(var fr=0,qr=0,Hr=0;Hr<this.length;Hr++){var Er=this.words[Hr],jr=((Er<<fr|qr)&16777215).toString(16);qr=Er>>>24-fr&16777215,fr+=2,fr>=26&&(fr-=26,Hr--),qr!==0||Hr!==this.length-1?Oe=br[6-jr.length]+jr+Oe:Oe=jr+Oe}for(qr!==0&&(Oe=qr.toString(16)+Oe);Oe.length%be!==0;)Oe="0"+Oe;return this.negative!==0&&(Oe="-"+Oe),Oe}if(C===(C|0)&&C>=2&&C<=36){var Se=wr[C],Wr=kr[C];Oe="";var bi=this.clone();for(bi.negative=0;!bi.isZero();){var vi=bi.modrn(Wr).toString(C);bi=bi.idivn(Wr),bi.isZero()?Oe=vi+Oe:Oe=br[Se-vi.length]+vi+Oe}for(this.isZero()&&(Oe="0"+Oe);Oe.length%be!==0;)Oe="0"+Oe;return this.negative!==0&&(Oe="-"+Oe),Oe}s(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var C=this.words[0];return this.length===2?C+=this.words[1]*67108864:this.length===3&&this.words[2]===1?C+=4503599627370496+this.words[1]*67108864:this.length>2&&s(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-C:C},o.prototype.toJSON=function(){return this.toString(16,2)},we&&(o.prototype.toBuffer=function(C,be){return this.toArrayLike(we,C,be)}),o.prototype.toArray=function(C,be){return this.toArrayLike(Array,C,be)};var Vr=function(C,be){return C.allocUnsafe?C.allocUnsafe(be):new C(be)};o.prototype.toArrayLike=function(C,be,Oe){this._strip();var fr=this.byteLength(),qr=Oe||Math.max(1,fr);s(fr<=qr,"byte array longer than desired length"),s(qr>0,"Requested array length <= 0");var Hr=Vr(C,qr),Er=be==="le"?"LE":"BE";return this["_toArrayLike"+Er](Hr,fr),Hr},o.prototype._toArrayLikeLE=function(C,be){for(var Oe=0,fr=0,qr=0,Hr=0;qr<this.length;qr++){var Er=this.words[qr]<<Hr|fr;C[Oe++]=Er&255,Oe<C.length&&(C[Oe++]=Er>>8&255),Oe<C.length&&(C[Oe++]=Er>>16&255),Hr===6?(Oe<C.length&&(C[Oe++]=Er>>24&255),fr=0,Hr=0):(fr=Er>>>24,Hr+=2)}if(Oe<C.length)for(C[Oe++]=fr;Oe<C.length;)C[Oe++]=0},o.prototype._toArrayLikeBE=function(C,be){for(var Oe=C.length-1,fr=0,qr=0,Hr=0;qr<this.length;qr++){var Er=this.words[qr]<<Hr|fr;C[Oe--]=Er&255,Oe>=0&&(C[Oe--]=Er>>8&255),Oe>=0&&(C[Oe--]=Er>>16&255),Hr===6?(Oe>=0&&(C[Oe--]=Er>>24&255),fr=0,Hr=0):(fr=Er>>>24,Hr+=2)}if(Oe>=0)for(C[Oe--]=fr;Oe>=0;)C[Oe--]=0},Math.clz32?o.prototype._countBits=function(C){return 32-Math.clz32(C)}:o.prototype._countBits=function(C){var be=C,Oe=0;return be>=4096&&(Oe+=13,be>>>=13),be>=64&&(Oe+=7,be>>>=7),be>=8&&(Oe+=4,be>>>=4),be>=2&&(Oe+=2,be>>>=2),Oe+be},o.prototype._zeroBits=function(C){if(C===0)return 26;var be=C,Oe=0;return be&8191||(Oe+=13,be>>>=13),be&127||(Oe+=7,be>>>=7),be&15||(Oe+=4,be>>>=4),be&3||(Oe+=2,be>>>=2),be&1||Oe++,Oe},o.prototype.bitLength=function(){var C=this.words[this.length-1],be=this._countBits(C);return(this.length-1)*26+be};function Zr(Ie){for(var C=new Array(Ie.bitLength()),be=0;be<C.length;be++){var Oe=be/26|0,fr=be%26;C[be]=Ie.words[Oe]>>>fr&1}return C}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var C=0,be=0;be<this.length;be++){var Oe=this._zeroBits(this.words[be]);if(C+=Oe,Oe!==26)break}return C},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(C){return this.negative!==0?this.abs().inotn(C).iaddn(1):this.clone()},o.prototype.fromTwos=function(C){return this.testn(C-1)?this.notn(C).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(C){for(;this.length<C.length;)this.words[this.length++]=0;for(var be=0;be<C.length;be++)this.words[be]=this.words[be]|C.words[be];return this._strip()},o.prototype.ior=function(C){return s((this.negative|C.negative)===0),this.iuor(C)},o.prototype.or=function(C){return this.length>C.length?this.clone().ior(C):C.clone().ior(this)},o.prototype.uor=function(C){return this.length>C.length?this.clone().iuor(C):C.clone().iuor(this)},o.prototype.iuand=function(C){var be;this.length>C.length?be=C:be=this;for(var Oe=0;Oe<be.length;Oe++)this.words[Oe]=this.words[Oe]&C.words[Oe];return this.length=be.length,this._strip()},o.prototype.iand=function(C){return s((this.negative|C.negative)===0),this.iuand(C)},o.prototype.and=function(C){return this.length>C.length?this.clone().iand(C):C.clone().iand(this)},o.prototype.uand=function(C){return this.length>C.length?this.clone().iuand(C):C.clone().iuand(this)},o.prototype.iuxor=function(C){var be,Oe;this.length>C.length?(be=this,Oe=C):(be=C,Oe=this);for(var fr=0;fr<Oe.length;fr++)this.words[fr]=be.words[fr]^Oe.words[fr];if(this!==be)for(;fr<be.length;fr++)this.words[fr]=be.words[fr];return this.length=be.length,this._strip()},o.prototype.ixor=function(C){return s((this.negative|C.negative)===0),this.iuxor(C)},o.prototype.xor=function(C){return this.length>C.length?this.clone().ixor(C):C.clone().ixor(this)},o.prototype.uxor=function(C){return this.length>C.length?this.clone().iuxor(C):C.clone().iuxor(this)},o.prototype.inotn=function(C){s(typeof C=="number"&&C>=0);var be=Math.ceil(C/26)|0,Oe=C%26;this._expand(be),Oe>0&&be--;for(var fr=0;fr<be;fr++)this.words[fr]=~this.words[fr]&67108863;return Oe>0&&(this.words[fr]=~this.words[fr]&67108863>>26-Oe),this._strip()},o.prototype.notn=function(C){return this.clone().inotn(C)},o.prototype.setn=function(C,be){s(typeof C=="number"&&C>=0);var Oe=C/26|0,fr=C%26;return this._expand(Oe+1),be?this.words[Oe]=this.words[Oe]|1<<fr:this.words[Oe]=this.words[Oe]&~(1<<fr),this._strip()},o.prototype.iadd=function(C){var be;if(this.negative!==0&&C.negative===0)return this.negative=0,be=this.isub(C),this.negative^=1,this._normSign();if(this.negative===0&&C.negative!==0)return C.negative=0,be=this.isub(C),C.negative=1,be._normSign();var Oe,fr;this.length>C.length?(Oe=this,fr=C):(Oe=C,fr=this);for(var qr=0,Hr=0;Hr<fr.length;Hr++)be=(Oe.words[Hr]|0)+(fr.words[Hr]|0)+qr,this.words[Hr]=be&67108863,qr=be>>>26;for(;qr!==0&&Hr<Oe.length;Hr++)be=(Oe.words[Hr]|0)+qr,this.words[Hr]=be&67108863,qr=be>>>26;if(this.length=Oe.length,qr!==0)this.words[this.length]=qr,this.length++;else if(Oe!==this)for(;Hr<Oe.length;Hr++)this.words[Hr]=Oe.words[Hr];return this},o.prototype.add=function(C){var be;return C.negative!==0&&this.negative===0?(C.negative=0,be=this.sub(C),C.negative^=1,be):C.negative===0&&this.negative!==0?(this.negative=0,be=C.sub(this),this.negative=1,be):this.length>C.length?this.clone().iadd(C):C.clone().iadd(this)},o.prototype.isub=function(C){if(C.negative!==0){C.negative=0;var be=this.iadd(C);return C.negative=1,be._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(C),this.negative=1,this._normSign();var Oe=this.cmp(C);if(Oe===0)return this.negative=0,this.length=1,this.words[0]=0,this;var fr,qr;Oe>0?(fr=this,qr=C):(fr=C,qr=this);for(var Hr=0,Er=0;Er<qr.length;Er++)be=(fr.words[Er]|0)-(qr.words[Er]|0)+Hr,Hr=be>>26,this.words[Er]=be&67108863;for(;Hr!==0&&Er<fr.length;Er++)be=(fr.words[Er]|0)+Hr,Hr=be>>26,this.words[Er]=be&67108863;if(Hr===0&&Er<fr.length&&fr!==this)for(;Er<fr.length;Er++)this.words[Er]=fr.words[Er];return this.length=Math.max(this.length,Er),fr!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(C){return this.clone().isub(C)};function Qr(Ie,C,be){be.negative=C.negative^Ie.negative;var Oe=Ie.length+C.length|0;be.length=Oe,Oe=Oe-1|0;var fr=Ie.words[0]|0,qr=C.words[0]|0,Hr=fr*qr,Er=Hr&67108863,jr=Hr/67108864|0;be.words[0]=Er;for(var Se=1;Se<Oe;Se++){for(var Wr=jr>>>26,bi=jr&67108863,vi=Math.min(Se,C.length-1),Ei=Math.max(0,Se-Ie.length+1);Ei<=vi;Ei++){var ti=Se-Ei|0;fr=Ie.words[ti]|0,qr=C.words[Ei]|0,Hr=fr*qr+bi,Wr+=Hr/67108864|0,bi=Hr&67108863}be.words[Se]=bi|0,jr=Wr|0}return jr!==0?be.words[Se]=jr|0:be.length--,be._strip()}var Yr=function(C,be,Oe){var fr=C.words,qr=be.words,Hr=Oe.words,Er=0,jr,Se,Wr,bi=fr[0]|0,vi=bi&8191,Ei=bi>>>13,ti=fr[1]|0,ri=ti&8191,ci=ti>>>13,Jr=fr[2]|0,li=Jr&8191,yi=Jr>>>13,$i=fr[3]|0,Ni=$i&8191,Bi=$i>>>13,zn=fr[4]|0,zi=zn&8191,Ki=zn>>>13,la=fr[5]|0,Vi=la&8191,Ii=la>>>13,Nn=fr[6]|0,ki=Nn&8191,Ai=Nn>>>13,In=fr[7]|0,wn=In&8191,qi=In>>>13,Yn=fr[8]|0,$n=Yn&8191,Oi=Yn>>>13,fa=fr[9]|0,Pn=fa&8191,Li=fa>>>13,ca=qr[0]|0,Cn=ca&8191,On=ca>>>13,Ua=qr[1]|0,da=Ua&8191,Tn=Ua>>>13,Ha=qr[2]|0,pa=Ha&8191,ea=Ha>>>13,wa=qr[3]|0,ta=wa&8191,En=wa>>>13,_a=qr[4]|0,ra=_a&8191,_n=_a>>>13,Aa=qr[5]|0,oa=Aa&8191,Sn=Aa>>>13,qa=qr[6]|0,na=qa&8191,Rn=qa>>>13,Ma=qr[7]|0,Zn=Ma&8191,An=Ma>>>13,Pa=qr[8]|0,Da=Pa&8191,aa=Pa>>>13,Ja=qr[9]|0,ha=Ja&8191,$a=Ja>>>13;Oe.negative=C.negative^be.negative,Oe.length=19,jr=Math.imul(vi,Cn),Se=Math.imul(vi,On),Se=Se+Math.imul(Ei,Cn)|0,Wr=Math.imul(Ei,On);var Do=(Er+jr|0)+((Se&8191)<<13)|0;Er=(Wr+(Se>>>13)|0)+(Do>>>26)|0,Do&=67108863,jr=Math.imul(ri,Cn),Se=Math.imul(ri,On),Se=Se+Math.imul(ci,Cn)|0,Wr=Math.imul(ci,On),jr=jr+Math.imul(vi,da)|0,Se=Se+Math.imul(vi,Tn)|0,Se=Se+Math.imul(Ei,da)|0,Wr=Wr+Math.imul(Ei,Tn)|0;var Io=(Er+jr|0)+((Se&8191)<<13)|0;Er=(Wr+(Se>>>13)|0)+(Io>>>26)|0,Io&=67108863,jr=Math.imul(li,Cn),Se=Math.imul(li,On),Se=Se+Math.imul(yi,Cn)|0,Wr=Math.imul(yi,On),jr=jr+Math.imul(ri,da)|0,Se=Se+Math.imul(ri,Tn)|0,Se=Se+Math.imul(ci,da)|0,Wr=Wr+Math.imul(ci,Tn)|0,jr=jr+Math.imul(vi,pa)|0,Se=Se+Math.imul(vi,ea)|0,Se=Se+Math.imul(Ei,pa)|0,Wr=Wr+Math.imul(Ei,ea)|0;var Ao=(Er+jr|0)+((Se&8191)<<13)|0;Er=(Wr+(Se>>>13)|0)+(Ao>>>26)|0,Ao&=67108863,jr=Math.imul(Ni,Cn),Se=Math.imul(Ni,On),Se=Se+Math.imul(Bi,Cn)|0,Wr=Math.imul(Bi,On),jr=jr+Math.imul(li,da)|0,Se=Se+Math.imul(li,Tn)|0,Se=Se+Math.imul(yi,da)|0,Wr=Wr+Math.imul(yi,Tn)|0,jr=jr+Math.imul(ri,pa)|0,Se=Se+Math.imul(ri,ea)|0,Se=Se+Math.imul(ci,pa)|0,Wr=Wr+Math.imul(ci,ea)|0,jr=jr+Math.imul(vi,ta)|0,Se=Se+Math.imul(vi,En)|0,Se=Se+Math.imul(Ei,ta)|0,Wr=Wr+Math.imul(Ei,En)|0;var qo=(Er+jr|0)+((Se&8191)<<13)|0;Er=(Wr+(Se>>>13)|0)+(qo>>>26)|0,qo&=67108863,jr=Math.imul(zi,Cn),Se=Math.imul(zi,On),Se=Se+Math.imul(Ki,Cn)|0,Wr=Math.imul(Ki,On),jr=jr+Math.imul(Ni,da)|0,Se=Se+Math.imul(Ni,Tn)|0,Se=Se+Math.imul(Bi,da)|0,Wr=Wr+Math.imul(Bi,Tn)|0,jr=jr+Math.imul(li,pa)|0,Se=Se+Math.imul(li,ea)|0,Se=Se+Math.imul(yi,pa)|0,Wr=Wr+Math.imul(yi,ea)|0,jr=jr+Math.imul(ri,ta)|0,Se=Se+Math.imul(ri,En)|0,Se=Se+Math.imul(ci,ta)|0,Wr=Wr+Math.imul(ci,En)|0,jr=jr+Math.imul(vi,ra)|0,Se=Se+Math.imul(vi,_n)|0,Se=Se+Math.imul(Ei,ra)|0,Wr=Wr+Math.imul(Ei,_n)|0;var co=(Er+jr|0)+((Se&8191)<<13)|0;Er=(Wr+(Se>>>13)|0)+(co>>>26)|0,co&=67108863,jr=Math.imul(Vi,Cn),Se=Math.imul(Vi,On),Se=Se+Math.imul(Ii,Cn)|0,Wr=Math.imul(Ii,On),jr=jr+Math.imul(zi,da)|0,Se=Se+Math.imul(zi,Tn)|0,Se=Se+Math.imul(Ki,da)|0,Wr=Wr+Math.imul(Ki,Tn)|0,jr=jr+Math.imul(Ni,pa)|0,Se=Se+Math.imul(Ni,ea)|0,Se=Se+Math.imul(Bi,pa)|0,Wr=Wr+Math.imul(Bi,ea)|0,jr=jr+Math.imul(li,ta)|0,Se=Se+Math.imul(li,En)|0,Se=Se+Math.imul(yi,ta)|0,Wr=Wr+Math.imul(yi,En)|0,jr=jr+Math.imul(ri,ra)|0,Se=Se+Math.imul(ri,_n)|0,Se=Se+Math.imul(ci,ra)|0,Wr=Wr+Math.imul(ci,_n)|0,jr=jr+Math.imul(vi,oa)|0,Se=Se+Math.imul(vi,Sn)|0,Se=Se+Math.imul(Ei,oa)|0,Wr=Wr+Math.imul(Ei,Sn)|0;var mo=(Er+jr|0)+((Se&8191)<<13)|0;Er=(Wr+(Se>>>13)|0)+(mo>>>26)|0,mo&=67108863,jr=Math.imul(ki,Cn),Se=Math.imul(ki,On),Se=Se+Math.imul(Ai,Cn)|0,Wr=Math.imul(Ai,On),jr=jr+Math.imul(Vi,da)|0,Se=Se+Math.imul(Vi,Tn)|0,Se=Se+Math.imul(Ii,da)|0,Wr=Wr+Math.imul(Ii,Tn)|0,jr=jr+Math.imul(zi,pa)|0,Se=Se+Math.imul(zi,ea)|0,Se=Se+Math.imul(Ki,pa)|0,Wr=Wr+Math.imul(Ki,ea)|0,jr=jr+Math.imul(Ni,ta)|0,Se=Se+Math.imul(Ni,En)|0,Se=Se+Math.imul(Bi,ta)|0,Wr=Wr+Math.imul(Bi,En)|0,jr=jr+Math.imul(li,ra)|0,Se=Se+Math.imul(li,_n)|0,Se=Se+Math.imul(yi,ra)|0,Wr=Wr+Math.imul(yi,_n)|0,jr=jr+Math.imul(ri,oa)|0,Se=Se+Math.imul(ri,Sn)|0,Se=Se+Math.imul(ci,oa)|0,Wr=Wr+Math.imul(ci,Sn)|0,jr=jr+Math.imul(vi,na)|0,Se=Se+Math.imul(vi,Rn)|0,Se=Se+Math.imul(Ei,na)|0,Wr=Wr+Math.imul(Ei,Rn)|0;var Po=(Er+jr|0)+((Se&8191)<<13)|0;Er=(Wr+(Se>>>13)|0)+(Po>>>26)|0,Po&=67108863,jr=Math.imul(wn,Cn),Se=Math.imul(wn,On),Se=Se+Math.imul(qi,Cn)|0,Wr=Math.imul(qi,On),jr=jr+Math.imul(ki,da)|0,Se=Se+Math.imul(ki,Tn)|0,Se=Se+Math.imul(Ai,da)|0,Wr=Wr+Math.imul(Ai,Tn)|0,jr=jr+Math.imul(Vi,pa)|0,Se=Se+Math.imul(Vi,ea)|0,Se=Se+Math.imul(Ii,pa)|0,Wr=Wr+Math.imul(Ii,ea)|0,jr=jr+Math.imul(zi,ta)|0,Se=Se+Math.imul(zi,En)|0,Se=Se+Math.imul(Ki,ta)|0,Wr=Wr+Math.imul(Ki,En)|0,jr=jr+Math.imul(Ni,ra)|0,Se=Se+Math.imul(Ni,_n)|0,Se=Se+Math.imul(Bi,ra)|0,Wr=Wr+Math.imul(Bi,_n)|0,jr=jr+Math.imul(li,oa)|0,Se=Se+Math.imul(li,Sn)|0,Se=Se+Math.imul(yi,oa)|0,Wr=Wr+Math.imul(yi,Sn)|0,jr=jr+Math.imul(ri,na)|0,Se=Se+Math.imul(ri,Rn)|0,Se=Se+Math.imul(ci,na)|0,Wr=Wr+Math.imul(ci,Rn)|0,jr=jr+Math.imul(vi,Zn)|0,Se=Se+Math.imul(vi,An)|0,Se=Se+Math.imul(Ei,Zn)|0,Wr=Wr+Math.imul(Ei,An)|0;var yo=(Er+jr|0)+((Se&8191)<<13)|0;Er=(Wr+(Se>>>13)|0)+(yo>>>26)|0,yo&=67108863,jr=Math.imul($n,Cn),Se=Math.imul($n,On),Se=Se+Math.imul(Oi,Cn)|0,Wr=Math.imul(Oi,On),jr=jr+Math.imul(wn,da)|0,Se=Se+Math.imul(wn,Tn)|0,Se=Se+Math.imul(qi,da)|0,Wr=Wr+Math.imul(qi,Tn)|0,jr=jr+Math.imul(ki,pa)|0,Se=Se+Math.imul(ki,ea)|0,Se=Se+Math.imul(Ai,pa)|0,Wr=Wr+Math.imul(Ai,ea)|0,jr=jr+Math.imul(Vi,ta)|0,Se=Se+Math.imul(Vi,En)|0,Se=Se+Math.imul(Ii,ta)|0,Wr=Wr+Math.imul(Ii,En)|0,jr=jr+Math.imul(zi,ra)|0,Se=Se+Math.imul(zi,_n)|0,Se=Se+Math.imul(Ki,ra)|0,Wr=Wr+Math.imul(Ki,_n)|0,jr=jr+Math.imul(Ni,oa)|0,Se=Se+Math.imul(Ni,Sn)|0,Se=Se+Math.imul(Bi,oa)|0,Wr=Wr+Math.imul(Bi,Sn)|0,jr=jr+Math.imul(li,na)|0,Se=Se+Math.imul(li,Rn)|0,Se=Se+Math.imul(yi,na)|0,Wr=Wr+Math.imul(yi,Rn)|0,jr=jr+Math.imul(ri,Zn)|0,Se=Se+Math.imul(ri,An)|0,Se=Se+Math.imul(ci,Zn)|0,Wr=Wr+Math.imul(ci,An)|0,jr=jr+Math.imul(vi,Da)|0,Se=Se+Math.imul(vi,aa)|0,Se=Se+Math.imul(Ei,Da)|0,Wr=Wr+Math.imul(Ei,aa)|0;var Co=(Er+jr|0)+((Se&8191)<<13)|0;Er=(Wr+(Se>>>13)|0)+(Co>>>26)|0,Co&=67108863,jr=Math.imul(Pn,Cn),Se=Math.imul(Pn,On),Se=Se+Math.imul(Li,Cn)|0,Wr=Math.imul(Li,On),jr=jr+Math.imul($n,da)|0,Se=Se+Math.imul($n,Tn)|0,Se=Se+Math.imul(Oi,da)|0,Wr=Wr+Math.imul(Oi,Tn)|0,jr=jr+Math.imul(wn,pa)|0,Se=Se+Math.imul(wn,ea)|0,Se=Se+Math.imul(qi,pa)|0,Wr=Wr+Math.imul(qi,ea)|0,jr=jr+Math.imul(ki,ta)|0,Se=Se+Math.imul(ki,En)|0,Se=Se+Math.imul(Ai,ta)|0,Wr=Wr+Math.imul(Ai,En)|0,jr=jr+Math.imul(Vi,ra)|0,Se=Se+Math.imul(Vi,_n)|0,Se=Se+Math.imul(Ii,ra)|0,Wr=Wr+Math.imul(Ii,_n)|0,jr=jr+Math.imul(zi,oa)|0,Se=Se+Math.imul(zi,Sn)|0,Se=Se+Math.imul(Ki,oa)|0,Wr=Wr+Math.imul(Ki,Sn)|0,jr=jr+Math.imul(Ni,na)|0,Se=Se+Math.imul(Ni,Rn)|0,Se=Se+Math.imul(Bi,na)|0,Wr=Wr+Math.imul(Bi,Rn)|0,jr=jr+Math.imul(li,Zn)|0,Se=Se+Math.imul(li,An)|0,Se=Se+Math.imul(yi,Zn)|0,Wr=Wr+Math.imul(yi,An)|0,jr=jr+Math.imul(ri,Da)|0,Se=Se+Math.imul(ri,aa)|0,Se=Se+Math.imul(ci,Da)|0,Wr=Wr+Math.imul(ci,aa)|0,jr=jr+Math.imul(vi,ha)|0,Se=Se+Math.imul(vi,$a)|0,Se=Se+Math.imul(Ei,ha)|0,Wr=Wr+Math.imul(Ei,$a)|0;var Bo=(Er+jr|0)+((Se&8191)<<13)|0;Er=(Wr+(Se>>>13)|0)+(Bo>>>26)|0,Bo&=67108863,jr=Math.imul(Pn,da),Se=Math.imul(Pn,Tn),Se=Se+Math.imul(Li,da)|0,Wr=Math.imul(Li,Tn),jr=jr+Math.imul($n,pa)|0,Se=Se+Math.imul($n,ea)|0,Se=Se+Math.imul(Oi,pa)|0,Wr=Wr+Math.imul(Oi,ea)|0,jr=jr+Math.imul(wn,ta)|0,Se=Se+Math.imul(wn,En)|0,Se=Se+Math.imul(qi,ta)|0,Wr=Wr+Math.imul(qi,En)|0,jr=jr+Math.imul(ki,ra)|0,Se=Se+Math.imul(ki,_n)|0,Se=Se+Math.imul(Ai,ra)|0,Wr=Wr+Math.imul(Ai,_n)|0,jr=jr+Math.imul(Vi,oa)|0,Se=Se+Math.imul(Vi,Sn)|0,Se=Se+Math.imul(Ii,oa)|0,Wr=Wr+Math.imul(Ii,Sn)|0,jr=jr+Math.imul(zi,na)|0,Se=Se+Math.imul(zi,Rn)|0,Se=Se+Math.imul(Ki,na)|0,Wr=Wr+Math.imul(Ki,Rn)|0,jr=jr+Math.imul(Ni,Zn)|0,Se=Se+Math.imul(Ni,An)|0,Se=Se+Math.imul(Bi,Zn)|0,Wr=Wr+Math.imul(Bi,An)|0,jr=jr+Math.imul(li,Da)|0,Se=Se+Math.imul(li,aa)|0,Se=Se+Math.imul(yi,Da)|0,Wr=Wr+Math.imul(yi,aa)|0,jr=jr+Math.imul(ri,ha)|0,Se=Se+Math.imul(ri,$a)|0,Se=Se+Math.imul(ci,ha)|0,Wr=Wr+Math.imul(ci,$a)|0;var wo=(Er+jr|0)+((Se&8191)<<13)|0;Er=(Wr+(Se>>>13)|0)+(wo>>>26)|0,wo&=67108863,jr=Math.imul(Pn,pa),Se=Math.imul(Pn,ea),Se=Se+Math.imul(Li,pa)|0,Wr=Math.imul(Li,ea),jr=jr+Math.imul($n,ta)|0,Se=Se+Math.imul($n,En)|0,Se=Se+Math.imul(Oi,ta)|0,Wr=Wr+Math.imul(Oi,En)|0,jr=jr+Math.imul(wn,ra)|0,Se=Se+Math.imul(wn,_n)|0,Se=Se+Math.imul(qi,ra)|0,Wr=Wr+Math.imul(qi,_n)|0,jr=jr+Math.imul(ki,oa)|0,Se=Se+Math.imul(ki,Sn)|0,Se=Se+Math.imul(Ai,oa)|0,Wr=Wr+Math.imul(Ai,Sn)|0,jr=jr+Math.imul(Vi,na)|0,Se=Se+Math.imul(Vi,Rn)|0,Se=Se+Math.imul(Ii,na)|0,Wr=Wr+Math.imul(Ii,Rn)|0,jr=jr+Math.imul(zi,Zn)|0,Se=Se+Math.imul(zi,An)|0,Se=Se+Math.imul(Ki,Zn)|0,Wr=Wr+Math.imul(Ki,An)|0,jr=jr+Math.imul(Ni,Da)|0,Se=Se+Math.imul(Ni,aa)|0,Se=Se+Math.imul(Bi,Da)|0,Wr=Wr+Math.imul(Bi,aa)|0,jr=jr+Math.imul(li,ha)|0,Se=Se+Math.imul(li,$a)|0,Se=Se+Math.imul(yi,ha)|0,Wr=Wr+Math.imul(yi,$a)|0;var So=(Er+jr|0)+((Se&8191)<<13)|0;Er=(Wr+(Se>>>13)|0)+(So>>>26)|0,So&=67108863,jr=Math.imul(Pn,ta),Se=Math.imul(Pn,En),Se=Se+Math.imul(Li,ta)|0,Wr=Math.imul(Li,En),jr=jr+Math.imul($n,ra)|0,Se=Se+Math.imul($n,_n)|0,Se=Se+Math.imul(Oi,ra)|0,Wr=Wr+Math.imul(Oi,_n)|0,jr=jr+Math.imul(wn,oa)|0,Se=Se+Math.imul(wn,Sn)|0,Se=Se+Math.imul(qi,oa)|0,Wr=Wr+Math.imul(qi,Sn)|0,jr=jr+Math.imul(ki,na)|0,Se=Se+Math.imul(ki,Rn)|0,Se=Se+Math.imul(Ai,na)|0,Wr=Wr+Math.imul(Ai,Rn)|0,jr=jr+Math.imul(Vi,Zn)|0,Se=Se+Math.imul(Vi,An)|0,Se=Se+Math.imul(Ii,Zn)|0,Wr=Wr+Math.imul(Ii,An)|0,jr=jr+Math.imul(zi,Da)|0,Se=Se+Math.imul(zi,aa)|0,Se=Se+Math.imul(Ki,Da)|0,Wr=Wr+Math.imul(Ki,aa)|0,jr=jr+Math.imul(Ni,ha)|0,Se=Se+Math.imul(Ni,$a)|0,Se=Se+Math.imul(Bi,ha)|0,Wr=Wr+Math.imul(Bi,$a)|0;var Mo=(Er+jr|0)+((Se&8191)<<13)|0;Er=(Wr+(Se>>>13)|0)+(Mo>>>26)|0,Mo&=67108863,jr=Math.imul(Pn,ra),Se=Math.imul(Pn,_n),Se=Se+Math.imul(Li,ra)|0,Wr=Math.imul(Li,_n),jr=jr+Math.imul($n,oa)|0,Se=Se+Math.imul($n,Sn)|0,Se=Se+Math.imul(Oi,oa)|0,Wr=Wr+Math.imul(Oi,Sn)|0,jr=jr+Math.imul(wn,na)|0,Se=Se+Math.imul(wn,Rn)|0,Se=Se+Math.imul(qi,na)|0,Wr=Wr+Math.imul(qi,Rn)|0,jr=jr+Math.imul(ki,Zn)|0,Se=Se+Math.imul(ki,An)|0,Se=Se+Math.imul(Ai,Zn)|0,Wr=Wr+Math.imul(Ai,An)|0,jr=jr+Math.imul(Vi,Da)|0,Se=Se+Math.imul(Vi,aa)|0,Se=Se+Math.imul(Ii,Da)|0,Wr=Wr+Math.imul(Ii,aa)|0,jr=jr+Math.imul(zi,ha)|0,Se=Se+Math.imul(zi,$a)|0,Se=Se+Math.imul(Ki,ha)|0,Wr=Wr+Math.imul(Ki,$a)|0;var ao=(Er+jr|0)+((Se&8191)<<13)|0;Er=(Wr+(Se>>>13)|0)+(ao>>>26)|0,ao&=67108863,jr=Math.imul(Pn,oa),Se=Math.imul(Pn,Sn),Se=Se+Math.imul(Li,oa)|0,Wr=Math.imul(Li,Sn),jr=jr+Math.imul($n,na)|0,Se=Se+Math.imul($n,Rn)|0,Se=Se+Math.imul(Oi,na)|0,Wr=Wr+Math.imul(Oi,Rn)|0,jr=jr+Math.imul(wn,Zn)|0,Se=Se+Math.imul(wn,An)|0,Se=Se+Math.imul(qi,Zn)|0,Wr=Wr+Math.imul(qi,An)|0,jr=jr+Math.imul(ki,Da)|0,Se=Se+Math.imul(ki,aa)|0,Se=Se+Math.imul(Ai,Da)|0,Wr=Wr+Math.imul(Ai,aa)|0,jr=jr+Math.imul(Vi,ha)|0,Se=Se+Math.imul(Vi,$a)|0,Se=Se+Math.imul(Ii,ha)|0,Wr=Wr+Math.imul(Ii,$a)|0;var Oo=(Er+jr|0)+((Se&8191)<<13)|0;Er=(Wr+(Se>>>13)|0)+(Oo>>>26)|0,Oo&=67108863,jr=Math.imul(Pn,na),Se=Math.imul(Pn,Rn),Se=Se+Math.imul(Li,na)|0,Wr=Math.imul(Li,Rn),jr=jr+Math.imul($n,Zn)|0,Se=Se+Math.imul($n,An)|0,Se=Se+Math.imul(Oi,Zn)|0,Wr=Wr+Math.imul(Oi,An)|0,jr=jr+Math.imul(wn,Da)|0,Se=Se+Math.imul(wn,aa)|0,Se=Se+Math.imul(qi,Da)|0,Wr=Wr+Math.imul(qi,aa)|0,jr=jr+Math.imul(ki,ha)|0,Se=Se+Math.imul(ki,$a)|0,Se=Se+Math.imul(Ai,ha)|0,Wr=Wr+Math.imul(Ai,$a)|0;var To=(Er+jr|0)+((Se&8191)<<13)|0;Er=(Wr+(Se>>>13)|0)+(To>>>26)|0,To&=67108863,jr=Math.imul(Pn,Zn),Se=Math.imul(Pn,An),Se=Se+Math.imul(Li,Zn)|0,Wr=Math.imul(Li,An),jr=jr+Math.imul($n,Da)|0,Se=Se+Math.imul($n,aa)|0,Se=Se+Math.imul(Oi,Da)|0,Wr=Wr+Math.imul(Oi,aa)|0,jr=jr+Math.imul(wn,ha)|0,Se=Se+Math.imul(wn,$a)|0,Se=Se+Math.imul(qi,ha)|0,Wr=Wr+Math.imul(qi,$a)|0;var No=(Er+jr|0)+((Se&8191)<<13)|0;Er=(Wr+(Se>>>13)|0)+(No>>>26)|0,No&=67108863,jr=Math.imul(Pn,Da),Se=Math.imul(Pn,aa),Se=Se+Math.imul(Li,Da)|0,Wr=Math.imul(Li,aa),jr=jr+Math.imul($n,ha)|0,Se=Se+Math.imul($n,$a)|0,Se=Se+Math.imul(Oi,ha)|0,Wr=Wr+Math.imul(Oi,$a)|0;var cf=(Er+jr|0)+((Se&8191)<<13)|0;Er=(Wr+(Se>>>13)|0)+(cf>>>26)|0,cf&=67108863,jr=Math.imul(Pn,ha),Se=Math.imul(Pn,$a),Se=Se+Math.imul(Li,ha)|0,Wr=Math.imul(Li,$a);var Qo=(Er+jr|0)+((Se&8191)<<13)|0;return Er=(Wr+(Se>>>13)|0)+(Qo>>>26)|0,Qo&=67108863,Hr[0]=Do,Hr[1]=Io,Hr[2]=Ao,Hr[3]=qo,Hr[4]=co,Hr[5]=mo,Hr[6]=Po,Hr[7]=yo,Hr[8]=Co,Hr[9]=Bo,Hr[10]=wo,Hr[11]=So,Hr[12]=Mo,Hr[13]=ao,Hr[14]=Oo,Hr[15]=To,Hr[16]=No,Hr[17]=cf,Hr[18]=Qo,Er!==0&&(Hr[19]=Er,Oe.length++),Oe};Math.imul||(Yr=Qr);function ii(Ie,C,be){be.negative=C.negative^Ie.negative,be.length=Ie.length+C.length;for(var Oe=0,fr=0,qr=0;qr<be.length-1;qr++){var Hr=fr;fr=0;for(var Er=Oe&67108863,jr=Math.min(qr,C.length-1),Se=Math.max(0,qr-Ie.length+1);Se<=jr;Se++){var Wr=qr-Se,bi=Ie.words[Wr]|0,vi=C.words[Se]|0,Ei=bi*vi,ti=Ei&67108863;Hr=Hr+(Ei/67108864|0)|0,ti=ti+Er|0,Er=ti&67108863,Hr=Hr+(ti>>>26)|0,fr+=Hr>>>26,Hr&=67108863}be.words[qr]=Er,Oe=Hr,Hr=fr}return Oe!==0?be.words[qr]=Oe:be.length--,be._strip()}function ei(Ie,C,be){return ii(Ie,C,be)}o.prototype.mulTo=function(C,be){var Oe,fr=this.length+C.length;return this.length===10&&C.length===10?Oe=Yr(this,C,be):fr<63?Oe=Qr(this,C,be):fr<1024?Oe=ii(this,C,be):Oe=ei(this,C,be),Oe},o.prototype.mul=function(C){var be=new o(null);return be.words=new Array(this.length+C.length),this.mulTo(C,be)},o.prototype.mulf=function(C){var be=new o(null);return be.words=new Array(this.length+C.length),ei(this,C,be)},o.prototype.imul=function(C){return this.clone().mulTo(C,this)},o.prototype.imuln=function(C){var be=C<0;be&&(C=-C),s(typeof C=="number"),s(C<67108864);for(var Oe=0,fr=0;fr<this.length;fr++){var qr=(this.words[fr]|0)*C,Hr=(qr&67108863)+(Oe&67108863);Oe>>=26,Oe+=qr/67108864|0,Oe+=Hr>>>26,this.words[fr]=Hr&67108863}return Oe!==0&&(this.words[fr]=Oe,this.length++),be?this.ineg():this},o.prototype.muln=function(C){return this.clone().imuln(C)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(C){var be=Zr(C);if(be.length===0)return new o(1);for(var Oe=this,fr=0;fr<be.length&&be[fr]===0;fr++,Oe=Oe.sqr());if(++fr<be.length)for(var qr=Oe.sqr();fr<be.length;fr++,qr=qr.sqr())be[fr]!==0&&(Oe=Oe.mul(qr));return Oe},o.prototype.iushln=function(C){s(typeof C=="number"&&C>=0);var be=C%26,Oe=(C-be)/26,fr=67108863>>>26-be<<26-be,qr;if(be!==0){var Hr=0;for(qr=0;qr<this.length;qr++){var Er=this.words[qr]&fr,jr=(this.words[qr]|0)-Er<<be;this.words[qr]=jr|Hr,Hr=Er>>>26-be}Hr&&(this.words[qr]=Hr,this.length++)}if(Oe!==0){for(qr=this.length-1;qr>=0;qr--)this.words[qr+Oe]=this.words[qr];for(qr=0;qr<Oe;qr++)this.words[qr]=0;this.length+=Oe}return this._strip()},o.prototype.ishln=function(C){return s(this.negative===0),this.iushln(C)},o.prototype.iushrn=function(C,be,Oe){s(typeof C=="number"&&C>=0);var fr;be?fr=(be-be%26)/26:fr=0;var qr=C%26,Hr=Math.min((C-qr)/26,this.length),Er=67108863^67108863>>>qr<<qr,jr=Oe;if(fr-=Hr,fr=Math.max(0,fr),jr){for(var Se=0;Se<Hr;Se++)jr.words[Se]=this.words[Se];jr.length=Hr}if(Hr!==0)if(this.length>Hr)for(this.length-=Hr,Se=0;Se<this.length;Se++)this.words[Se]=this.words[Se+Hr];else this.words[0]=0,this.length=1;var Wr=0;for(Se=this.length-1;Se>=0&&(Wr!==0||Se>=fr);Se--){var bi=this.words[Se]|0;this.words[Se]=Wr<<26-qr|bi>>>qr,Wr=bi&Er}return jr&&Wr!==0&&(jr.words[jr.length++]=Wr),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(C,be,Oe){return s(this.negative===0),this.iushrn(C,be,Oe)},o.prototype.shln=function(C){return this.clone().ishln(C)},o.prototype.ushln=function(C){return this.clone().iushln(C)},o.prototype.shrn=function(C){return this.clone().ishrn(C)},o.prototype.ushrn=function(C){return this.clone().iushrn(C)},o.prototype.testn=function(C){s(typeof C=="number"&&C>=0);var be=C%26,Oe=(C-be)/26,fr=1<<be;if(this.length<=Oe)return!1;var qr=this.words[Oe];return!!(qr&fr)},o.prototype.imaskn=function(C){s(typeof C=="number"&&C>=0);var be=C%26,Oe=(C-be)/26;if(s(this.negative===0,"imaskn works only with positive numbers"),this.length<=Oe)return this;if(be!==0&&Oe++,this.length=Math.min(Oe,this.length),be!==0){var fr=67108863^67108863>>>be<<be;this.words[this.length-1]&=fr}return this._strip()},o.prototype.maskn=function(C){return this.clone().imaskn(C)},o.prototype.iaddn=function(C){return s(typeof C=="number"),s(C<67108864),C<0?this.isubn(-C):this.negative!==0?this.length===1&&(this.words[0]|0)<=C?(this.words[0]=C-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(C),this.negative=1,this):this._iaddn(C)},o.prototype._iaddn=function(C){this.words[0]+=C;for(var be=0;be<this.length&&this.words[be]>=67108864;be++)this.words[be]-=67108864,be===this.length-1?this.words[be+1]=1:this.words[be+1]++;return this.length=Math.max(this.length,be+1),this},o.prototype.isubn=function(C){if(s(typeof C=="number"),s(C<67108864),C<0)return this.iaddn(-C);if(this.negative!==0)return this.negative=0,this.iaddn(C),this.negative=1,this;if(this.words[0]-=C,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var be=0;be<this.length&&this.words[be]<0;be++)this.words[be]+=67108864,this.words[be+1]-=1;return this._strip()},o.prototype.addn=function(C){return this.clone().iaddn(C)},o.prototype.subn=function(C){return this.clone().isubn(C)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(C,be,Oe){var fr=C.length+Oe,qr;this._expand(fr);var Hr,Er=0;for(qr=0;qr<C.length;qr++){Hr=(this.words[qr+Oe]|0)+Er;var jr=(C.words[qr]|0)*be;Hr-=jr&67108863,Er=(Hr>>26)-(jr/67108864|0),this.words[qr+Oe]=Hr&67108863}for(;qr<this.length-Oe;qr++)Hr=(this.words[qr+Oe]|0)+Er,Er=Hr>>26,this.words[qr+Oe]=Hr&67108863;if(Er===0)return this._strip();for(s(Er===-1),Er=0,qr=0;qr<this.length;qr++)Hr=-(this.words[qr]|0)+Er,Er=Hr>>26,this.words[qr]=Hr&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(C,be){var Oe=this.length-C.length,fr=this.clone(),qr=C,Hr=qr.words[qr.length-1]|0,Er=this._countBits(Hr);Oe=26-Er,Oe!==0&&(qr=qr.ushln(Oe),fr.iushln(Oe),Hr=qr.words[qr.length-1]|0);var jr=fr.length-qr.length,Se;if(be!=="mod"){Se=new o(null),Se.length=jr+1,Se.words=new Array(Se.length);for(var Wr=0;Wr<Se.length;Wr++)Se.words[Wr]=0}var bi=fr.clone()._ishlnsubmul(qr,1,jr);bi.negative===0&&(fr=bi,Se&&(Se.words[jr]=1));for(var vi=jr-1;vi>=0;vi--){var Ei=(fr.words[qr.length+vi]|0)*67108864+(fr.words[qr.length+vi-1]|0);for(Ei=Math.min(Ei/Hr|0,67108863),fr._ishlnsubmul(qr,Ei,vi);fr.negative!==0;)Ei--,fr.negative=0,fr._ishlnsubmul(qr,1,vi),fr.isZero()||(fr.negative^=1);Se&&(Se.words[vi]=Ei)}return Se&&Se._strip(),fr._strip(),be!=="div"&&Oe!==0&&fr.iushrn(Oe),{div:Se||null,mod:fr}},o.prototype.divmod=function(C,be,Oe){if(s(!C.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var fr,qr,Hr;return this.negative!==0&&C.negative===0?(Hr=this.neg().divmod(C,be),be!=="mod"&&(fr=Hr.div.neg()),be!=="div"&&(qr=Hr.mod.neg(),Oe&&qr.negative!==0&&qr.iadd(C)),{div:fr,mod:qr}):this.negative===0&&C.negative!==0?(Hr=this.divmod(C.neg(),be),be!=="mod"&&(fr=Hr.div.neg()),{div:fr,mod:Hr.mod}):this.negative&C.negative?(Hr=this.neg().divmod(C.neg(),be),be!=="div"&&(qr=Hr.mod.neg(),Oe&&qr.negative!==0&&qr.isub(C)),{div:Hr.div,mod:qr}):C.length>this.length||this.cmp(C)<0?{div:new o(0),mod:this}:C.length===1?be==="div"?{div:this.divn(C.words[0]),mod:null}:be==="mod"?{div:null,mod:new o(this.modrn(C.words[0]))}:{div:this.divn(C.words[0]),mod:new o(this.modrn(C.words[0]))}:this._wordDiv(C,be)},o.prototype.div=function(C){return this.divmod(C,"div",!1).div},o.prototype.mod=function(C){return this.divmod(C,"mod",!1).mod},o.prototype.umod=function(C){return this.divmod(C,"mod",!0).mod},o.prototype.divRound=function(C){var be=this.divmod(C);if(be.mod.isZero())return be.div;var Oe=be.div.negative!==0?be.mod.isub(C):be.mod,fr=C.ushrn(1),qr=C.andln(1),Hr=Oe.cmp(fr);return Hr<0||qr===1&&Hr===0?be.div:be.div.negative!==0?be.div.isubn(1):be.div.iaddn(1)},o.prototype.modrn=function(C){var be=C<0;be&&(C=-C),s(C<=67108863);for(var Oe=(1<<26)%C,fr=0,qr=this.length-1;qr>=0;qr--)fr=(Oe*fr+(this.words[qr]|0))%C;return be?-fr:fr},o.prototype.modn=function(C){return this.modrn(C)},o.prototype.idivn=function(C){var be=C<0;be&&(C=-C),s(C<=67108863);for(var Oe=0,fr=this.length-1;fr>=0;fr--){var qr=(this.words[fr]|0)+Oe*67108864;this.words[fr]=qr/C|0,Oe=qr%C}return this._strip(),be?this.ineg():this},o.prototype.divn=function(C){return this.clone().idivn(C)},o.prototype.egcd=function(C){s(C.negative===0),s(!C.isZero());var be=this,Oe=C.clone();be.negative!==0?be=be.umod(C):be=be.clone();for(var fr=new o(1),qr=new o(0),Hr=new o(0),Er=new o(1),jr=0;be.isEven()&&Oe.isEven();)be.iushrn(1),Oe.iushrn(1),++jr;for(var Se=Oe.clone(),Wr=be.clone();!be.isZero();){for(var bi=0,vi=1;!(be.words[0]&vi)&&bi<26;++bi,vi<<=1);if(bi>0)for(be.iushrn(bi);bi-- >0;)(fr.isOdd()||qr.isOdd())&&(fr.iadd(Se),qr.isub(Wr)),fr.iushrn(1),qr.iushrn(1);for(var Ei=0,ti=1;!(Oe.words[0]&ti)&&Ei<26;++Ei,ti<<=1);if(Ei>0)for(Oe.iushrn(Ei);Ei-- >0;)(Hr.isOdd()||Er.isOdd())&&(Hr.iadd(Se),Er.isub(Wr)),Hr.iushrn(1),Er.iushrn(1);be.cmp(Oe)>=0?(be.isub(Oe),fr.isub(Hr),qr.isub(Er)):(Oe.isub(be),Hr.isub(fr),Er.isub(qr))}return{a:Hr,b:Er,gcd:Oe.iushln(jr)}},o.prototype._invmp=function(C){s(C.negative===0),s(!C.isZero());var be=this,Oe=C.clone();be.negative!==0?be=be.umod(C):be=be.clone();for(var fr=new o(1),qr=new o(0),Hr=Oe.clone();be.cmpn(1)>0&&Oe.cmpn(1)>0;){for(var Er=0,jr=1;!(be.words[0]&jr)&&Er<26;++Er,jr<<=1);if(Er>0)for(be.iushrn(Er);Er-- >0;)fr.isOdd()&&fr.iadd(Hr),fr.iushrn(1);for(var Se=0,Wr=1;!(Oe.words[0]&Wr)&&Se<26;++Se,Wr<<=1);if(Se>0)for(Oe.iushrn(Se);Se-- >0;)qr.isOdd()&&qr.iadd(Hr),qr.iushrn(1);be.cmp(Oe)>=0?(be.isub(Oe),fr.isub(qr)):(Oe.isub(be),qr.isub(fr))}var bi;return be.cmpn(1)===0?bi=fr:bi=qr,bi.cmpn(0)<0&&bi.iadd(C),bi},o.prototype.gcd=function(C){if(this.isZero())return C.abs();if(C.isZero())return this.abs();var be=this.clone(),Oe=C.clone();be.negative=0,Oe.negative=0;for(var fr=0;be.isEven()&&Oe.isEven();fr++)be.iushrn(1),Oe.iushrn(1);do{for(;be.isEven();)be.iushrn(1);for(;Oe.isEven();)Oe.iushrn(1);var qr=be.cmp(Oe);if(qr<0){var Hr=be;be=Oe,Oe=Hr}else if(qr===0||Oe.cmpn(1)===0)break;be.isub(Oe)}while(!0);return Oe.iushln(fr)},o.prototype.invm=function(C){return this.egcd(C).a.umod(C)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(C){return this.words[0]&C},o.prototype.bincn=function(C){s(typeof C=="number");var be=C%26,Oe=(C-be)/26,fr=1<<be;if(this.length<=Oe)return this._expand(Oe+1),this.words[Oe]|=fr,this;for(var qr=fr,Hr=Oe;qr!==0&&Hr<this.length;Hr++){var Er=this.words[Hr]|0;Er+=qr,qr=Er>>>26,Er&=67108863,this.words[Hr]=Er}return qr!==0&&(this.words[Hr]=qr,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(C){var be=C<0;if(this.negative!==0&&!be)return-1;if(this.negative===0&&be)return 1;this._strip();var Oe;if(this.length>1)Oe=1;else{be&&(C=-C),s(C<=67108863,"Number is too big");var fr=this.words[0]|0;Oe=fr===C?0:fr<C?-1:1}return this.negative!==0?-Oe|0:Oe},o.prototype.cmp=function(C){if(this.negative!==0&&C.negative===0)return-1;if(this.negative===0&&C.negative!==0)return 1;var be=this.ucmp(C);return this.negative!==0?-be|0:be},o.prototype.ucmp=function(C){if(this.length>C.length)return 1;if(this.length<C.length)return-1;for(var be=0,Oe=this.length-1;Oe>=0;Oe--){var fr=this.words[Oe]|0,qr=C.words[Oe]|0;if(fr!==qr){fr<qr?be=-1:fr>qr&&(be=1);break}}return be},o.prototype.gtn=function(C){return this.cmpn(C)===1},o.prototype.gt=function(C){return this.cmp(C)===1},o.prototype.gten=function(C){return this.cmpn(C)>=0},o.prototype.gte=function(C){return this.cmp(C)>=0},o.prototype.ltn=function(C){return this.cmpn(C)===-1},o.prototype.lt=function(C){return this.cmp(C)===-1},o.prototype.lten=function(C){return this.cmpn(C)<=0},o.prototype.lte=function(C){return this.cmp(C)<=0},o.prototype.eqn=function(C){return this.cmpn(C)===0},o.prototype.eq=function(C){return this.cmp(C)===0},o.red=function(C){return new oi(C)},o.prototype.toRed=function(C){return s(!this.red,"Already a number in reduction context"),s(this.negative===0,"red works only with positives"),C.convertTo(this)._forceRed(C)},o.prototype.fromRed=function(){return s(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(C){return this.red=C,this},o.prototype.forceRed=function(C){return s(!this.red,"Already a number in reduction context"),this._forceRed(C)},o.prototype.redAdd=function(C){return s(this.red,"redAdd works only with red numbers"),this.red.add(this,C)},o.prototype.redIAdd=function(C){return s(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,C)},o.prototype.redSub=function(C){return s(this.red,"redSub works only with red numbers"),this.red.sub(this,C)},o.prototype.redISub=function(C){return s(this.red,"redISub works only with red numbers"),this.red.isub(this,C)},o.prototype.redShl=function(C){return s(this.red,"redShl works only with red numbers"),this.red.shl(this,C)},o.prototype.redMul=function(C){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,C),this.red.mul(this,C)},o.prototype.redIMul=function(C){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,C),this.red.imul(this,C)},o.prototype.redSqr=function(){return s(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return s(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return s(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return s(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return s(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(C){return s(this.red&&!C.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,C)};var si={k256:null,p224:null,p192:null,p25519:null};function ai(Ie,C){this.name=Ie,this.p=new o(C,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}ai.prototype._tmp=function(){var C=new o(null);return C.words=new Array(Math.ceil(this.n/13)),C},ai.prototype.ireduce=function(C){var be=C,Oe;do this.split(be,this.tmp),be=this.imulK(be),be=be.iadd(this.tmp),Oe=be.bitLength();while(Oe>this.n);var fr=Oe<this.n?-1:be.ucmp(this.p);return fr===0?(be.words[0]=0,be.length=1):fr>0?be.isub(this.p):be.strip!==void 0?be.strip():be._strip(),be},ai.prototype.split=function(C,be){C.iushrn(this.n,0,be)},ai.prototype.imulK=function(C){return C.imul(this.k)};function Gr(){ai.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}ne(Gr,ai),Gr.prototype.split=function(C,be){for(var Oe=4194303,fr=Math.min(C.length,9),qr=0;qr<fr;qr++)be.words[qr]=C.words[qr];if(be.length=fr,C.length<=9){C.words[0]=0,C.length=1;return}var Hr=C.words[9];for(be.words[be.length++]=Hr&Oe,qr=10;qr<C.length;qr++){var Er=C.words[qr]|0;C.words[qr-10]=(Er&Oe)<<4|Hr>>>22,Hr=Er}Hr>>>=22,C.words[qr-10]=Hr,Hr===0&&C.length>10?C.length-=10:C.length-=9},Gr.prototype.imulK=function(C){C.words[C.length]=0,C.words[C.length+1]=0,C.length+=2;for(var be=0,Oe=0;Oe<C.length;Oe++){var fr=C.words[Oe]|0;be+=fr*977,C.words[Oe]=be&67108863,be=fr*64+(be/67108864|0)}return C.words[C.length-1]===0&&(C.length--,C.words[C.length-1]===0&&C.length--),C};function fi(){ai.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}ne(fi,ai);function gi(){ai.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}ne(gi,ai);function Si(){ai.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}ne(Si,ai),Si.prototype.imulK=function(C){for(var be=0,Oe=0;Oe<C.length;Oe++){var fr=(C.words[Oe]|0)*19+be,qr=fr&67108863;fr>>>=26,C.words[Oe]=qr,be=fr}return be!==0&&(C.words[C.length++]=be),C},o._prime=function(C){if(si[C])return si[C];var be;if(C==="k256")be=new Gr;else if(C==="p224")be=new fi;else if(C==="p192")be=new gi;else if(C==="p25519")be=new Si;else throw new Error("Unknown prime "+C);return si[C]=be,be};function oi(Ie){if(typeof Ie=="string"){var C=o._prime(Ie);this.m=C.p,this.prime=C}else s(Ie.gtn(1),"modulus must be greater than 1"),this.m=Ie,this.prime=null}oi.prototype._verify1=function(C){s(C.negative===0,"red works only with positives"),s(C.red,"red works only with red numbers")},oi.prototype._verify2=function(C,be){s((C.negative|be.negative)===0,"red works only with positives"),s(C.red&&C.red===be.red,"red works only with red numbers")},oi.prototype.imod=function(C){return this.prime?this.prime.ireduce(C)._forceRed(this):(fe(C,C.umod(this.m)._forceRed(this)),C)},oi.prototype.neg=function(C){return C.isZero()?C.clone():this.m.sub(C)._forceRed(this)},oi.prototype.add=function(C,be){this._verify2(C,be);var Oe=C.add(be);return Oe.cmp(this.m)>=0&&Oe.isub(this.m),Oe._forceRed(this)},oi.prototype.iadd=function(C,be){this._verify2(C,be);var Oe=C.iadd(be);return Oe.cmp(this.m)>=0&&Oe.isub(this.m),Oe},oi.prototype.sub=function(C,be){this._verify2(C,be);var Oe=C.sub(be);return Oe.cmpn(0)<0&&Oe.iadd(this.m),Oe._forceRed(this)},oi.prototype.isub=function(C,be){this._verify2(C,be);var Oe=C.isub(be);return Oe.cmpn(0)<0&&Oe.iadd(this.m),Oe},oi.prototype.shl=function(C,be){return this._verify1(C),this.imod(C.ushln(be))},oi.prototype.imul=function(C,be){return this._verify2(C,be),this.imod(C.imul(be))},oi.prototype.mul=function(C,be){return this._verify2(C,be),this.imod(C.mul(be))},oi.prototype.isqr=function(C){return this.imul(C,C.clone())},oi.prototype.sqr=function(C){return this.mul(C,C)},oi.prototype.sqrt=function(C){if(C.isZero())return C.clone();var be=this.m.andln(3);if(s(be%2===1),be===3){var Oe=this.m.add(new o(1)).iushrn(2);return this.pow(C,Oe)}for(var fr=this.m.subn(1),qr=0;!fr.isZero()&&fr.andln(1)===0;)qr++,fr.iushrn(1);s(!fr.isZero());var Hr=new o(1).toRed(this),Er=Hr.redNeg(),jr=this.m.subn(1).iushrn(1),Se=this.m.bitLength();for(Se=new o(2*Se*Se).toRed(this);this.pow(Se,jr).cmp(Er)!==0;)Se.redIAdd(Er);for(var Wr=this.pow(Se,fr),bi=this.pow(C,fr.addn(1).iushrn(1)),vi=this.pow(C,fr),Ei=qr;vi.cmp(Hr)!==0;){for(var ti=vi,ri=0;ti.cmp(Hr)!==0;ri++)ti=ti.redSqr();s(ri<Ei);var ci=this.pow(Wr,new o(1).iushln(Ei-ri-1));bi=bi.redMul(ci),Wr=ci.redSqr(),vi=vi.redMul(Wr),Ei=ri}return bi},oi.prototype.invm=function(C){var be=C._invmp(this.m);return be.negative!==0?(be.negative=0,this.imod(be).redNeg()):this.imod(be)},oi.prototype.pow=function(C,be){if(be.isZero())return new o(1).toRed(this);if(be.cmpn(1)===0)return C.clone();var Oe=4,fr=new Array(1<<Oe);fr[0]=new o(1).toRed(this),fr[1]=C;for(var qr=2;qr<fr.length;qr++)fr[qr]=this.mul(fr[qr-1],C);var Hr=fr[0],Er=0,jr=0,Se=be.bitLength()%26;for(Se===0&&(Se=26),qr=be.length-1;qr>=0;qr--){for(var Wr=be.words[qr],bi=Se-1;bi>=0;bi--){var vi=Wr>>bi&1;if(Hr!==fr[0]&&(Hr=this.sqr(Hr)),vi===0&&Er===0){jr=0;continue}Er<<=1,Er|=vi,jr++,!(jr!==Oe&&(qr!==0||bi!==0))&&(Hr=this.mul(Hr,fr[Er]),jr=0,Er=0)}Se=26}return Hr},oi.prototype.convertTo=function(C){var be=C.umod(this.m);return be===C?be.clone():be},oi.prototype.convertFrom=function(C){var be=C.clone();return be.red=null,be},o.mont=function(C){return new Kr(C)};function Kr(Ie){oi.call(this,Ie),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ne(Kr,oi),Kr.prototype.convertTo=function(C){return this.imod(C.ushln(this.shift))},Kr.prototype.convertFrom=function(C){var be=this.imod(C.mul(this.rinv));return be.red=null,be},Kr.prototype.imul=function(C,be){if(C.isZero()||be.isZero())return C.words[0]=0,C.length=1,C;var Oe=C.imul(be),fr=Oe.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),qr=Oe.isub(fr).iushrn(this.shift),Hr=qr;return qr.cmp(this.m)>=0?Hr=qr.isub(this.m):qr.cmpn(0)<0&&(Hr=qr.iadd(this.m)),Hr._forceRed(this)},Kr.prototype.mul=function(C,be){if(C.isZero()||be.isZero())return new o(0)._forceRed(this);var Oe=C.mul(be),fr=Oe.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),qr=Oe.isub(fr).iushrn(this.shift),Hr=qr;return qr.cmp(this.m)>=0?Hr=qr.isub(this.m):qr.cmpn(0)<0&&(Hr=qr.iadd(this.m)),Hr._forceRed(this)},Kr.prototype.invm=function(C){var be=this.imod(C._invmp(this.m).mul(this.r2));return be._forceRed(this)}})(r,commonjsGlobal)}(bn$1)),bn$1.exports}var browserifyRsa,hasRequiredBrowserifyRsa;function requireBrowserifyRsa(){if(hasRequiredBrowserifyRsa)return browserifyRsa;hasRequiredBrowserifyRsa=1;var r=requireBn$1(),e=requireBrowser$a();function t(o){var we=s(o),ye=we.toRed(r.mont(o.modulus)).redPow(new r(o.publicExponent)).fromRed();return{blinder:ye,unblinder:we.invm(o.modulus)}}function s(o){var we=o.modulus.byteLength(),ye;do ye=new r(e(we));while(ye.cmp(o.modulus)>=0||!ye.umod(o.prime1)||!ye.umod(o.prime2));return ye}function ne(o,we){var ye=t(we),Ee=we.modulus.byteLength(),me=new r(o).mul(ye.blinder).umod(we.modulus),fe=me.toRed(r.mont(we.prime1)),xe=me.toRed(r.mont(we.prime2)),br=we.coefficient,wr=we.prime1,kr=we.prime2,Vr=fe.redPow(we.exponent1).fromRed(),Zr=xe.redPow(we.exponent2).fromRed(),Qr=Vr.isub(Zr).imul(br).umod(wr).imul(kr);return Zr.iadd(Qr).imul(ye.unblinder).umod(we.modulus).toArrayLike(Buffer,"be",Ee)}return ne.getr=s,browserifyRsa=ne,browserifyRsa}var elliptic={};const name="elliptic",version="6.5.5",description="EC cryptography",main="lib/elliptic.js",files=["lib"],scripts={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository={type:"git",url:"git@github.com:indutny/elliptic"},keywords=["EC","Elliptic","curve","Cryptography"],author="Fedor Indutny <fedor@indutny.com>",license="MIT",bugs={url:"https://github.com/indutny/elliptic/issues"},homepage="https://github.com/indutny/elliptic",devDependencies={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},require$$0$5={name,version,description,main,files,scripts,repository,keywords,author,license,bugs,homepage,devDependencies,dependencies};var utils$3={},utils$2={},hasRequiredUtils$3;function requireUtils$3(){return hasRequiredUtils$3||(hasRequiredUtils$3=1,function(r){var e=r;function t(o,we){if(Array.isArray(o))return o.slice();if(!o)return[];var ye=[];if(typeof o!="string"){for(var Ee=0;Ee<o.length;Ee++)ye[Ee]=o[Ee]|0;return ye}if(we==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var Ee=0;Ee<o.length;Ee+=2)ye.push(parseInt(o[Ee]+o[Ee+1],16))}else for(var Ee=0;Ee<o.length;Ee++){var me=o.charCodeAt(Ee),fe=me>>8,xe=me&255;fe?ye.push(fe,xe):ye.push(xe)}return ye}e.toArray=t;function s(o){return o.length===1?"0"+o:o}e.zero2=s;function ne(o){for(var we="",ye=0;ye<o.length;ye++)we+=s(o[ye].toString(16));return we}e.toHex=ne,e.encode=function(we,ye){return ye==="hex"?ne(we):we}}(utils$2)),utils$2}var hasRequiredUtils$2;function requireUtils$2(){return hasRequiredUtils$2||(hasRequiredUtils$2=1,function(r){var e=r,t=requireBn$2(),s=requireMinimalisticAssert(),ne=requireUtils$3();e.assert=s,e.toArray=ne.toArray,e.zero2=ne.zero2,e.toHex=ne.toHex,e.encode=ne.encode;function o(fe,xe,br){var wr=new Array(Math.max(fe.bitLength(),br)+1),kr;for(kr=0;kr<wr.length;kr+=1)wr[kr]=0;var Vr=1<<xe+1,Zr=fe.clone();for(kr=0;kr<wr.length;kr++){var Qr,Yr=Zr.andln(Vr-1);Zr.isOdd()?(Yr>(Vr>>1)-1?Qr=(Vr>>1)-Yr:Qr=Yr,Zr.isubn(Qr)):Qr=0,wr[kr]=Qr,Zr.iushrn(1)}return wr}e.getNAF=o;function we(fe,xe){var br=[[],[]];fe=fe.clone(),xe=xe.clone();for(var wr=0,kr=0,Vr;fe.cmpn(-wr)>0||xe.cmpn(-kr)>0;){var Zr=fe.andln(3)+wr&3,Qr=xe.andln(3)+kr&3;Zr===3&&(Zr=-1),Qr===3&&(Qr=-1);var Yr;Zr&1?(Vr=fe.andln(7)+wr&7,(Vr===3||Vr===5)&&Qr===2?Yr=-Zr:Yr=Zr):Yr=0,br[0].push(Yr);var ii;Qr&1?(Vr=xe.andln(7)+kr&7,(Vr===3||Vr===5)&&Zr===2?ii=-Qr:ii=Qr):ii=0,br[1].push(ii),2*wr===Yr+1&&(wr=1-wr),2*kr===ii+1&&(kr=1-kr),fe.iushrn(1),xe.iushrn(1)}return br}e.getJSF=we;function ye(fe,xe,br){var wr="_"+xe;fe.prototype[xe]=function(){return this[wr]!==void 0?this[wr]:this[wr]=br.call(this)}}e.cachedProperty=ye;function Ee(fe){return typeof fe=="string"?e.toArray(fe,"hex"):fe}e.parseBytes=Ee;function me(fe){return new t(fe,"hex","le")}e.intFromLE=me}(utils$3)),utils$3}var curve={},base$2,hasRequiredBase$1;function requireBase$1(){if(hasRequiredBase$1)return base$2;hasRequiredBase$1=1;var r=requireBn$2(),e=requireUtils$2(),t=e.getNAF,s=e.getJSF,ne=e.assert;function o(ye,Ee){this.type=ye,this.p=new r(Ee.p,16),this.red=Ee.prime?r.red(Ee.prime):r.mont(this.p),this.zero=new r(0).toRed(this.red),this.one=new r(1).toRed(this.red),this.two=new r(2).toRed(this.red),this.n=Ee.n&&new r(Ee.n,16),this.g=Ee.g&&this.pointFromJSON(Ee.g,Ee.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var me=this.n&&this.p.div(this.n);!me||me.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}base$2=o,o.prototype.point=function(){throw new Error("Not implemented")},o.prototype.validate=function(){throw new Error("Not implemented")},o.prototype._fixedNafMul=function(Ee,me){ne(Ee.precomputed);var fe=Ee._getDoubles(),xe=t(me,1,this._bitLength),br=(1<<fe.step+1)-(fe.step%2===0?2:1);br/=3;var wr=[],kr,Vr;for(kr=0;kr<xe.length;kr+=fe.step){Vr=0;for(var Zr=kr+fe.step-1;Zr>=kr;Zr--)Vr=(Vr<<1)+xe[Zr];wr.push(Vr)}for(var Qr=this.jpoint(null,null,null),Yr=this.jpoint(null,null,null),ii=br;ii>0;ii--){for(kr=0;kr<wr.length;kr++)Vr=wr[kr],Vr===ii?Yr=Yr.mixedAdd(fe.points[kr]):Vr===-ii&&(Yr=Yr.mixedAdd(fe.points[kr].neg()));Qr=Qr.add(Yr)}return Qr.toP()},o.prototype._wnafMul=function(Ee,me){var fe=4,xe=Ee._getNAFPoints(fe);fe=xe.wnd;for(var br=xe.points,wr=t(me,fe,this._bitLength),kr=this.jpoint(null,null,null),Vr=wr.length-1;Vr>=0;Vr--){for(var Zr=0;Vr>=0&&wr[Vr]===0;Vr--)Zr++;if(Vr>=0&&Zr++,kr=kr.dblp(Zr),Vr<0)break;var Qr=wr[Vr];ne(Qr!==0),Ee.type==="affine"?Qr>0?kr=kr.mixedAdd(br[Qr-1>>1]):kr=kr.mixedAdd(br[-Qr-1>>1].neg()):Qr>0?kr=kr.add(br[Qr-1>>1]):kr=kr.add(br[-Qr-1>>1].neg())}return Ee.type==="affine"?kr.toP():kr},o.prototype._wnafMulAdd=function(Ee,me,fe,xe,br){var wr=this._wnafT1,kr=this._wnafT2,Vr=this._wnafT3,Zr=0,Qr,Yr,ii;for(Qr=0;Qr<xe;Qr++){ii=me[Qr];var ei=ii._getNAFPoints(Ee);wr[Qr]=ei.wnd,kr[Qr]=ei.points}for(Qr=xe-1;Qr>=1;Qr-=2){var si=Qr-1,ai=Qr;if(wr[si]!==1||wr[ai]!==1){Vr[si]=t(fe[si],wr[si],this._bitLength),Vr[ai]=t(fe[ai],wr[ai],this._bitLength),Zr=Math.max(Vr[si].length,Zr),Zr=Math.max(Vr[ai].length,Zr);continue}var Gr=[me[si],null,null,me[ai]];me[si].y.cmp(me[ai].y)===0?(Gr[1]=me[si].add(me[ai]),Gr[2]=me[si].toJ().mixedAdd(me[ai].neg())):me[si].y.cmp(me[ai].y.redNeg())===0?(Gr[1]=me[si].toJ().mixedAdd(me[ai]),Gr[2]=me[si].add(me[ai].neg())):(Gr[1]=me[si].toJ().mixedAdd(me[ai]),Gr[2]=me[si].toJ().mixedAdd(me[ai].neg()));var fi=[-3,-1,-5,-7,0,7,5,1,3],gi=s(fe[si],fe[ai]);for(Zr=Math.max(gi[0].length,Zr),Vr[si]=new Array(Zr),Vr[ai]=new Array(Zr),Yr=0;Yr<Zr;Yr++){var Si=gi[0][Yr]|0,oi=gi[1][Yr]|0;Vr[si][Yr]=fi[(Si+1)*3+(oi+1)],Vr[ai][Yr]=0,kr[si]=Gr}}var Kr=this.jpoint(null,null,null),Ie=this._wnafT4;for(Qr=Zr;Qr>=0;Qr--){for(var C=0;Qr>=0;){var be=!0;for(Yr=0;Yr<xe;Yr++)Ie[Yr]=Vr[Yr][Qr]|0,Ie[Yr]!==0&&(be=!1);if(!be)break;C++,Qr--}if(Qr>=0&&C++,Kr=Kr.dblp(C),Qr<0)break;for(Yr=0;Yr<xe;Yr++){var Oe=Ie[Yr];Oe!==0&&(Oe>0?ii=kr[Yr][Oe-1>>1]:Oe<0&&(ii=kr[Yr][-Oe-1>>1].neg()),ii.type==="affine"?Kr=Kr.mixedAdd(ii):Kr=Kr.add(ii))}}for(Qr=0;Qr<xe;Qr++)kr[Qr]=null;return br?Kr:Kr.toP()};function we(ye,Ee){this.curve=ye,this.type=Ee,this.precomputed=null}return o.BasePoint=we,we.prototype.eq=function(){throw new Error("Not implemented")},we.prototype.validate=function(){return this.curve.validate(this)},o.prototype.decodePoint=function(Ee,me){Ee=e.toArray(Ee,me);var fe=this.p.byteLength();if((Ee[0]===4||Ee[0]===6||Ee[0]===7)&&Ee.length-1===2*fe){Ee[0]===6?ne(Ee[Ee.length-1]%2===0):Ee[0]===7&&ne(Ee[Ee.length-1]%2===1);var xe=this.point(Ee.slice(1,1+fe),Ee.slice(1+fe,1+2*fe));return xe}else if((Ee[0]===2||Ee[0]===3)&&Ee.length-1===fe)return this.pointFromX(Ee.slice(1,1+fe),Ee[0]===3);throw new Error("Unknown point format")},we.prototype.encodeCompressed=function(Ee){return this.encode(Ee,!0)},we.prototype._encode=function(Ee){var me=this.curve.p.byteLength(),fe=this.getX().toArray("be",me);return Ee?[this.getY().isEven()?2:3].concat(fe):[4].concat(fe,this.getY().toArray("be",me))},we.prototype.encode=function(Ee,me){return e.encode(this._encode(me),Ee)},we.prototype.precompute=function(Ee){if(this.precomputed)return this;var me={doubles:null,naf:null,beta:null};return me.naf=this._getNAFPoints(8),me.doubles=this._getDoubles(4,Ee),me.beta=this._getBeta(),this.precomputed=me,this},we.prototype._hasDoubles=function(Ee){if(!this.precomputed)return!1;var me=this.precomputed.doubles;return me?me.points.length>=Math.ceil((Ee.bitLength()+1)/me.step):!1},we.prototype._getDoubles=function(Ee,me){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var fe=[this],xe=this,br=0;br<me;br+=Ee){for(var wr=0;wr<Ee;wr++)xe=xe.dbl();fe.push(xe)}return{step:Ee,points:fe}},we.prototype._getNAFPoints=function(Ee){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var me=[this],fe=(1<<Ee)-1,xe=fe===1?null:this.dbl(),br=1;br<fe;br++)me[br]=me[br-1].add(xe);return{wnd:Ee,points:me}},we.prototype._getBeta=function(){return null},we.prototype.dblp=function(Ee){for(var me=this,fe=0;fe<Ee;fe++)me=me.dbl();return me},base$2}var short,hasRequiredShort;function requireShort(){if(hasRequiredShort)return short;hasRequiredShort=1;var r=requireUtils$2(),e=requireBn$2(),t=inherits_browserExports,s=requireBase$1(),ne=r.assert;function o(Ee){s.call(this,"short",Ee),this.a=new e(Ee.a,16).toRed(this.red),this.b=new e(Ee.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(Ee),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}t(o,s),short=o,o.prototype._getEndomorphism=function(me){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var fe,xe;if(me.beta)fe=new e(me.beta,16).toRed(this.red);else{var br=this._getEndoRoots(this.p);fe=br[0].cmp(br[1])<0?br[0]:br[1],fe=fe.toRed(this.red)}if(me.lambda)xe=new e(me.lambda,16);else{var wr=this._getEndoRoots(this.n);this.g.mul(wr[0]).x.cmp(this.g.x.redMul(fe))===0?xe=wr[0]:(xe=wr[1],ne(this.g.mul(xe).x.cmp(this.g.x.redMul(fe))===0))}var kr;return me.basis?kr=me.basis.map(function(Vr){return{a:new e(Vr.a,16),b:new e(Vr.b,16)}}):kr=this._getEndoBasis(xe),{beta:fe,lambda:xe,basis:kr}}},o.prototype._getEndoRoots=function(me){var fe=me===this.p?this.red:e.mont(me),xe=new e(2).toRed(fe).redInvm(),br=xe.redNeg(),wr=new e(3).toRed(fe).redNeg().redSqrt().redMul(xe),kr=br.redAdd(wr).fromRed(),Vr=br.redSub(wr).fromRed();return[kr,Vr]},o.prototype._getEndoBasis=function(me){for(var fe=this.n.ushrn(Math.floor(this.n.bitLength()/2)),xe=me,br=this.n.clone(),wr=new e(1),kr=new e(0),Vr=new e(0),Zr=new e(1),Qr,Yr,ii,ei,si,ai,Gr,fi=0,gi,Si;xe.cmpn(0)!==0;){var oi=br.div(xe);gi=br.sub(oi.mul(xe)),Si=Vr.sub(oi.mul(wr));var Kr=Zr.sub(oi.mul(kr));if(!ii&&gi.cmp(fe)<0)Qr=Gr.neg(),Yr=wr,ii=gi.neg(),ei=Si;else if(ii&&++fi===2)break;Gr=gi,br=xe,xe=gi,Vr=wr,wr=Si,Zr=kr,kr=Kr}si=gi.neg(),ai=Si;var Ie=ii.sqr().add(ei.sqr()),C=si.sqr().add(ai.sqr());return C.cmp(Ie)>=0&&(si=Qr,ai=Yr),ii.negative&&(ii=ii.neg(),ei=ei.neg()),si.negative&&(si=si.neg(),ai=ai.neg()),[{a:ii,b:ei},{a:si,b:ai}]},o.prototype._endoSplit=function(me){var fe=this.endo.basis,xe=fe[0],br=fe[1],wr=br.b.mul(me).divRound(this.n),kr=xe.b.neg().mul(me).divRound(this.n),Vr=wr.mul(xe.a),Zr=kr.mul(br.a),Qr=wr.mul(xe.b),Yr=kr.mul(br.b),ii=me.sub(Vr).sub(Zr),ei=Qr.add(Yr).neg();return{k1:ii,k2:ei}},o.prototype.pointFromX=function(me,fe){me=new e(me,16),me.red||(me=me.toRed(this.red));var xe=me.redSqr().redMul(me).redIAdd(me.redMul(this.a)).redIAdd(this.b),br=xe.redSqrt();if(br.redSqr().redSub(xe).cmp(this.zero)!==0)throw new Error("invalid point");var wr=br.fromRed().isOdd();return(fe&&!wr||!fe&&wr)&&(br=br.redNeg()),this.point(me,br)},o.prototype.validate=function(me){if(me.inf)return!0;var fe=me.x,xe=me.y,br=this.a.redMul(fe),wr=fe.redSqr().redMul(fe).redIAdd(br).redIAdd(this.b);return xe.redSqr().redISub(wr).cmpn(0)===0},o.prototype._endoWnafMulAdd=function(me,fe,xe){for(var br=this._endoWnafT1,wr=this._endoWnafT2,kr=0;kr<me.length;kr++){var Vr=this._endoSplit(fe[kr]),Zr=me[kr],Qr=Zr._getBeta();Vr.k1.negative&&(Vr.k1.ineg(),Zr=Zr.neg(!0)),Vr.k2.negative&&(Vr.k2.ineg(),Qr=Qr.neg(!0)),br[kr*2]=Zr,br[kr*2+1]=Qr,wr[kr*2]=Vr.k1,wr[kr*2+1]=Vr.k2}for(var Yr=this._wnafMulAdd(1,br,wr,kr*2,xe),ii=0;ii<kr*2;ii++)br[ii]=null,wr[ii]=null;return Yr};function we(Ee,me,fe,xe){s.BasePoint.call(this,Ee,"affine"),me===null&&fe===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new e(me,16),this.y=new e(fe,16),xe&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}t(we,s.BasePoint),o.prototype.point=function(me,fe,xe){return new we(this,me,fe,xe)},o.prototype.pointFromJSON=function(me,fe){return we.fromJSON(this,me,fe)},we.prototype._getBeta=function(){if(this.curve.endo){var me=this.precomputed;if(me&&me.beta)return me.beta;var fe=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(me){var xe=this.curve,br=function(wr){return xe.point(wr.x.redMul(xe.endo.beta),wr.y)};me.beta=fe,fe.precomputed={beta:null,naf:me.naf&&{wnd:me.naf.wnd,points:me.naf.points.map(br)},doubles:me.doubles&&{step:me.doubles.step,points:me.doubles.points.map(br)}}}return fe}},we.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},we.fromJSON=function(me,fe,xe){typeof fe=="string"&&(fe=JSON.parse(fe));var br=me.point(fe[0],fe[1],xe);if(!fe[2])return br;function wr(Vr){return me.point(Vr[0],Vr[1],xe)}var kr=fe[2];return br.precomputed={beta:null,doubles:kr.doubles&&{step:kr.doubles.step,points:[br].concat(kr.doubles.points.map(wr))},naf:kr.naf&&{wnd:kr.naf.wnd,points:[br].concat(kr.naf.points.map(wr))}},br},we.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},we.prototype.isInfinity=function(){return this.inf},we.prototype.add=function(me){if(this.inf)return me;if(me.inf)return this;if(this.eq(me))return this.dbl();if(this.neg().eq(me))return this.curve.point(null,null);if(this.x.cmp(me.x)===0)return this.curve.point(null,null);var fe=this.y.redSub(me.y);fe.cmpn(0)!==0&&(fe=fe.redMul(this.x.redSub(me.x).redInvm()));var xe=fe.redSqr().redISub(this.x).redISub(me.x),br=fe.redMul(this.x.redSub(xe)).redISub(this.y);return this.curve.point(xe,br)},we.prototype.dbl=function(){if(this.inf)return this;var me=this.y.redAdd(this.y);if(me.cmpn(0)===0)return this.curve.point(null,null);var fe=this.curve.a,xe=this.x.redSqr(),br=me.redInvm(),wr=xe.redAdd(xe).redIAdd(xe).redIAdd(fe).redMul(br),kr=wr.redSqr().redISub(this.x.redAdd(this.x)),Vr=wr.redMul(this.x.redSub(kr)).redISub(this.y);return this.curve.point(kr,Vr)},we.prototype.getX=function(){return this.x.fromRed()},we.prototype.getY=function(){return this.y.fromRed()},we.prototype.mul=function(me){return me=new e(me,16),this.isInfinity()?this:this._hasDoubles(me)?this.curve._fixedNafMul(this,me):this.curve.endo?this.curve._endoWnafMulAdd([this],[me]):this.curve._wnafMul(this,me)},we.prototype.mulAdd=function(me,fe,xe){var br=[this,fe],wr=[me,xe];return this.curve.endo?this.curve._endoWnafMulAdd(br,wr):this.curve._wnafMulAdd(1,br,wr,2)},we.prototype.jmulAdd=function(me,fe,xe){var br=[this,fe],wr=[me,xe];return this.curve.endo?this.curve._endoWnafMulAdd(br,wr,!0):this.curve._wnafMulAdd(1,br,wr,2,!0)},we.prototype.eq=function(me){return this===me||this.inf===me.inf&&(this.inf||this.x.cmp(me.x)===0&&this.y.cmp(me.y)===0)},we.prototype.neg=function(me){if(this.inf)return this;var fe=this.curve.point(this.x,this.y.redNeg());if(me&&this.precomputed){var xe=this.precomputed,br=function(wr){return wr.neg()};fe.precomputed={naf:xe.naf&&{wnd:xe.naf.wnd,points:xe.naf.points.map(br)},doubles:xe.doubles&&{step:xe.doubles.step,points:xe.doubles.points.map(br)}}}return fe},we.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var me=this.curve.jpoint(this.x,this.y,this.curve.one);return me};function ye(Ee,me,fe,xe){s.BasePoint.call(this,Ee,"jacobian"),me===null&&fe===null&&xe===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new e(0)):(this.x=new e(me,16),this.y=new e(fe,16),this.z=new e(xe,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}return t(ye,s.BasePoint),o.prototype.jpoint=function(me,fe,xe){return new ye(this,me,fe,xe)},ye.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var me=this.z.redInvm(),fe=me.redSqr(),xe=this.x.redMul(fe),br=this.y.redMul(fe).redMul(me);return this.curve.point(xe,br)},ye.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},ye.prototype.add=function(me){if(this.isInfinity())return me;if(me.isInfinity())return this;var fe=me.z.redSqr(),xe=this.z.redSqr(),br=this.x.redMul(fe),wr=me.x.redMul(xe),kr=this.y.redMul(fe.redMul(me.z)),Vr=me.y.redMul(xe.redMul(this.z)),Zr=br.redSub(wr),Qr=kr.redSub(Vr);if(Zr.cmpn(0)===0)return Qr.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var Yr=Zr.redSqr(),ii=Yr.redMul(Zr),ei=br.redMul(Yr),si=Qr.redSqr().redIAdd(ii).redISub(ei).redISub(ei),ai=Qr.redMul(ei.redISub(si)).redISub(kr.redMul(ii)),Gr=this.z.redMul(me.z).redMul(Zr);return this.curve.jpoint(si,ai,Gr)},ye.prototype.mixedAdd=function(me){if(this.isInfinity())return me.toJ();if(me.isInfinity())return this;var fe=this.z.redSqr(),xe=this.x,br=me.x.redMul(fe),wr=this.y,kr=me.y.redMul(fe).redMul(this.z),Vr=xe.redSub(br),Zr=wr.redSub(kr);if(Vr.cmpn(0)===0)return Zr.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var Qr=Vr.redSqr(),Yr=Qr.redMul(Vr),ii=xe.redMul(Qr),ei=Zr.redSqr().redIAdd(Yr).redISub(ii).redISub(ii),si=Zr.redMul(ii.redISub(ei)).redISub(wr.redMul(Yr)),ai=this.z.redMul(Vr);return this.curve.jpoint(ei,si,ai)},ye.prototype.dblp=function(me){if(me===0)return this;if(this.isInfinity())return this;if(!me)return this.dbl();var fe;if(this.curve.zeroA||this.curve.threeA){var xe=this;for(fe=0;fe<me;fe++)xe=xe.dbl();return xe}var br=this.curve.a,wr=this.curve.tinv,kr=this.x,Vr=this.y,Zr=this.z,Qr=Zr.redSqr().redSqr(),Yr=Vr.redAdd(Vr);for(fe=0;fe<me;fe++){var ii=kr.redSqr(),ei=Yr.redSqr(),si=ei.redSqr(),ai=ii.redAdd(ii).redIAdd(ii).redIAdd(br.redMul(Qr)),Gr=kr.redMul(ei),fi=ai.redSqr().redISub(Gr.redAdd(Gr)),gi=Gr.redISub(fi),Si=ai.redMul(gi);Si=Si.redIAdd(Si).redISub(si);var oi=Yr.redMul(Zr);fe+1<me&&(Qr=Qr.redMul(si)),kr=fi,Zr=oi,Yr=Si}return this.curve.jpoint(kr,Yr.redMul(wr),Zr)},ye.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},ye.prototype._zeroDbl=function(){var me,fe,xe;if(this.zOne){var br=this.x.redSqr(),wr=this.y.redSqr(),kr=wr.redSqr(),Vr=this.x.redAdd(wr).redSqr().redISub(br).redISub(kr);Vr=Vr.redIAdd(Vr);var Zr=br.redAdd(br).redIAdd(br),Qr=Zr.redSqr().redISub(Vr).redISub(Vr),Yr=kr.redIAdd(kr);Yr=Yr.redIAdd(Yr),Yr=Yr.redIAdd(Yr),me=Qr,fe=Zr.redMul(Vr.redISub(Qr)).redISub(Yr),xe=this.y.redAdd(this.y)}else{var ii=this.x.redSqr(),ei=this.y.redSqr(),si=ei.redSqr(),ai=this.x.redAdd(ei).redSqr().redISub(ii).redISub(si);ai=ai.redIAdd(ai);var Gr=ii.redAdd(ii).redIAdd(ii),fi=Gr.redSqr(),gi=si.redIAdd(si);gi=gi.redIAdd(gi),gi=gi.redIAdd(gi),me=fi.redISub(ai).redISub(ai),fe=Gr.redMul(ai.redISub(me)).redISub(gi),xe=this.y.redMul(this.z),xe=xe.redIAdd(xe)}return this.curve.jpoint(me,fe,xe)},ye.prototype._threeDbl=function(){var me,fe,xe;if(this.zOne){var br=this.x.redSqr(),wr=this.y.redSqr(),kr=wr.redSqr(),Vr=this.x.redAdd(wr).redSqr().redISub(br).redISub(kr);Vr=Vr.redIAdd(Vr);var Zr=br.redAdd(br).redIAdd(br).redIAdd(this.curve.a),Qr=Zr.redSqr().redISub(Vr).redISub(Vr);me=Qr;var Yr=kr.redIAdd(kr);Yr=Yr.redIAdd(Yr),Yr=Yr.redIAdd(Yr),fe=Zr.redMul(Vr.redISub(Qr)).redISub(Yr),xe=this.y.redAdd(this.y)}else{var ii=this.z.redSqr(),ei=this.y.redSqr(),si=this.x.redMul(ei),ai=this.x.redSub(ii).redMul(this.x.redAdd(ii));ai=ai.redAdd(ai).redIAdd(ai);var Gr=si.redIAdd(si);Gr=Gr.redIAdd(Gr);var fi=Gr.redAdd(Gr);me=ai.redSqr().redISub(fi),xe=this.y.redAdd(this.z).redSqr().redISub(ei).redISub(ii);var gi=ei.redSqr();gi=gi.redIAdd(gi),gi=gi.redIAdd(gi),gi=gi.redIAdd(gi),fe=ai.redMul(Gr.redISub(me)).redISub(gi)}return this.curve.jpoint(me,fe,xe)},ye.prototype._dbl=function(){var me=this.curve.a,fe=this.x,xe=this.y,br=this.z,wr=br.redSqr().redSqr(),kr=fe.redSqr(),Vr=xe.redSqr(),Zr=kr.redAdd(kr).redIAdd(kr).redIAdd(me.redMul(wr)),Qr=fe.redAdd(fe);Qr=Qr.redIAdd(Qr);var Yr=Qr.redMul(Vr),ii=Zr.redSqr().redISub(Yr.redAdd(Yr)),ei=Yr.redISub(ii),si=Vr.redSqr();si=si.redIAdd(si),si=si.redIAdd(si),si=si.redIAdd(si);var ai=Zr.redMul(ei).redISub(si),Gr=xe.redAdd(xe).redMul(br);return this.curve.jpoint(ii,ai,Gr)},ye.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var me=this.x.redSqr(),fe=this.y.redSqr(),xe=this.z.redSqr(),br=fe.redSqr(),wr=me.redAdd(me).redIAdd(me),kr=wr.redSqr(),Vr=this.x.redAdd(fe).redSqr().redISub(me).redISub(br);Vr=Vr.redIAdd(Vr),Vr=Vr.redAdd(Vr).redIAdd(Vr),Vr=Vr.redISub(kr);var Zr=Vr.redSqr(),Qr=br.redIAdd(br);Qr=Qr.redIAdd(Qr),Qr=Qr.redIAdd(Qr),Qr=Qr.redIAdd(Qr);var Yr=wr.redIAdd(Vr).redSqr().redISub(kr).redISub(Zr).redISub(Qr),ii=fe.redMul(Yr);ii=ii.redIAdd(ii),ii=ii.redIAdd(ii);var ei=this.x.redMul(Zr).redISub(ii);ei=ei.redIAdd(ei),ei=ei.redIAdd(ei);var si=this.y.redMul(Yr.redMul(Qr.redISub(Yr)).redISub(Vr.redMul(Zr)));si=si.redIAdd(si),si=si.redIAdd(si),si=si.redIAdd(si);var ai=this.z.redAdd(Vr).redSqr().redISub(xe).redISub(Zr);return this.curve.jpoint(ei,si,ai)},ye.prototype.mul=function(me,fe){return me=new e(me,fe),this.curve._wnafMul(this,me)},ye.prototype.eq=function(me){if(me.type==="affine")return this.eq(me.toJ());if(this===me)return!0;var fe=this.z.redSqr(),xe=me.z.redSqr();if(this.x.redMul(xe).redISub(me.x.redMul(fe)).cmpn(0)!==0)return!1;var br=fe.redMul(this.z),wr=xe.redMul(me.z);return this.y.redMul(wr).redISub(me.y.redMul(br)).cmpn(0)===0},ye.prototype.eqXToP=function(me){var fe=this.z.redSqr(),xe=me.toRed(this.curve.red).redMul(fe);if(this.x.cmp(xe)===0)return!0;for(var br=me.clone(),wr=this.curve.redN.redMul(fe);;){if(br.iadd(this.curve.n),br.cmp(this.curve.p)>=0)return!1;if(xe.redIAdd(wr),this.x.cmp(xe)===0)return!0}},ye.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},ye.prototype.isInfinity=function(){return this.z.cmpn(0)===0},short}var mont,hasRequiredMont;function requireMont(){if(hasRequiredMont)return mont;hasRequiredMont=1;var r=requireBn$2(),e=inherits_browserExports,t=requireBase$1(),s=requireUtils$2();function ne(we){t.call(this,"mont",we),this.a=new r(we.a,16).toRed(this.red),this.b=new r(we.b,16).toRed(this.red),this.i4=new r(4).toRed(this.red).redInvm(),this.two=new r(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}e(ne,t),mont=ne,ne.prototype.validate=function(ye){var Ee=ye.normalize().x,me=Ee.redSqr(),fe=me.redMul(Ee).redAdd(me.redMul(this.a)).redAdd(Ee),xe=fe.redSqrt();return xe.redSqr().cmp(fe)===0};function o(we,ye,Ee){t.BasePoint.call(this,we,"projective"),ye===null&&Ee===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new r(ye,16),this.z=new r(Ee,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}return e(o,t.BasePoint),ne.prototype.decodePoint=function(ye,Ee){return this.point(s.toArray(ye,Ee),1)},ne.prototype.point=function(ye,Ee){return new o(this,ye,Ee)},ne.prototype.pointFromJSON=function(ye){return o.fromJSON(this,ye)},o.prototype.precompute=function(){},o.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},o.fromJSON=function(ye,Ee){return new o(ye,Ee[0],Ee[1]||ye.one)},o.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},o.prototype.isInfinity=function(){return this.z.cmpn(0)===0},o.prototype.dbl=function(){var ye=this.x.redAdd(this.z),Ee=ye.redSqr(),me=this.x.redSub(this.z),fe=me.redSqr(),xe=Ee.redSub(fe),br=Ee.redMul(fe),wr=xe.redMul(fe.redAdd(this.curve.a24.redMul(xe)));return this.curve.point(br,wr)},o.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},o.prototype.diffAdd=function(ye,Ee){var me=this.x.redAdd(this.z),fe=this.x.redSub(this.z),xe=ye.x.redAdd(ye.z),br=ye.x.redSub(ye.z),wr=br.redMul(me),kr=xe.redMul(fe),Vr=Ee.z.redMul(wr.redAdd(kr).redSqr()),Zr=Ee.x.redMul(wr.redISub(kr).redSqr());return this.curve.point(Vr,Zr)},o.prototype.mul=function(ye){for(var Ee=ye.clone(),me=this,fe=this.curve.point(null,null),xe=this,br=[];Ee.cmpn(0)!==0;Ee.iushrn(1))br.push(Ee.andln(1));for(var wr=br.length-1;wr>=0;wr--)br[wr]===0?(me=me.diffAdd(fe,xe),fe=fe.dbl()):(fe=me.diffAdd(fe,xe),me=me.dbl());return fe},o.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},o.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},o.prototype.eq=function(ye){return this.getX().cmp(ye.getX())===0},o.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},o.prototype.getX=function(){return this.normalize(),this.x.fromRed()},mont}var edwards,hasRequiredEdwards;function requireEdwards(){if(hasRequiredEdwards)return edwards;hasRequiredEdwards=1;var r=requireUtils$2(),e=requireBn$2(),t=inherits_browserExports,s=requireBase$1(),ne=r.assert;function o(ye){this.twisted=(ye.a|0)!==1,this.mOneA=this.twisted&&(ye.a|0)===-1,this.extended=this.mOneA,s.call(this,"edwards",ye),this.a=new e(ye.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new e(ye.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new e(ye.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),ne(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(ye.c|0)===1}t(o,s),edwards=o,o.prototype._mulA=function(Ee){return this.mOneA?Ee.redNeg():this.a.redMul(Ee)},o.prototype._mulC=function(Ee){return this.oneC?Ee:this.c.redMul(Ee)},o.prototype.jpoint=function(Ee,me,fe,xe){return this.point(Ee,me,fe,xe)},o.prototype.pointFromX=function(Ee,me){Ee=new e(Ee,16),Ee.red||(Ee=Ee.toRed(this.red));var fe=Ee.redSqr(),xe=this.c2.redSub(this.a.redMul(fe)),br=this.one.redSub(this.c2.redMul(this.d).redMul(fe)),wr=xe.redMul(br.redInvm()),kr=wr.redSqrt();if(kr.redSqr().redSub(wr).cmp(this.zero)!==0)throw new Error("invalid point");var Vr=kr.fromRed().isOdd();return(me&&!Vr||!me&&Vr)&&(kr=kr.redNeg()),this.point(Ee,kr)},o.prototype.pointFromY=function(Ee,me){Ee=new e(Ee,16),Ee.red||(Ee=Ee.toRed(this.red));var fe=Ee.redSqr(),xe=fe.redSub(this.c2),br=fe.redMul(this.d).redMul(this.c2).redSub(this.a),wr=xe.redMul(br.redInvm());if(wr.cmp(this.zero)===0){if(me)throw new Error("invalid point");return this.point(this.zero,Ee)}var kr=wr.redSqrt();if(kr.redSqr().redSub(wr).cmp(this.zero)!==0)throw new Error("invalid point");return kr.fromRed().isOdd()!==me&&(kr=kr.redNeg()),this.point(kr,Ee)},o.prototype.validate=function(Ee){if(Ee.isInfinity())return!0;Ee.normalize();var me=Ee.x.redSqr(),fe=Ee.y.redSqr(),xe=me.redMul(this.a).redAdd(fe),br=this.c2.redMul(this.one.redAdd(this.d.redMul(me).redMul(fe)));return xe.cmp(br)===0};function we(ye,Ee,me,fe,xe){s.BasePoint.call(this,ye,"projective"),Ee===null&&me===null&&fe===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new e(Ee,16),this.y=new e(me,16),this.z=fe?new e(fe,16):this.curve.one,this.t=xe&&new e(xe,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}return t(we,s.BasePoint),o.prototype.pointFromJSON=function(Ee){return we.fromJSON(this,Ee)},o.prototype.point=function(Ee,me,fe,xe){return new we(this,Ee,me,fe,xe)},we.fromJSON=function(Ee,me){return new we(Ee,me[0],me[1],me[2])},we.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},we.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},we.prototype._extDbl=function(){var Ee=this.x.redSqr(),me=this.y.redSqr(),fe=this.z.redSqr();fe=fe.redIAdd(fe);var xe=this.curve._mulA(Ee),br=this.x.redAdd(this.y).redSqr().redISub(Ee).redISub(me),wr=xe.redAdd(me),kr=wr.redSub(fe),Vr=xe.redSub(me),Zr=br.redMul(kr),Qr=wr.redMul(Vr),Yr=br.redMul(Vr),ii=kr.redMul(wr);return this.curve.point(Zr,Qr,ii,Yr)},we.prototype._projDbl=function(){var Ee=this.x.redAdd(this.y).redSqr(),me=this.x.redSqr(),fe=this.y.redSqr(),xe,br,wr,kr,Vr,Zr;if(this.curve.twisted){kr=this.curve._mulA(me);var Qr=kr.redAdd(fe);this.zOne?(xe=Ee.redSub(me).redSub(fe).redMul(Qr.redSub(this.curve.two)),br=Qr.redMul(kr.redSub(fe)),wr=Qr.redSqr().redSub(Qr).redSub(Qr)):(Vr=this.z.redSqr(),Zr=Qr.redSub(Vr).redISub(Vr),xe=Ee.redSub(me).redISub(fe).redMul(Zr),br=Qr.redMul(kr.redSub(fe)),wr=Qr.redMul(Zr))}else kr=me.redAdd(fe),Vr=this.curve._mulC(this.z).redSqr(),Zr=kr.redSub(Vr).redSub(Vr),xe=this.curve._mulC(Ee.redISub(kr)).redMul(Zr),br=this.curve._mulC(kr).redMul(me.redISub(fe)),wr=kr.redMul(Zr);return this.curve.point(xe,br,wr)},we.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},we.prototype._extAdd=function(Ee){var me=this.y.redSub(this.x).redMul(Ee.y.redSub(Ee.x)),fe=this.y.redAdd(this.x).redMul(Ee.y.redAdd(Ee.x)),xe=this.t.redMul(this.curve.dd).redMul(Ee.t),br=this.z.redMul(Ee.z.redAdd(Ee.z)),wr=fe.redSub(me),kr=br.redSub(xe),Vr=br.redAdd(xe),Zr=fe.redAdd(me),Qr=wr.redMul(kr),Yr=Vr.redMul(Zr),ii=wr.redMul(Zr),ei=kr.redMul(Vr);return this.curve.point(Qr,Yr,ei,ii)},we.prototype._projAdd=function(Ee){var me=this.z.redMul(Ee.z),fe=me.redSqr(),xe=this.x.redMul(Ee.x),br=this.y.redMul(Ee.y),wr=this.curve.d.redMul(xe).redMul(br),kr=fe.redSub(wr),Vr=fe.redAdd(wr),Zr=this.x.redAdd(this.y).redMul(Ee.x.redAdd(Ee.y)).redISub(xe).redISub(br),Qr=me.redMul(kr).redMul(Zr),Yr,ii;return this.curve.twisted?(Yr=me.redMul(Vr).redMul(br.redSub(this.curve._mulA(xe))),ii=kr.redMul(Vr)):(Yr=me.redMul(Vr).redMul(br.redSub(xe)),ii=this.curve._mulC(kr).redMul(Vr)),this.curve.point(Qr,Yr,ii)},we.prototype.add=function(Ee){return this.isInfinity()?Ee:Ee.isInfinity()?this:this.curve.extended?this._extAdd(Ee):this._projAdd(Ee)},we.prototype.mul=function(Ee){return this._hasDoubles(Ee)?this.curve._fixedNafMul(this,Ee):this.curve._wnafMul(this,Ee)},we.prototype.mulAdd=function(Ee,me,fe){return this.curve._wnafMulAdd(1,[this,me],[Ee,fe],2,!1)},we.prototype.jmulAdd=function(Ee,me,fe){return this.curve._wnafMulAdd(1,[this,me],[Ee,fe],2,!0)},we.prototype.normalize=function(){if(this.zOne)return this;var Ee=this.z.redInvm();return this.x=this.x.redMul(Ee),this.y=this.y.redMul(Ee),this.t&&(this.t=this.t.redMul(Ee)),this.z=this.curve.one,this.zOne=!0,this},we.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},we.prototype.getX=function(){return this.normalize(),this.x.fromRed()},we.prototype.getY=function(){return this.normalize(),this.y.fromRed()},we.prototype.eq=function(Ee){return this===Ee||this.getX().cmp(Ee.getX())===0&&this.getY().cmp(Ee.getY())===0},we.prototype.eqXToP=function(Ee){var me=Ee.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(me)===0)return!0;for(var fe=Ee.clone(),xe=this.curve.redN.redMul(this.z);;){if(fe.iadd(this.curve.n),fe.cmp(this.curve.p)>=0)return!1;if(me.redIAdd(xe),this.x.cmp(me)===0)return!0}},we.prototype.toP=we.prototype.normalize,we.prototype.mixedAdd=we.prototype.add,edwards}var hasRequiredCurve;function requireCurve(){return hasRequiredCurve||(hasRequiredCurve=1,function(r){var e=r;e.base=requireBase$1(),e.short=requireShort(),e.mont=requireMont(),e.edwards=requireEdwards()}(curve)),curve}var curves={},hash={},utils$1={},hasRequiredUtils$1;function requireUtils$1(){if(hasRequiredUtils$1)return utils$1;hasRequiredUtils$1=1;var r=requireMinimalisticAssert(),e=inherits_browserExports;utils$1.inherits=e;function t(Kr,Ie){return(Kr.charCodeAt(Ie)&64512)!==55296||Ie<0||Ie+1>=Kr.length?!1:(Kr.charCodeAt(Ie+1)&64512)===56320}function s(Kr,Ie){if(Array.isArray(Kr))return Kr.slice();if(!Kr)return[];var C=[];if(typeof Kr=="string")if(Ie){if(Ie==="hex")for(Kr=Kr.replace(/[^a-z0-9]+/ig,""),Kr.length%2!==0&&(Kr="0"+Kr),Oe=0;Oe<Kr.length;Oe+=2)C.push(parseInt(Kr[Oe]+Kr[Oe+1],16))}else for(var be=0,Oe=0;Oe<Kr.length;Oe++){var fr=Kr.charCodeAt(Oe);fr<128?C[be++]=fr:fr<2048?(C[be++]=fr>>6|192,C[be++]=fr&63|128):t(Kr,Oe)?(fr=65536+((fr&1023)<<10)+(Kr.charCodeAt(++Oe)&1023),C[be++]=fr>>18|240,C[be++]=fr>>12&63|128,C[be++]=fr>>6&63|128,C[be++]=fr&63|128):(C[be++]=fr>>12|224,C[be++]=fr>>6&63|128,C[be++]=fr&63|128)}else for(Oe=0;Oe<Kr.length;Oe++)C[Oe]=Kr[Oe]|0;return C}utils$1.toArray=s;function ne(Kr){for(var Ie="",C=0;C<Kr.length;C++)Ie+=ye(Kr[C].toString(16));return Ie}utils$1.toHex=ne;function o(Kr){var Ie=Kr>>>24|Kr>>>8&65280|Kr<<8&16711680|(Kr&255)<<24;return Ie>>>0}utils$1.htonl=o;function we(Kr,Ie){for(var C="",be=0;be<Kr.length;be++){var Oe=Kr[be];Ie==="little"&&(Oe=o(Oe)),C+=Ee(Oe.toString(16))}return C}utils$1.toHex32=we;function ye(Kr){return Kr.length===1?"0"+Kr:Kr}utils$1.zero2=ye;function Ee(Kr){return Kr.length===7?"0"+Kr:Kr.length===6?"00"+Kr:Kr.length===5?"000"+Kr:Kr.length===4?"0000"+Kr:Kr.length===3?"00000"+Kr:Kr.length===2?"000000"+Kr:Kr.length===1?"0000000"+Kr:Kr}utils$1.zero8=Ee;function me(Kr,Ie,C,be){var Oe=C-Ie;r(Oe%4===0);for(var fr=new Array(Oe/4),qr=0,Hr=Ie;qr<fr.length;qr++,Hr+=4){var Er;be==="big"?Er=Kr[Hr]<<24|Kr[Hr+1]<<16|Kr[Hr+2]<<8|Kr[Hr+3]:Er=Kr[Hr+3]<<24|Kr[Hr+2]<<16|Kr[Hr+1]<<8|Kr[Hr],fr[qr]=Er>>>0}return fr}utils$1.join32=me;function fe(Kr,Ie){for(var C=new Array(Kr.length*4),be=0,Oe=0;be<Kr.length;be++,Oe+=4){var fr=Kr[be];Ie==="big"?(C[Oe]=fr>>>24,C[Oe+1]=fr>>>16&255,C[Oe+2]=fr>>>8&255,C[Oe+3]=fr&255):(C[Oe+3]=fr>>>24,C[Oe+2]=fr>>>16&255,C[Oe+1]=fr>>>8&255,C[Oe]=fr&255)}return C}utils$1.split32=fe;function xe(Kr,Ie){return Kr>>>Ie|Kr<<32-Ie}utils$1.rotr32=xe;function br(Kr,Ie){return Kr<<Ie|Kr>>>32-Ie}utils$1.rotl32=br;function wr(Kr,Ie){return Kr+Ie>>>0}utils$1.sum32=wr;function kr(Kr,Ie,C){return Kr+Ie+C>>>0}utils$1.sum32_3=kr;function Vr(Kr,Ie,C,be){return Kr+Ie+C+be>>>0}utils$1.sum32_4=Vr;function Zr(Kr,Ie,C,be,Oe){return Kr+Ie+C+be+Oe>>>0}utils$1.sum32_5=Zr;function Qr(Kr,Ie,C,be){var Oe=Kr[Ie],fr=Kr[Ie+1],qr=be+fr>>>0,Hr=(qr<be?1:0)+C+Oe;Kr[Ie]=Hr>>>0,Kr[Ie+1]=qr}utils$1.sum64=Qr;function Yr(Kr,Ie,C,be){var Oe=Ie+be>>>0,fr=(Oe<Ie?1:0)+Kr+C;return fr>>>0}utils$1.sum64_hi=Yr;function ii(Kr,Ie,C,be){var Oe=Ie+be;return Oe>>>0}utils$1.sum64_lo=ii;function ei(Kr,Ie,C,be,Oe,fr,qr,Hr){var Er=0,jr=Ie;jr=jr+be>>>0,Er+=jr<Ie?1:0,jr=jr+fr>>>0,Er+=jr<fr?1:0,jr=jr+Hr>>>0,Er+=jr<Hr?1:0;var Se=Kr+C+Oe+qr+Er;return Se>>>0}utils$1.sum64_4_hi=ei;function si(Kr,Ie,C,be,Oe,fr,qr,Hr){var Er=Ie+be+fr+Hr;return Er>>>0}utils$1.sum64_4_lo=si;function ai(Kr,Ie,C,be,Oe,fr,qr,Hr,Er,jr){var Se=0,Wr=Ie;Wr=Wr+be>>>0,Se+=Wr<Ie?1:0,Wr=Wr+fr>>>0,Se+=Wr<fr?1:0,Wr=Wr+Hr>>>0,Se+=Wr<Hr?1:0,Wr=Wr+jr>>>0,Se+=Wr<jr?1:0;var bi=Kr+C+Oe+qr+Er+Se;return bi>>>0}utils$1.sum64_5_hi=ai;function Gr(Kr,Ie,C,be,Oe,fr,qr,Hr,Er,jr){var Se=Ie+be+fr+Hr+jr;return Se>>>0}utils$1.sum64_5_lo=Gr;function fi(Kr,Ie,C){var be=Ie<<32-C|Kr>>>C;return be>>>0}utils$1.rotr64_hi=fi;function gi(Kr,Ie,C){var be=Kr<<32-C|Ie>>>C;return be>>>0}utils$1.rotr64_lo=gi;function Si(Kr,Ie,C){return Kr>>>C}utils$1.shr64_hi=Si;function oi(Kr,Ie,C){var be=Kr<<32-C|Ie>>>C;return be>>>0}return utils$1.shr64_lo=oi,utils$1}var common$1={},hasRequiredCommon$1;function requireCommon$1(){if(hasRequiredCommon$1)return common$1;hasRequiredCommon$1=1;var r=requireUtils$1(),e=requireMinimalisticAssert();function t(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return common$1.BlockHash=t,t.prototype.update=function(ne,o){if(ne=r.toArray(ne,o),this.pending?this.pending=this.pending.concat(ne):this.pending=ne,this.pendingTotal+=ne.length,this.pending.length>=this._delta8){ne=this.pending;var we=ne.length%this._delta8;this.pending=ne.slice(ne.length-we,ne.length),this.pending.length===0&&(this.pending=null),ne=r.join32(ne,0,ne.length-we,this.endian);for(var ye=0;ye<ne.length;ye+=this._delta32)this._update(ne,ye,ye+this._delta32)}return this},t.prototype.digest=function(ne){return this.update(this._pad()),e(this.pending===null),this._digest(ne)},t.prototype._pad=function(){var ne=this.pendingTotal,o=this._delta8,we=o-(ne+this.padLength)%o,ye=new Array(we+this.padLength);ye[0]=128;for(var Ee=1;Ee<we;Ee++)ye[Ee]=0;if(ne<<=3,this.endian==="big"){for(var me=8;me<this.padLength;me++)ye[Ee++]=0;ye[Ee++]=0,ye[Ee++]=0,ye[Ee++]=0,ye[Ee++]=0,ye[Ee++]=ne>>>24&255,ye[Ee++]=ne>>>16&255,ye[Ee++]=ne>>>8&255,ye[Ee++]=ne&255}else for(ye[Ee++]=ne&255,ye[Ee++]=ne>>>8&255,ye[Ee++]=ne>>>16&255,ye[Ee++]=ne>>>24&255,ye[Ee++]=0,ye[Ee++]=0,ye[Ee++]=0,ye[Ee++]=0,me=8;me<this.padLength;me++)ye[Ee++]=0;return ye},common$1}var sha={},common={},hasRequiredCommon;function requireCommon(){if(hasRequiredCommon)return common;hasRequiredCommon=1;var r=requireUtils$1(),e=r.rotr32;function t(fe,xe,br,wr){if(fe===0)return s(xe,br,wr);if(fe===1||fe===3)return o(xe,br,wr);if(fe===2)return ne(xe,br,wr)}common.ft_1=t;function s(fe,xe,br){return fe&xe^~fe&br}common.ch32=s;function ne(fe,xe,br){return fe&xe^fe&br^xe&br}common.maj32=ne;function o(fe,xe,br){return fe^xe^br}common.p32=o;function we(fe){return e(fe,2)^e(fe,13)^e(fe,22)}common.s0_256=we;function ye(fe){return e(fe,6)^e(fe,11)^e(fe,25)}common.s1_256=ye;function Ee(fe){return e(fe,7)^e(fe,18)^fe>>>3}common.g0_256=Ee;function me(fe){return e(fe,17)^e(fe,19)^fe>>>10}return common.g1_256=me,common}var _1,hasRequired_1;function require_1(){if(hasRequired_1)return _1;hasRequired_1=1;var r=requireUtils$1(),e=requireCommon$1(),t=requireCommon(),s=r.rotl32,ne=r.sum32,o=r.sum32_5,we=t.ft_1,ye=e.BlockHash,Ee=[1518500249,1859775393,2400959708,3395469782];function me(){if(!(this instanceof me))return new me;ye.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return r.inherits(me,ye),_1=me,me.blockSize=512,me.outSize=160,me.hmacStrength=80,me.padLength=64,me.prototype._update=function(xe,br){for(var wr=this.W,kr=0;kr<16;kr++)wr[kr]=xe[br+kr];for(;kr<wr.length;kr++)wr[kr]=s(wr[kr-3]^wr[kr-8]^wr[kr-14]^wr[kr-16],1);var Vr=this.h[0],Zr=this.h[1],Qr=this.h[2],Yr=this.h[3],ii=this.h[4];for(kr=0;kr<wr.length;kr++){var ei=~~(kr/20),si=o(s(Vr,5),we(ei,Zr,Qr,Yr),ii,wr[kr],Ee[ei]);ii=Yr,Yr=Qr,Qr=s(Zr,30),Zr=Vr,Vr=si}this.h[0]=ne(this.h[0],Vr),this.h[1]=ne(this.h[1],Zr),this.h[2]=ne(this.h[2],Qr),this.h[3]=ne(this.h[3],Yr),this.h[4]=ne(this.h[4],ii)},me.prototype._digest=function(xe){return xe==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")},_1}var _256,hasRequired_256;function require_256(){if(hasRequired_256)return _256;hasRequired_256=1;var r=requireUtils$1(),e=requireCommon$1(),t=requireCommon(),s=requireMinimalisticAssert(),ne=r.sum32,o=r.sum32_4,we=r.sum32_5,ye=t.ch32,Ee=t.maj32,me=t.s0_256,fe=t.s1_256,xe=t.g0_256,br=t.g1_256,wr=e.BlockHash,kr=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Vr(){if(!(this instanceof Vr))return new Vr;wr.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=kr,this.W=new Array(64)}return r.inherits(Vr,wr),_256=Vr,Vr.blockSize=512,Vr.outSize=256,Vr.hmacStrength=192,Vr.padLength=64,Vr.prototype._update=function(Qr,Yr){for(var ii=this.W,ei=0;ei<16;ei++)ii[ei]=Qr[Yr+ei];for(;ei<ii.length;ei++)ii[ei]=o(br(ii[ei-2]),ii[ei-7],xe(ii[ei-15]),ii[ei-16]);var si=this.h[0],ai=this.h[1],Gr=this.h[2],fi=this.h[3],gi=this.h[4],Si=this.h[5],oi=this.h[6],Kr=this.h[7];for(s(this.k.length===ii.length),ei=0;ei<ii.length;ei++){var Ie=we(Kr,fe(gi),ye(gi,Si,oi),this.k[ei],ii[ei]),C=ne(me(si),Ee(si,ai,Gr));Kr=oi,oi=Si,Si=gi,gi=ne(fi,Ie),fi=Gr,Gr=ai,ai=si,si=ne(Ie,C)}this.h[0]=ne(this.h[0],si),this.h[1]=ne(this.h[1],ai),this.h[2]=ne(this.h[2],Gr),this.h[3]=ne(this.h[3],fi),this.h[4]=ne(this.h[4],gi),this.h[5]=ne(this.h[5],Si),this.h[6]=ne(this.h[6],oi),this.h[7]=ne(this.h[7],Kr)},Vr.prototype._digest=function(Qr){return Qr==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")},_256}var _224,hasRequired_224;function require_224(){if(hasRequired_224)return _224;hasRequired_224=1;var r=requireUtils$1(),e=require_256();function t(){if(!(this instanceof t))return new t;e.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return r.inherits(t,e),_224=t,t.blockSize=512,t.outSize=224,t.hmacStrength=192,t.padLength=64,t.prototype._digest=function(ne){return ne==="hex"?r.toHex32(this.h.slice(0,7),"big"):r.split32(this.h.slice(0,7),"big")},_224}var _512,hasRequired_512;function require_512(){if(hasRequired_512)return _512;hasRequired_512=1;var r=requireUtils$1(),e=requireCommon$1(),t=requireMinimalisticAssert(),s=r.rotr64_hi,ne=r.rotr64_lo,o=r.shr64_hi,we=r.shr64_lo,ye=r.sum64,Ee=r.sum64_hi,me=r.sum64_lo,fe=r.sum64_4_hi,xe=r.sum64_4_lo,br=r.sum64_5_hi,wr=r.sum64_5_lo,kr=e.BlockHash,Vr=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Zr(){if(!(this instanceof Zr))return new Zr;kr.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Vr,this.W=new Array(160)}r.inherits(Zr,kr),_512=Zr,Zr.blockSize=1024,Zr.outSize=512,Zr.hmacStrength=192,Zr.padLength=128,Zr.prototype._prepareBlock=function(C,be){for(var Oe=this.W,fr=0;fr<32;fr++)Oe[fr]=C[be+fr];for(;fr<Oe.length;fr+=2){var qr=oi(Oe[fr-4],Oe[fr-3]),Hr=Kr(Oe[fr-4],Oe[fr-3]),Er=Oe[fr-14],jr=Oe[fr-13],Se=gi(Oe[fr-30],Oe[fr-29]),Wr=Si(Oe[fr-30],Oe[fr-29]),bi=Oe[fr-32],vi=Oe[fr-31];Oe[fr]=fe(qr,Hr,Er,jr,Se,Wr,bi,vi),Oe[fr+1]=xe(qr,Hr,Er,jr,Se,Wr,bi,vi)}},Zr.prototype._update=function(C,be){this._prepareBlock(C,be);var Oe=this.W,fr=this.h[0],qr=this.h[1],Hr=this.h[2],Er=this.h[3],jr=this.h[4],Se=this.h[5],Wr=this.h[6],bi=this.h[7],vi=this.h[8],Ei=this.h[9],ti=this.h[10],ri=this.h[11],ci=this.h[12],Jr=this.h[13],li=this.h[14],yi=this.h[15];t(this.k.length===Oe.length);for(var $i=0;$i<Oe.length;$i+=2){var Ni=li,Bi=yi,zn=Gr(vi,Ei),zi=fi(vi,Ei),Ki=Qr(vi,Ei,ti,ri,ci),la=Yr(vi,Ei,ti,ri,ci,Jr),Vi=this.k[$i],Ii=this.k[$i+1],Nn=Oe[$i],ki=Oe[$i+1],Ai=br(Ni,Bi,zn,zi,Ki,la,Vi,Ii,Nn,ki),In=wr(Ni,Bi,zn,zi,Ki,la,Vi,Ii,Nn,ki);Ni=si(fr,qr),Bi=ai(fr,qr),zn=ii(fr,qr,Hr,Er,jr),zi=ei(fr,qr,Hr,Er,jr,Se);var wn=Ee(Ni,Bi,zn,zi),qi=me(Ni,Bi,zn,zi);li=ci,yi=Jr,ci=ti,Jr=ri,ti=vi,ri=Ei,vi=Ee(Wr,bi,Ai,In),Ei=me(bi,bi,Ai,In),Wr=jr,bi=Se,jr=Hr,Se=Er,Hr=fr,Er=qr,fr=Ee(Ai,In,wn,qi),qr=me(Ai,In,wn,qi)}ye(this.h,0,fr,qr),ye(this.h,2,Hr,Er),ye(this.h,4,jr,Se),ye(this.h,6,Wr,bi),ye(this.h,8,vi,Ei),ye(this.h,10,ti,ri),ye(this.h,12,ci,Jr),ye(this.h,14,li,yi)},Zr.prototype._digest=function(C){return C==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")};function Qr(Ie,C,be,Oe,fr){var qr=Ie&be^~Ie&fr;return qr<0&&(qr+=4294967296),qr}function Yr(Ie,C,be,Oe,fr,qr){var Hr=C&Oe^~C&qr;return Hr<0&&(Hr+=4294967296),Hr}function ii(Ie,C,be,Oe,fr){var qr=Ie&be^Ie&fr^be&fr;return qr<0&&(qr+=4294967296),qr}function ei(Ie,C,be,Oe,fr,qr){var Hr=C&Oe^C&qr^Oe&qr;return Hr<0&&(Hr+=4294967296),Hr}function si(Ie,C){var be=s(Ie,C,28),Oe=s(C,Ie,2),fr=s(C,Ie,7),qr=be^Oe^fr;return qr<0&&(qr+=4294967296),qr}function ai(Ie,C){var be=ne(Ie,C,28),Oe=ne(C,Ie,2),fr=ne(C,Ie,7),qr=be^Oe^fr;return qr<0&&(qr+=4294967296),qr}function Gr(Ie,C){var be=s(Ie,C,14),Oe=s(Ie,C,18),fr=s(C,Ie,9),qr=be^Oe^fr;return qr<0&&(qr+=4294967296),qr}function fi(Ie,C){var be=ne(Ie,C,14),Oe=ne(Ie,C,18),fr=ne(C,Ie,9),qr=be^Oe^fr;return qr<0&&(qr+=4294967296),qr}function gi(Ie,C){var be=s(Ie,C,1),Oe=s(Ie,C,8),fr=o(Ie,C,7),qr=be^Oe^fr;return qr<0&&(qr+=4294967296),qr}function Si(Ie,C){var be=ne(Ie,C,1),Oe=ne(Ie,C,8),fr=we(Ie,C,7),qr=be^Oe^fr;return qr<0&&(qr+=4294967296),qr}function oi(Ie,C){var be=s(Ie,C,19),Oe=s(C,Ie,29),fr=o(Ie,C,6),qr=be^Oe^fr;return qr<0&&(qr+=4294967296),qr}function Kr(Ie,C){var be=ne(Ie,C,19),Oe=ne(C,Ie,29),fr=we(Ie,C,6),qr=be^Oe^fr;return qr<0&&(qr+=4294967296),qr}return _512}var _384,hasRequired_384;function require_384(){if(hasRequired_384)return _384;hasRequired_384=1;var r=requireUtils$1(),e=require_512();function t(){if(!(this instanceof t))return new t;e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return r.inherits(t,e),_384=t,t.blockSize=1024,t.outSize=384,t.hmacStrength=192,t.padLength=128,t.prototype._digest=function(ne){return ne==="hex"?r.toHex32(this.h.slice(0,12),"big"):r.split32(this.h.slice(0,12),"big")},_384}var hasRequiredSha;function requireSha(){return hasRequiredSha||(hasRequiredSha=1,sha.sha1=require_1(),sha.sha224=require_224(),sha.sha256=require_256(),sha.sha384=require_384(),sha.sha512=require_512()),sha}var ripemd={},hasRequiredRipemd;function requireRipemd(){if(hasRequiredRipemd)return ripemd;hasRequiredRipemd=1;var r=requireUtils$1(),e=requireCommon$1(),t=r.rotl32,s=r.sum32,ne=r.sum32_3,o=r.sum32_4,we=e.BlockHash;function ye(){if(!(this instanceof ye))return new ye;we.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}r.inherits(ye,we),ripemd.ripemd160=ye,ye.blockSize=512,ye.outSize=160,ye.hmacStrength=192,ye.padLength=64,ye.prototype._update=function(Zr,Qr){for(var Yr=this.h[0],ii=this.h[1],ei=this.h[2],si=this.h[3],ai=this.h[4],Gr=Yr,fi=ii,gi=ei,Si=si,oi=ai,Kr=0;Kr<80;Kr++){var Ie=s(t(o(Yr,Ee(Kr,ii,ei,si),Zr[xe[Kr]+Qr],me(Kr)),wr[Kr]),ai);Yr=ai,ai=si,si=t(ei,10),ei=ii,ii=Ie,Ie=s(t(o(Gr,Ee(79-Kr,fi,gi,Si),Zr[br[Kr]+Qr],fe(Kr)),kr[Kr]),oi),Gr=oi,oi=Si,Si=t(gi,10),gi=fi,fi=Ie}Ie=ne(this.h[1],ei,Si),this.h[1]=ne(this.h[2],si,oi),this.h[2]=ne(this.h[3],ai,Gr),this.h[3]=ne(this.h[4],Yr,fi),this.h[4]=ne(this.h[0],ii,gi),this.h[0]=Ie},ye.prototype._digest=function(Zr){return Zr==="hex"?r.toHex32(this.h,"little"):r.split32(this.h,"little")};function Ee(Vr,Zr,Qr,Yr){return Vr<=15?Zr^Qr^Yr:Vr<=31?Zr&Qr|~Zr&Yr:Vr<=47?(Zr|~Qr)^Yr:Vr<=63?Zr&Yr|Qr&~Yr:Zr^(Qr|~Yr)}function me(Vr){return Vr<=15?0:Vr<=31?1518500249:Vr<=47?1859775393:Vr<=63?2400959708:2840853838}function fe(Vr){return Vr<=15?1352829926:Vr<=31?1548603684:Vr<=47?1836072691:Vr<=63?2053994217:0}var xe=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],br=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],wr=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],kr=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return ripemd}var hmac,hasRequiredHmac;function requireHmac(){if(hasRequiredHmac)return hmac;hasRequiredHmac=1;var r=requireUtils$1(),e=requireMinimalisticAssert();function t(s,ne,o){if(!(this instanceof t))return new t(s,ne,o);this.Hash=s,this.blockSize=s.blockSize/8,this.outSize=s.outSize/8,this.inner=null,this.outer=null,this._init(r.toArray(ne,o))}return hmac=t,t.prototype._init=function(ne){ne.length>this.blockSize&&(ne=new this.Hash().update(ne).digest()),e(ne.length<=this.blockSize);for(var o=ne.length;o<this.blockSize;o++)ne.push(0);for(o=0;o<ne.length;o++)ne[o]^=54;for(this.inner=new this.Hash().update(ne),o=0;o<ne.length;o++)ne[o]^=106;this.outer=new this.Hash().update(ne)},t.prototype.update=function(ne,o){return this.inner.update(ne,o),this},t.prototype.digest=function(ne){return this.outer.update(this.inner.digest()),this.outer.digest(ne)},hmac}var hasRequiredHash;function requireHash(){return hasRequiredHash||(hasRequiredHash=1,function(r){var e=r;e.utils=requireUtils$1(),e.common=requireCommon$1(),e.sha=requireSha(),e.ripemd=requireRipemd(),e.hmac=requireHmac(),e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}(hash)),hash}var secp256k1,hasRequiredSecp256k1;function requireSecp256k1(){return hasRequiredSecp256k1||(hasRequiredSecp256k1=1,secp256k1={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),secp256k1}var hasRequiredCurves;function requireCurves(){return hasRequiredCurves||(hasRequiredCurves=1,function(r){var e=r,t=requireHash(),s=requireCurve(),ne=requireUtils$2(),o=ne.assert;function we(me){me.type==="short"?this.curve=new s.short(me):me.type==="edwards"?this.curve=new s.edwards(me):this.curve=new s.mont(me),this.g=this.curve.g,this.n=this.curve.n,this.hash=me.hash,o(this.g.validate(),"Invalid curve"),o(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}e.PresetCurve=we;function ye(me,fe){Object.defineProperty(e,me,{configurable:!0,enumerable:!0,get:function(){var xe=new we(fe);return Object.defineProperty(e,me,{configurable:!0,enumerable:!0,value:xe}),xe}})}ye("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:t.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),ye("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:t.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),ye("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:t.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),ye("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:t.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),ye("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:t.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),ye("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:t.sha256,gRed:!1,g:["9"]}),ye("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:t.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var Ee;try{Ee=requireSecp256k1()}catch{Ee=void 0}ye("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:t.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",Ee]})}(curves)),curves}var hmacDrbg,hasRequiredHmacDrbg;function requireHmacDrbg(){if(hasRequiredHmacDrbg)return hmacDrbg;hasRequiredHmacDrbg=1;var r=requireHash(),e=requireUtils$3(),t=requireMinimalisticAssert();function s(ne){if(!(this instanceof s))return new s(ne);this.hash=ne.hash,this.predResist=!!ne.predResist,this.outLen=this.hash.outSize,this.minEntropy=ne.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var o=e.toArray(ne.entropy,ne.entropyEnc||"hex"),we=e.toArray(ne.nonce,ne.nonceEnc||"hex"),ye=e.toArray(ne.pers,ne.persEnc||"hex");t(o.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(o,we,ye)}return hmacDrbg=s,s.prototype._init=function(o,we,ye){var Ee=o.concat(we).concat(ye);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var me=0;me<this.V.length;me++)this.K[me]=0,this.V[me]=1;this._update(Ee),this._reseed=1,this.reseedInterval=281474976710656},s.prototype._hmac=function(){return new r.hmac(this.hash,this.K)},s.prototype._update=function(o){var we=this._hmac().update(this.V).update([0]);o&&(we=we.update(o)),this.K=we.digest(),this.V=this._hmac().update(this.V).digest(),o&&(this.K=this._hmac().update(this.V).update([1]).update(o).digest(),this.V=this._hmac().update(this.V).digest())},s.prototype.reseed=function(o,we,ye,Ee){typeof we!="string"&&(Ee=ye,ye=we,we=null),o=e.toArray(o,we),ye=e.toArray(ye,Ee),t(o.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(o.concat(ye||[])),this._reseed=1},s.prototype.generate=function(o,we,ye,Ee){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof we!="string"&&(Ee=ye,ye=we,we=null),ye&&(ye=e.toArray(ye,Ee||"hex"),this._update(ye));for(var me=[];me.length<o;)this.V=this._hmac().update(this.V).digest(),me=me.concat(this.V);var fe=me.slice(0,o);return this._update(ye),this._reseed++,e.encode(fe,we)},hmacDrbg}var key$1,hasRequiredKey$1;function requireKey$1(){if(hasRequiredKey$1)return key$1;hasRequiredKey$1=1;var r=requireBn$2(),e=requireUtils$2(),t=e.assert;function s(ne,o){this.ec=ne,this.priv=null,this.pub=null,o.priv&&this._importPrivate(o.priv,o.privEnc),o.pub&&this._importPublic(o.pub,o.pubEnc)}return key$1=s,s.fromPublic=function(o,we,ye){return we instanceof s?we:new s(o,{pub:we,pubEnc:ye})},s.fromPrivate=function(o,we,ye){return we instanceof s?we:new s(o,{priv:we,privEnc:ye})},s.prototype.validate=function(){var o=this.getPublic();return o.isInfinity()?{result:!1,reason:"Invalid public key"}:o.validate()?o.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},s.prototype.getPublic=function(o,we){return typeof o=="string"&&(we=o,o=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),we?this.pub.encode(we,o):this.pub},s.prototype.getPrivate=function(o){return o==="hex"?this.priv.toString(16,2):this.priv},s.prototype._importPrivate=function(o,we){this.priv=new r(o,we||16),this.priv=this.priv.umod(this.ec.curve.n)},s.prototype._importPublic=function(o,we){if(o.x||o.y){this.ec.curve.type==="mont"?t(o.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&t(o.x&&o.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(o.x,o.y);return}this.pub=this.ec.curve.decodePoint(o,we)},s.prototype.derive=function(o){return o.validate()||t(o.validate(),"public point not validated"),o.mul(this.priv).getX()},s.prototype.sign=function(o,we,ye){return this.ec.sign(o,this,we,ye)},s.prototype.verify=function(o,we){return this.ec.verify(o,we,this)},s.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"},key$1}var signature$1,hasRequiredSignature$1;function requireSignature$1(){if(hasRequiredSignature$1)return signature$1;hasRequiredSignature$1=1;var r=requireBn$2(),e=requireUtils$2(),t=e.assert;function s(Ee,me){if(Ee instanceof s)return Ee;this._importDER(Ee,me)||(t(Ee.r&&Ee.s,"Signature without r or s"),this.r=new r(Ee.r,16),this.s=new r(Ee.s,16),Ee.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=Ee.recoveryParam)}signature$1=s;function ne(){this.place=0}function o(Ee,me){var fe=Ee[me.place++];if(!(fe&128))return fe;var xe=fe&15;if(xe===0||xe>4)return!1;for(var br=0,wr=0,kr=me.place;wr<xe;wr++,kr++)br<<=8,br|=Ee[kr],br>>>=0;return br<=127?!1:(me.place=kr,br)}function we(Ee){for(var me=0,fe=Ee.length-1;!Ee[me]&&!(Ee[me+1]&128)&&me<fe;)me++;return me===0?Ee:Ee.slice(me)}s.prototype._importDER=function(me,fe){me=e.toArray(me,fe);var xe=new ne;if(me[xe.place++]!==48)return!1;var br=o(me,xe);if(br===!1||br+xe.place!==me.length||me[xe.place++]!==2)return!1;var wr=o(me,xe);if(wr===!1)return!1;var kr=me.slice(xe.place,wr+xe.place);if(xe.place+=wr,me[xe.place++]!==2)return!1;var Vr=o(me,xe);if(Vr===!1||me.length!==Vr+xe.place)return!1;var Zr=me.slice(xe.place,Vr+xe.place);if(kr[0]===0)if(kr[1]&128)kr=kr.slice(1);else return!1;if(Zr[0]===0)if(Zr[1]&128)Zr=Zr.slice(1);else return!1;return this.r=new r(kr),this.s=new r(Zr),this.recoveryParam=null,!0};function ye(Ee,me){if(me<128){Ee.push(me);return}var fe=1+(Math.log(me)/Math.LN2>>>3);for(Ee.push(fe|128);--fe;)Ee.push(me>>>(fe<<3)&255);Ee.push(me)}return s.prototype.toDER=function(me){var fe=this.r.toArray(),xe=this.s.toArray();for(fe[0]&128&&(fe=[0].concat(fe)),xe[0]&128&&(xe=[0].concat(xe)),fe=we(fe),xe=we(xe);!xe[0]&&!(xe[1]&128);)xe=xe.slice(1);var br=[2];ye(br,fe.length),br=br.concat(fe),br.push(2),ye(br,xe.length);var wr=br.concat(xe),kr=[48];return ye(kr,wr.length),kr=kr.concat(wr),e.encode(kr,me)},signature$1}var ec,hasRequiredEc;function requireEc(){if(hasRequiredEc)return ec;hasRequiredEc=1;var r=requireBn$2(),e=requireHmacDrbg(),t=requireUtils$2(),s=requireCurves(),ne=requireBrorand(),o=t.assert,we=requireKey$1(),ye=requireSignature$1();function Ee(me){if(!(this instanceof Ee))return new Ee(me);typeof me=="string"&&(o(Object.prototype.hasOwnProperty.call(s,me),"Unknown curve "+me),me=s[me]),me instanceof s.PresetCurve&&(me={curve:me}),this.curve=me.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=me.curve.g,this.g.precompute(me.curve.n.bitLength()+1),this.hash=me.hash||me.curve.hash}return ec=Ee,Ee.prototype.keyPair=function(fe){return new we(this,fe)},Ee.prototype.keyFromPrivate=function(fe,xe){return we.fromPrivate(this,fe,xe)},Ee.prototype.keyFromPublic=function(fe,xe){return we.fromPublic(this,fe,xe)},Ee.prototype.genKeyPair=function(fe){fe||(fe={});for(var xe=new e({hash:this.hash,pers:fe.pers,persEnc:fe.persEnc||"utf8",entropy:fe.entropy||ne(this.hash.hmacStrength),entropyEnc:fe.entropy&&fe.entropyEnc||"utf8",nonce:this.n.toArray()}),br=this.n.byteLength(),wr=this.n.sub(new r(2));;){var kr=new r(xe.generate(br));if(!(kr.cmp(wr)>0))return kr.iaddn(1),this.keyFromPrivate(kr)}},Ee.prototype._truncateToN=function(fe,xe){var br=fe.byteLength()*8-this.n.bitLength();return br>0&&(fe=fe.ushrn(br)),!xe&&fe.cmp(this.n)>=0?fe.sub(this.n):fe},Ee.prototype.sign=function(fe,xe,br,wr){typeof br=="object"&&(wr=br,br=null),wr||(wr={}),xe=this.keyFromPrivate(xe,br),fe=this._truncateToN(new r(fe,16));for(var kr=this.n.byteLength(),Vr=xe.getPrivate().toArray("be",kr),Zr=fe.toArray("be",kr),Qr=new e({hash:this.hash,entropy:Vr,nonce:Zr,pers:wr.pers,persEnc:wr.persEnc||"utf8"}),Yr=this.n.sub(new r(1)),ii=0;;ii++){var ei=wr.k?wr.k(ii):new r(Qr.generate(this.n.byteLength()));if(ei=this._truncateToN(ei,!0),!(ei.cmpn(1)<=0||ei.cmp(Yr)>=0)){var si=this.g.mul(ei);if(!si.isInfinity()){var ai=si.getX(),Gr=ai.umod(this.n);if(Gr.cmpn(0)!==0){var fi=ei.invm(this.n).mul(Gr.mul(xe.getPrivate()).iadd(fe));if(fi=fi.umod(this.n),fi.cmpn(0)!==0){var gi=(si.getY().isOdd()?1:0)|(ai.cmp(Gr)!==0?2:0);return wr.canonical&&fi.cmp(this.nh)>0&&(fi=this.n.sub(fi),gi^=1),new ye({r:Gr,s:fi,recoveryParam:gi})}}}}}},Ee.prototype.verify=function(fe,xe,br,wr){fe=this._truncateToN(new r(fe,16)),br=this.keyFromPublic(br,wr),xe=new ye(xe,"hex");var kr=xe.r,Vr=xe.s;if(kr.cmpn(1)<0||kr.cmp(this.n)>=0||Vr.cmpn(1)<0||Vr.cmp(this.n)>=0)return!1;var Zr=Vr.invm(this.n),Qr=Zr.mul(fe).umod(this.n),Yr=Zr.mul(kr).umod(this.n),ii;return this.curve._maxwellTrick?(ii=this.g.jmulAdd(Qr,br.getPublic(),Yr),ii.isInfinity()?!1:ii.eqXToP(kr)):(ii=this.g.mulAdd(Qr,br.getPublic(),Yr),ii.isInfinity()?!1:ii.getX().umod(this.n).cmp(kr)===0)},Ee.prototype.recoverPubKey=function(me,fe,xe,br){o((3&xe)===xe,"The recovery param is more than two bits"),fe=new ye(fe,br);var wr=this.n,kr=new r(me),Vr=fe.r,Zr=fe.s,Qr=xe&1,Yr=xe>>1;if(Vr.cmp(this.curve.p.umod(this.curve.n))>=0&&Yr)throw new Error("Unable to find sencond key candinate");Yr?Vr=this.curve.pointFromX(Vr.add(this.curve.n),Qr):Vr=this.curve.pointFromX(Vr,Qr);var ii=fe.r.invm(wr),ei=wr.sub(kr).mul(ii).umod(wr),si=Zr.mul(ii).umod(wr);return this.g.mulAdd(ei,Vr,si)},Ee.prototype.getKeyRecoveryParam=function(me,fe,xe,br){if(fe=new ye(fe,br),fe.recoveryParam!==null)return fe.recoveryParam;for(var wr=0;wr<4;wr++){var kr;try{kr=this.recoverPubKey(me,fe,wr)}catch{continue}if(kr.eq(xe))return wr}throw new Error("Unable to find valid recovery factor")},ec}var key,hasRequiredKey;function requireKey(){if(hasRequiredKey)return key;hasRequiredKey=1;var r=requireUtils$2(),e=r.assert,t=r.parseBytes,s=r.cachedProperty;function ne(o,we){this.eddsa=o,this._secret=t(we.secret),o.isPoint(we.pub)?this._pub=we.pub:this._pubBytes=t(we.pub)}return ne.fromPublic=function(we,ye){return ye instanceof ne?ye:new ne(we,{pub:ye})},ne.fromSecret=function(we,ye){return ye instanceof ne?ye:new ne(we,{secret:ye})},ne.prototype.secret=function(){return this._secret},s(ne,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),s(ne,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),s(ne,"privBytes",function(){var we=this.eddsa,ye=this.hash(),Ee=we.encodingLength-1,me=ye.slice(0,we.encodingLength);return me[0]&=248,me[Ee]&=127,me[Ee]|=64,me}),s(ne,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),s(ne,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),s(ne,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),ne.prototype.sign=function(we){return e(this._secret,"KeyPair can only verify"),this.eddsa.sign(we,this)},ne.prototype.verify=function(we,ye){return this.eddsa.verify(we,ye,this)},ne.prototype.getSecret=function(we){return e(this._secret,"KeyPair is public only"),r.encode(this.secret(),we)},ne.prototype.getPublic=function(we){return r.encode(this.pubBytes(),we)},key=ne,key}var signature,hasRequiredSignature;function requireSignature(){if(hasRequiredSignature)return signature;hasRequiredSignature=1;var r=requireBn$2(),e=requireUtils$2(),t=e.assert,s=e.cachedProperty,ne=e.parseBytes;function o(we,ye){this.eddsa=we,typeof ye!="object"&&(ye=ne(ye)),Array.isArray(ye)&&(ye={R:ye.slice(0,we.encodingLength),S:ye.slice(we.encodingLength)}),t(ye.R&&ye.S,"Signature without R or S"),we.isPoint(ye.R)&&(this._R=ye.R),ye.S instanceof r&&(this._S=ye.S),this._Rencoded=Array.isArray(ye.R)?ye.R:ye.Rencoded,this._Sencoded=Array.isArray(ye.S)?ye.S:ye.Sencoded}return s(o,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),s(o,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),s(o,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),s(o,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),o.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},o.prototype.toHex=function(){return e.encode(this.toBytes(),"hex").toUpperCase()},signature=o,signature}var eddsa,hasRequiredEddsa;function requireEddsa(){if(hasRequiredEddsa)return eddsa;hasRequiredEddsa=1;var r=requireHash(),e=requireCurves(),t=requireUtils$2(),s=t.assert,ne=t.parseBytes,o=requireKey(),we=requireSignature();function ye(Ee){if(s(Ee==="ed25519","only tested with ed25519 so far"),!(this instanceof ye))return new ye(Ee);Ee=e[Ee].curve,this.curve=Ee,this.g=Ee.g,this.g.precompute(Ee.n.bitLength()+1),this.pointClass=Ee.point().constructor,this.encodingLength=Math.ceil(Ee.n.bitLength()/8),this.hash=r.sha512}return eddsa=ye,ye.prototype.sign=function(me,fe){me=ne(me);var xe=this.keyFromSecret(fe),br=this.hashInt(xe.messagePrefix(),me),wr=this.g.mul(br),kr=this.encodePoint(wr),Vr=this.hashInt(kr,xe.pubBytes(),me).mul(xe.priv()),Zr=br.add(Vr).umod(this.curve.n);return this.makeSignature({R:wr,S:Zr,Rencoded:kr})},ye.prototype.verify=function(me,fe,xe){me=ne(me),fe=this.makeSignature(fe);var br=this.keyFromPublic(xe),wr=this.hashInt(fe.Rencoded(),br.pubBytes(),me),kr=this.g.mul(fe.S()),Vr=fe.R().add(br.pub().mul(wr));return Vr.eq(kr)},ye.prototype.hashInt=function(){for(var me=this.hash(),fe=0;fe<arguments.length;fe++)me.update(arguments[fe]);return t.intFromLE(me.digest()).umod(this.curve.n)},ye.prototype.keyFromPublic=function(me){return o.fromPublic(this,me)},ye.prototype.keyFromSecret=function(me){return o.fromSecret(this,me)},ye.prototype.makeSignature=function(me){return me instanceof we?me:new we(this,me)},ye.prototype.encodePoint=function(me){var fe=me.getY().toArray("le",this.encodingLength);return fe[this.encodingLength-1]|=me.getX().isOdd()?128:0,fe},ye.prototype.decodePoint=function(me){me=t.parseBytes(me);var fe=me.length-1,xe=me.slice(0,fe).concat(me[fe]&-129),br=(me[fe]&128)!==0,wr=t.intFromLE(xe);return this.curve.pointFromY(wr,br)},ye.prototype.encodeInt=function(me){return me.toArray("le",this.encodingLength)},ye.prototype.decodeInt=function(me){return t.intFromLE(me)},ye.prototype.isPoint=function(me){return me instanceof this.pointClass},eddsa}var hasRequiredElliptic;function requireElliptic(){return hasRequiredElliptic||(hasRequiredElliptic=1,function(r){var e=r;e.version=require$$0$5.version,e.utils=requireUtils$2(),e.rand=requireBrorand(),e.curve=requireCurve(),e.curves=requireCurves(),e.ec=requireEc(),e.eddsa=requireEddsa()}(elliptic)),elliptic}var bn={exports:{}};bn.exports;var hasRequiredBn;function requireBn(){return hasRequiredBn||(hasRequiredBn=1,function(r){(function(e,t){function s(Ie,C){if(!Ie)throw new Error(C||"Assertion failed")}function ne(Ie,C){Ie.super_=C;var be=function(){};be.prototype=C.prototype,Ie.prototype=new be,Ie.prototype.constructor=Ie}function o(Ie,C,be){if(o.isBN(Ie))return Ie;this.negative=0,this.words=null,this.length=0,this.red=null,Ie!==null&&((C==="le"||C==="be")&&(be=C,C=10),this._init(Ie||0,C||10,be||"be"))}typeof e=="object"?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;var we;try{typeof window<"u"&&typeof window.Buffer<"u"?we=window.Buffer:we=require$$1$2.Buffer}catch{}o.isBN=function(C){return C instanceof o?!0:C!==null&&typeof C=="object"&&C.constructor.wordSize===o.wordSize&&Array.isArray(C.words)},o.max=function(C,be){return C.cmp(be)>0?C:be},o.min=function(C,be){return C.cmp(be)<0?C:be},o.prototype._init=function(C,be,Oe){if(typeof C=="number")return this._initNumber(C,be,Oe);if(typeof C=="object")return this._initArray(C,be,Oe);be==="hex"&&(be=16),s(be===(be|0)&&be>=2&&be<=36),C=C.toString().replace(/\s+/g,"");var fr=0;C[0]==="-"&&(fr++,this.negative=1),fr<C.length&&(be===16?this._parseHex(C,fr,Oe):(this._parseBase(C,be,fr),Oe==="le"&&this._initArray(this.toArray(),be,Oe)))},o.prototype._initNumber=function(C,be,Oe){C<0&&(this.negative=1,C=-C),C<67108864?(this.words=[C&67108863],this.length=1):C<4503599627370496?(this.words=[C&67108863,C/67108864&67108863],this.length=2):(s(C<9007199254740992),this.words=[C&67108863,C/67108864&67108863,1],this.length=3),Oe==="le"&&this._initArray(this.toArray(),be,Oe)},o.prototype._initArray=function(C,be,Oe){if(s(typeof C.length=="number"),C.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(C.length/3),this.words=new Array(this.length);for(var fr=0;fr<this.length;fr++)this.words[fr]=0;var qr,Hr,Er=0;if(Oe==="be")for(fr=C.length-1,qr=0;fr>=0;fr-=3)Hr=C[fr]|C[fr-1]<<8|C[fr-2]<<16,this.words[qr]|=Hr<<Er&67108863,this.words[qr+1]=Hr>>>26-Er&67108863,Er+=24,Er>=26&&(Er-=26,qr++);else if(Oe==="le")for(fr=0,qr=0;fr<C.length;fr+=3)Hr=C[fr]|C[fr+1]<<8|C[fr+2]<<16,this.words[qr]|=Hr<<Er&67108863,this.words[qr+1]=Hr>>>26-Er&67108863,Er+=24,Er>=26&&(Er-=26,qr++);return this._strip()};function ye(Ie,C){var be=Ie.charCodeAt(C);if(be>=48&&be<=57)return be-48;if(be>=65&&be<=70)return be-55;if(be>=97&&be<=102)return be-87;s(!1,"Invalid character in "+Ie)}function Ee(Ie,C,be){var Oe=ye(Ie,be);return be-1>=C&&(Oe|=ye(Ie,be-1)<<4),Oe}o.prototype._parseHex=function(C,be,Oe){this.length=Math.ceil((C.length-be)/6),this.words=new Array(this.length);for(var fr=0;fr<this.length;fr++)this.words[fr]=0;var qr=0,Hr=0,Er;if(Oe==="be")for(fr=C.length-1;fr>=be;fr-=2)Er=Ee(C,be,fr)<<qr,this.words[Hr]|=Er&67108863,qr>=18?(qr-=18,Hr+=1,this.words[Hr]|=Er>>>26):qr+=8;else{var jr=C.length-be;for(fr=jr%2===0?be+1:be;fr<C.length;fr+=2)Er=Ee(C,be,fr)<<qr,this.words[Hr]|=Er&67108863,qr>=18?(qr-=18,Hr+=1,this.words[Hr]|=Er>>>26):qr+=8}this._strip()};function me(Ie,C,be,Oe){for(var fr=0,qr=0,Hr=Math.min(Ie.length,be),Er=C;Er<Hr;Er++){var jr=Ie.charCodeAt(Er)-48;fr*=Oe,jr>=49?qr=jr-49+10:jr>=17?qr=jr-17+10:qr=jr,s(jr>=0&&qr<Oe,"Invalid character"),fr+=qr}return fr}o.prototype._parseBase=function(C,be,Oe){this.words=[0],this.length=1;for(var fr=0,qr=1;qr<=67108863;qr*=be)fr++;fr--,qr=qr/be|0;for(var Hr=C.length-Oe,Er=Hr%fr,jr=Math.min(Hr,Hr-Er)+Oe,Se=0,Wr=Oe;Wr<jr;Wr+=fr)Se=me(C,Wr,Wr+fr,be),this.imuln(qr),this.words[0]+Se<67108864?this.words[0]+=Se:this._iaddn(Se);if(Er!==0){var bi=1;for(Se=me(C,Wr,C.length,be),Wr=0;Wr<Er;Wr++)bi*=be;this.imuln(bi),this.words[0]+Se<67108864?this.words[0]+=Se:this._iaddn(Se)}this._strip()},o.prototype.copy=function(C){C.words=new Array(this.length);for(var be=0;be<this.length;be++)C.words[be]=this.words[be];C.length=this.length,C.negative=this.negative,C.red=this.red};function fe(Ie,C){Ie.words=C.words,Ie.length=C.length,Ie.negative=C.negative,Ie.red=C.red}if(o.prototype._move=function(C){fe(C,this)},o.prototype.clone=function(){var C=new o(null);return this.copy(C),C},o.prototype._expand=function(C){for(;this.length<C;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=xe}catch{o.prototype.inspect=xe}else o.prototype.inspect=xe;function xe(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var br=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],wr=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],kr=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(C,be){C=C||10,be=be|0||1;var Oe;if(C===16||C==="hex"){Oe="";for(var fr=0,qr=0,Hr=0;Hr<this.length;Hr++){var Er=this.words[Hr],jr=((Er<<fr|qr)&16777215).toString(16);qr=Er>>>24-fr&16777215,fr+=2,fr>=26&&(fr-=26,Hr--),qr!==0||Hr!==this.length-1?Oe=br[6-jr.length]+jr+Oe:Oe=jr+Oe}for(qr!==0&&(Oe=qr.toString(16)+Oe);Oe.length%be!==0;)Oe="0"+Oe;return this.negative!==0&&(Oe="-"+Oe),Oe}if(C===(C|0)&&C>=2&&C<=36){var Se=wr[C],Wr=kr[C];Oe="";var bi=this.clone();for(bi.negative=0;!bi.isZero();){var vi=bi.modrn(Wr).toString(C);bi=bi.idivn(Wr),bi.isZero()?Oe=vi+Oe:Oe=br[Se-vi.length]+vi+Oe}for(this.isZero()&&(Oe="0"+Oe);Oe.length%be!==0;)Oe="0"+Oe;return this.negative!==0&&(Oe="-"+Oe),Oe}s(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var C=this.words[0];return this.length===2?C+=this.words[1]*67108864:this.length===3&&this.words[2]===1?C+=4503599627370496+this.words[1]*67108864:this.length>2&&s(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-C:C},o.prototype.toJSON=function(){return this.toString(16,2)},we&&(o.prototype.toBuffer=function(C,be){return this.toArrayLike(we,C,be)}),o.prototype.toArray=function(C,be){return this.toArrayLike(Array,C,be)};var Vr=function(C,be){return C.allocUnsafe?C.allocUnsafe(be):new C(be)};o.prototype.toArrayLike=function(C,be,Oe){this._strip();var fr=this.byteLength(),qr=Oe||Math.max(1,fr);s(fr<=qr,"byte array longer than desired length"),s(qr>0,"Requested array length <= 0");var Hr=Vr(C,qr),Er=be==="le"?"LE":"BE";return this["_toArrayLike"+Er](Hr,fr),Hr},o.prototype._toArrayLikeLE=function(C,be){for(var Oe=0,fr=0,qr=0,Hr=0;qr<this.length;qr++){var Er=this.words[qr]<<Hr|fr;C[Oe++]=Er&255,Oe<C.length&&(C[Oe++]=Er>>8&255),Oe<C.length&&(C[Oe++]=Er>>16&255),Hr===6?(Oe<C.length&&(C[Oe++]=Er>>24&255),fr=0,Hr=0):(fr=Er>>>24,Hr+=2)}if(Oe<C.length)for(C[Oe++]=fr;Oe<C.length;)C[Oe++]=0},o.prototype._toArrayLikeBE=function(C,be){for(var Oe=C.length-1,fr=0,qr=0,Hr=0;qr<this.length;qr++){var Er=this.words[qr]<<Hr|fr;C[Oe--]=Er&255,Oe>=0&&(C[Oe--]=Er>>8&255),Oe>=0&&(C[Oe--]=Er>>16&255),Hr===6?(Oe>=0&&(C[Oe--]=Er>>24&255),fr=0,Hr=0):(fr=Er>>>24,Hr+=2)}if(Oe>=0)for(C[Oe--]=fr;Oe>=0;)C[Oe--]=0},Math.clz32?o.prototype._countBits=function(C){return 32-Math.clz32(C)}:o.prototype._countBits=function(C){var be=C,Oe=0;return be>=4096&&(Oe+=13,be>>>=13),be>=64&&(Oe+=7,be>>>=7),be>=8&&(Oe+=4,be>>>=4),be>=2&&(Oe+=2,be>>>=2),Oe+be},o.prototype._zeroBits=function(C){if(C===0)return 26;var be=C,Oe=0;return be&8191||(Oe+=13,be>>>=13),be&127||(Oe+=7,be>>>=7),be&15||(Oe+=4,be>>>=4),be&3||(Oe+=2,be>>>=2),be&1||Oe++,Oe},o.prototype.bitLength=function(){var C=this.words[this.length-1],be=this._countBits(C);return(this.length-1)*26+be};function Zr(Ie){for(var C=new Array(Ie.bitLength()),be=0;be<C.length;be++){var Oe=be/26|0,fr=be%26;C[be]=Ie.words[Oe]>>>fr&1}return C}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var C=0,be=0;be<this.length;be++){var Oe=this._zeroBits(this.words[be]);if(C+=Oe,Oe!==26)break}return C},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(C){return this.negative!==0?this.abs().inotn(C).iaddn(1):this.clone()},o.prototype.fromTwos=function(C){return this.testn(C-1)?this.notn(C).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(C){for(;this.length<C.length;)this.words[this.length++]=0;for(var be=0;be<C.length;be++)this.words[be]=this.words[be]|C.words[be];return this._strip()},o.prototype.ior=function(C){return s((this.negative|C.negative)===0),this.iuor(C)},o.prototype.or=function(C){return this.length>C.length?this.clone().ior(C):C.clone().ior(this)},o.prototype.uor=function(C){return this.length>C.length?this.clone().iuor(C):C.clone().iuor(this)},o.prototype.iuand=function(C){var be;this.length>C.length?be=C:be=this;for(var Oe=0;Oe<be.length;Oe++)this.words[Oe]=this.words[Oe]&C.words[Oe];return this.length=be.length,this._strip()},o.prototype.iand=function(C){return s((this.negative|C.negative)===0),this.iuand(C)},o.prototype.and=function(C){return this.length>C.length?this.clone().iand(C):C.clone().iand(this)},o.prototype.uand=function(C){return this.length>C.length?this.clone().iuand(C):C.clone().iuand(this)},o.prototype.iuxor=function(C){var be,Oe;this.length>C.length?(be=this,Oe=C):(be=C,Oe=this);for(var fr=0;fr<Oe.length;fr++)this.words[fr]=be.words[fr]^Oe.words[fr];if(this!==be)for(;fr<be.length;fr++)this.words[fr]=be.words[fr];return this.length=be.length,this._strip()},o.prototype.ixor=function(C){return s((this.negative|C.negative)===0),this.iuxor(C)},o.prototype.xor=function(C){return this.length>C.length?this.clone().ixor(C):C.clone().ixor(this)},o.prototype.uxor=function(C){return this.length>C.length?this.clone().iuxor(C):C.clone().iuxor(this)},o.prototype.inotn=function(C){s(typeof C=="number"&&C>=0);var be=Math.ceil(C/26)|0,Oe=C%26;this._expand(be),Oe>0&&be--;for(var fr=0;fr<be;fr++)this.words[fr]=~this.words[fr]&67108863;return Oe>0&&(this.words[fr]=~this.words[fr]&67108863>>26-Oe),this._strip()},o.prototype.notn=function(C){return this.clone().inotn(C)},o.prototype.setn=function(C,be){s(typeof C=="number"&&C>=0);var Oe=C/26|0,fr=C%26;return this._expand(Oe+1),be?this.words[Oe]=this.words[Oe]|1<<fr:this.words[Oe]=this.words[Oe]&~(1<<fr),this._strip()},o.prototype.iadd=function(C){var be;if(this.negative!==0&&C.negative===0)return this.negative=0,be=this.isub(C),this.negative^=1,this._normSign();if(this.negative===0&&C.negative!==0)return C.negative=0,be=this.isub(C),C.negative=1,be._normSign();var Oe,fr;this.length>C.length?(Oe=this,fr=C):(Oe=C,fr=this);for(var qr=0,Hr=0;Hr<fr.length;Hr++)be=(Oe.words[Hr]|0)+(fr.words[Hr]|0)+qr,this.words[Hr]=be&67108863,qr=be>>>26;for(;qr!==0&&Hr<Oe.length;Hr++)be=(Oe.words[Hr]|0)+qr,this.words[Hr]=be&67108863,qr=be>>>26;if(this.length=Oe.length,qr!==0)this.words[this.length]=qr,this.length++;else if(Oe!==this)for(;Hr<Oe.length;Hr++)this.words[Hr]=Oe.words[Hr];return this},o.prototype.add=function(C){var be;return C.negative!==0&&this.negative===0?(C.negative=0,be=this.sub(C),C.negative^=1,be):C.negative===0&&this.negative!==0?(this.negative=0,be=C.sub(this),this.negative=1,be):this.length>C.length?this.clone().iadd(C):C.clone().iadd(this)},o.prototype.isub=function(C){if(C.negative!==0){C.negative=0;var be=this.iadd(C);return C.negative=1,be._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(C),this.negative=1,this._normSign();var Oe=this.cmp(C);if(Oe===0)return this.negative=0,this.length=1,this.words[0]=0,this;var fr,qr;Oe>0?(fr=this,qr=C):(fr=C,qr=this);for(var Hr=0,Er=0;Er<qr.length;Er++)be=(fr.words[Er]|0)-(qr.words[Er]|0)+Hr,Hr=be>>26,this.words[Er]=be&67108863;for(;Hr!==0&&Er<fr.length;Er++)be=(fr.words[Er]|0)+Hr,Hr=be>>26,this.words[Er]=be&67108863;if(Hr===0&&Er<fr.length&&fr!==this)for(;Er<fr.length;Er++)this.words[Er]=fr.words[Er];return this.length=Math.max(this.length,Er),fr!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(C){return this.clone().isub(C)};function Qr(Ie,C,be){be.negative=C.negative^Ie.negative;var Oe=Ie.length+C.length|0;be.length=Oe,Oe=Oe-1|0;var fr=Ie.words[0]|0,qr=C.words[0]|0,Hr=fr*qr,Er=Hr&67108863,jr=Hr/67108864|0;be.words[0]=Er;for(var Se=1;Se<Oe;Se++){for(var Wr=jr>>>26,bi=jr&67108863,vi=Math.min(Se,C.length-1),Ei=Math.max(0,Se-Ie.length+1);Ei<=vi;Ei++){var ti=Se-Ei|0;fr=Ie.words[ti]|0,qr=C.words[Ei]|0,Hr=fr*qr+bi,Wr+=Hr/67108864|0,bi=Hr&67108863}be.words[Se]=bi|0,jr=Wr|0}return jr!==0?be.words[Se]=jr|0:be.length--,be._strip()}var Yr=function(C,be,Oe){var fr=C.words,qr=be.words,Hr=Oe.words,Er=0,jr,Se,Wr,bi=fr[0]|0,vi=bi&8191,Ei=bi>>>13,ti=fr[1]|0,ri=ti&8191,ci=ti>>>13,Jr=fr[2]|0,li=Jr&8191,yi=Jr>>>13,$i=fr[3]|0,Ni=$i&8191,Bi=$i>>>13,zn=fr[4]|0,zi=zn&8191,Ki=zn>>>13,la=fr[5]|0,Vi=la&8191,Ii=la>>>13,Nn=fr[6]|0,ki=Nn&8191,Ai=Nn>>>13,In=fr[7]|0,wn=In&8191,qi=In>>>13,Yn=fr[8]|0,$n=Yn&8191,Oi=Yn>>>13,fa=fr[9]|0,Pn=fa&8191,Li=fa>>>13,ca=qr[0]|0,Cn=ca&8191,On=ca>>>13,Ua=qr[1]|0,da=Ua&8191,Tn=Ua>>>13,Ha=qr[2]|0,pa=Ha&8191,ea=Ha>>>13,wa=qr[3]|0,ta=wa&8191,En=wa>>>13,_a=qr[4]|0,ra=_a&8191,_n=_a>>>13,Aa=qr[5]|0,oa=Aa&8191,Sn=Aa>>>13,qa=qr[6]|0,na=qa&8191,Rn=qa>>>13,Ma=qr[7]|0,Zn=Ma&8191,An=Ma>>>13,Pa=qr[8]|0,Da=Pa&8191,aa=Pa>>>13,Ja=qr[9]|0,ha=Ja&8191,$a=Ja>>>13;Oe.negative=C.negative^be.negative,Oe.length=19,jr=Math.imul(vi,Cn),Se=Math.imul(vi,On),Se=Se+Math.imul(Ei,Cn)|0,Wr=Math.imul(Ei,On);var Do=(Er+jr|0)+((Se&8191)<<13)|0;Er=(Wr+(Se>>>13)|0)+(Do>>>26)|0,Do&=67108863,jr=Math.imul(ri,Cn),Se=Math.imul(ri,On),Se=Se+Math.imul(ci,Cn)|0,Wr=Math.imul(ci,On),jr=jr+Math.imul(vi,da)|0,Se=Se+Math.imul(vi,Tn)|0,Se=Se+Math.imul(Ei,da)|0,Wr=Wr+Math.imul(Ei,Tn)|0;var Io=(Er+jr|0)+((Se&8191)<<13)|0;Er=(Wr+(Se>>>13)|0)+(Io>>>26)|0,Io&=67108863,jr=Math.imul(li,Cn),Se=Math.imul(li,On),Se=Se+Math.imul(yi,Cn)|0,Wr=Math.imul(yi,On),jr=jr+Math.imul(ri,da)|0,Se=Se+Math.imul(ri,Tn)|0,Se=Se+Math.imul(ci,da)|0,Wr=Wr+Math.imul(ci,Tn)|0,jr=jr+Math.imul(vi,pa)|0,Se=Se+Math.imul(vi,ea)|0,Se=Se+Math.imul(Ei,pa)|0,Wr=Wr+Math.imul(Ei,ea)|0;var Ao=(Er+jr|0)+((Se&8191)<<13)|0;Er=(Wr+(Se>>>13)|0)+(Ao>>>26)|0,Ao&=67108863,jr=Math.imul(Ni,Cn),Se=Math.imul(Ni,On),Se=Se+Math.imul(Bi,Cn)|0,Wr=Math.imul(Bi,On),jr=jr+Math.imul(li,da)|0,Se=Se+Math.imul(li,Tn)|0,Se=Se+Math.imul(yi,da)|0,Wr=Wr+Math.imul(yi,Tn)|0,jr=jr+Math.imul(ri,pa)|0,Se=Se+Math.imul(ri,ea)|0,Se=Se+Math.imul(ci,pa)|0,Wr=Wr+Math.imul(ci,ea)|0,jr=jr+Math.imul(vi,ta)|0,Se=Se+Math.imul(vi,En)|0,Se=Se+Math.imul(Ei,ta)|0,Wr=Wr+Math.imul(Ei,En)|0;var qo=(Er+jr|0)+((Se&8191)<<13)|0;Er=(Wr+(Se>>>13)|0)+(qo>>>26)|0,qo&=67108863,jr=Math.imul(zi,Cn),Se=Math.imul(zi,On),Se=Se+Math.imul(Ki,Cn)|0,Wr=Math.imul(Ki,On),jr=jr+Math.imul(Ni,da)|0,Se=Se+Math.imul(Ni,Tn)|0,Se=Se+Math.imul(Bi,da)|0,Wr=Wr+Math.imul(Bi,Tn)|0,jr=jr+Math.imul(li,pa)|0,Se=Se+Math.imul(li,ea)|0,Se=Se+Math.imul(yi,pa)|0,Wr=Wr+Math.imul(yi,ea)|0,jr=jr+Math.imul(ri,ta)|0,Se=Se+Math.imul(ri,En)|0,Se=Se+Math.imul(ci,ta)|0,Wr=Wr+Math.imul(ci,En)|0,jr=jr+Math.imul(vi,ra)|0,Se=Se+Math.imul(vi,_n)|0,Se=Se+Math.imul(Ei,ra)|0,Wr=Wr+Math.imul(Ei,_n)|0;var co=(Er+jr|0)+((Se&8191)<<13)|0;Er=(Wr+(Se>>>13)|0)+(co>>>26)|0,co&=67108863,jr=Math.imul(Vi,Cn),Se=Math.imul(Vi,On),Se=Se+Math.imul(Ii,Cn)|0,Wr=Math.imul(Ii,On),jr=jr+Math.imul(zi,da)|0,Se=Se+Math.imul(zi,Tn)|0,Se=Se+Math.imul(Ki,da)|0,Wr=Wr+Math.imul(Ki,Tn)|0,jr=jr+Math.imul(Ni,pa)|0,Se=Se+Math.imul(Ni,ea)|0,Se=Se+Math.imul(Bi,pa)|0,Wr=Wr+Math.imul(Bi,ea)|0,jr=jr+Math.imul(li,ta)|0,Se=Se+Math.imul(li,En)|0,Se=Se+Math.imul(yi,ta)|0,Wr=Wr+Math.imul(yi,En)|0,jr=jr+Math.imul(ri,ra)|0,Se=Se+Math.imul(ri,_n)|0,Se=Se+Math.imul(ci,ra)|0,Wr=Wr+Math.imul(ci,_n)|0,jr=jr+Math.imul(vi,oa)|0,Se=Se+Math.imul(vi,Sn)|0,Se=Se+Math.imul(Ei,oa)|0,Wr=Wr+Math.imul(Ei,Sn)|0;var mo=(Er+jr|0)+((Se&8191)<<13)|0;Er=(Wr+(Se>>>13)|0)+(mo>>>26)|0,mo&=67108863,jr=Math.imul(ki,Cn),Se=Math.imul(ki,On),Se=Se+Math.imul(Ai,Cn)|0,Wr=Math.imul(Ai,On),jr=jr+Math.imul(Vi,da)|0,Se=Se+Math.imul(Vi,Tn)|0,Se=Se+Math.imul(Ii,da)|0,Wr=Wr+Math.imul(Ii,Tn)|0,jr=jr+Math.imul(zi,pa)|0,Se=Se+Math.imul(zi,ea)|0,Se=Se+Math.imul(Ki,pa)|0,Wr=Wr+Math.imul(Ki,ea)|0,jr=jr+Math.imul(Ni,ta)|0,Se=Se+Math.imul(Ni,En)|0,Se=Se+Math.imul(Bi,ta)|0,Wr=Wr+Math.imul(Bi,En)|0,jr=jr+Math.imul(li,ra)|0,Se=Se+Math.imul(li,_n)|0,Se=Se+Math.imul(yi,ra)|0,Wr=Wr+Math.imul(yi,_n)|0,jr=jr+Math.imul(ri,oa)|0,Se=Se+Math.imul(ri,Sn)|0,Se=Se+Math.imul(ci,oa)|0,Wr=Wr+Math.imul(ci,Sn)|0,jr=jr+Math.imul(vi,na)|0,Se=Se+Math.imul(vi,Rn)|0,Se=Se+Math.imul(Ei,na)|0,Wr=Wr+Math.imul(Ei,Rn)|0;var Po=(Er+jr|0)+((Se&8191)<<13)|0;Er=(Wr+(Se>>>13)|0)+(Po>>>26)|0,Po&=67108863,jr=Math.imul(wn,Cn),Se=Math.imul(wn,On),Se=Se+Math.imul(qi,Cn)|0,Wr=Math.imul(qi,On),jr=jr+Math.imul(ki,da)|0,Se=Se+Math.imul(ki,Tn)|0,Se=Se+Math.imul(Ai,da)|0,Wr=Wr+Math.imul(Ai,Tn)|0,jr=jr+Math.imul(Vi,pa)|0,Se=Se+Math.imul(Vi,ea)|0,Se=Se+Math.imul(Ii,pa)|0,Wr=Wr+Math.imul(Ii,ea)|0,jr=jr+Math.imul(zi,ta)|0,Se=Se+Math.imul(zi,En)|0,Se=Se+Math.imul(Ki,ta)|0,Wr=Wr+Math.imul(Ki,En)|0,jr=jr+Math.imul(Ni,ra)|0,Se=Se+Math.imul(Ni,_n)|0,Se=Se+Math.imul(Bi,ra)|0,Wr=Wr+Math.imul(Bi,_n)|0,jr=jr+Math.imul(li,oa)|0,Se=Se+Math.imul(li,Sn)|0,Se=Se+Math.imul(yi,oa)|0,Wr=Wr+Math.imul(yi,Sn)|0,jr=jr+Math.imul(ri,na)|0,Se=Se+Math.imul(ri,Rn)|0,Se=Se+Math.imul(ci,na)|0,Wr=Wr+Math.imul(ci,Rn)|0,jr=jr+Math.imul(vi,Zn)|0,Se=Se+Math.imul(vi,An)|0,Se=Se+Math.imul(Ei,Zn)|0,Wr=Wr+Math.imul(Ei,An)|0;var yo=(Er+jr|0)+((Se&8191)<<13)|0;Er=(Wr+(Se>>>13)|0)+(yo>>>26)|0,yo&=67108863,jr=Math.imul($n,Cn),Se=Math.imul($n,On),Se=Se+Math.imul(Oi,Cn)|0,Wr=Math.imul(Oi,On),jr=jr+Math.imul(wn,da)|0,Se=Se+Math.imul(wn,Tn)|0,Se=Se+Math.imul(qi,da)|0,Wr=Wr+Math.imul(qi,Tn)|0,jr=jr+Math.imul(ki,pa)|0,Se=Se+Math.imul(ki,ea)|0,Se=Se+Math.imul(Ai,pa)|0,Wr=Wr+Math.imul(Ai,ea)|0,jr=jr+Math.imul(Vi,ta)|0,Se=Se+Math.imul(Vi,En)|0,Se=Se+Math.imul(Ii,ta)|0,Wr=Wr+Math.imul(Ii,En)|0,jr=jr+Math.imul(zi,ra)|0,Se=Se+Math.imul(zi,_n)|0,Se=Se+Math.imul(Ki,ra)|0,Wr=Wr+Math.imul(Ki,_n)|0,jr=jr+Math.imul(Ni,oa)|0,Se=Se+Math.imul(Ni,Sn)|0,Se=Se+Math.imul(Bi,oa)|0,Wr=Wr+Math.imul(Bi,Sn)|0,jr=jr+Math.imul(li,na)|0,Se=Se+Math.imul(li,Rn)|0,Se=Se+Math.imul(yi,na)|0,Wr=Wr+Math.imul(yi,Rn)|0,jr=jr+Math.imul(ri,Zn)|0,Se=Se+Math.imul(ri,An)|0,Se=Se+Math.imul(ci,Zn)|0,Wr=Wr+Math.imul(ci,An)|0,jr=jr+Math.imul(vi,Da)|0,Se=Se+Math.imul(vi,aa)|0,Se=Se+Math.imul(Ei,Da)|0,Wr=Wr+Math.imul(Ei,aa)|0;var Co=(Er+jr|0)+((Se&8191)<<13)|0;Er=(Wr+(Se>>>13)|0)+(Co>>>26)|0,Co&=67108863,jr=Math.imul(Pn,Cn),Se=Math.imul(Pn,On),Se=Se+Math.imul(Li,Cn)|0,Wr=Math.imul(Li,On),jr=jr+Math.imul($n,da)|0,Se=Se+Math.imul($n,Tn)|0,Se=Se+Math.imul(Oi,da)|0,Wr=Wr+Math.imul(Oi,Tn)|0,jr=jr+Math.imul(wn,pa)|0,Se=Se+Math.imul(wn,ea)|0,Se=Se+Math.imul(qi,pa)|0,Wr=Wr+Math.imul(qi,ea)|0,jr=jr+Math.imul(ki,ta)|0,Se=Se+Math.imul(ki,En)|0,Se=Se+Math.imul(Ai,ta)|0,Wr=Wr+Math.imul(Ai,En)|0,jr=jr+Math.imul(Vi,ra)|0,Se=Se+Math.imul(Vi,_n)|0,Se=Se+Math.imul(Ii,ra)|0,Wr=Wr+Math.imul(Ii,_n)|0,jr=jr+Math.imul(zi,oa)|0,Se=Se+Math.imul(zi,Sn)|0,Se=Se+Math.imul(Ki,oa)|0,Wr=Wr+Math.imul(Ki,Sn)|0,jr=jr+Math.imul(Ni,na)|0,Se=Se+Math.imul(Ni,Rn)|0,Se=Se+Math.imul(Bi,na)|0,Wr=Wr+Math.imul(Bi,Rn)|0,jr=jr+Math.imul(li,Zn)|0,Se=Se+Math.imul(li,An)|0,Se=Se+Math.imul(yi,Zn)|0,Wr=Wr+Math.imul(yi,An)|0,jr=jr+Math.imul(ri,Da)|0,Se=Se+Math.imul(ri,aa)|0,Se=Se+Math.imul(ci,Da)|0,Wr=Wr+Math.imul(ci,aa)|0,jr=jr+Math.imul(vi,ha)|0,Se=Se+Math.imul(vi,$a)|0,Se=Se+Math.imul(Ei,ha)|0,Wr=Wr+Math.imul(Ei,$a)|0;var Bo=(Er+jr|0)+((Se&8191)<<13)|0;Er=(Wr+(Se>>>13)|0)+(Bo>>>26)|0,Bo&=67108863,jr=Math.imul(Pn,da),Se=Math.imul(Pn,Tn),Se=Se+Math.imul(Li,da)|0,Wr=Math.imul(Li,Tn),jr=jr+Math.imul($n,pa)|0,Se=Se+Math.imul($n,ea)|0,Se=Se+Math.imul(Oi,pa)|0,Wr=Wr+Math.imul(Oi,ea)|0,jr=jr+Math.imul(wn,ta)|0,Se=Se+Math.imul(wn,En)|0,Se=Se+Math.imul(qi,ta)|0,Wr=Wr+Math.imul(qi,En)|0,jr=jr+Math.imul(ki,ra)|0,Se=Se+Math.imul(ki,_n)|0,Se=Se+Math.imul(Ai,ra)|0,Wr=Wr+Math.imul(Ai,_n)|0,jr=jr+Math.imul(Vi,oa)|0,Se=Se+Math.imul(Vi,Sn)|0,Se=Se+Math.imul(Ii,oa)|0,Wr=Wr+Math.imul(Ii,Sn)|0,jr=jr+Math.imul(zi,na)|0,Se=Se+Math.imul(zi,Rn)|0,Se=Se+Math.imul(Ki,na)|0,Wr=Wr+Math.imul(Ki,Rn)|0,jr=jr+Math.imul(Ni,Zn)|0,Se=Se+Math.imul(Ni,An)|0,Se=Se+Math.imul(Bi,Zn)|0,Wr=Wr+Math.imul(Bi,An)|0,jr=jr+Math.imul(li,Da)|0,Se=Se+Math.imul(li,aa)|0,Se=Se+Math.imul(yi,Da)|0,Wr=Wr+Math.imul(yi,aa)|0,jr=jr+Math.imul(ri,ha)|0,Se=Se+Math.imul(ri,$a)|0,Se=Se+Math.imul(ci,ha)|0,Wr=Wr+Math.imul(ci,$a)|0;var wo=(Er+jr|0)+((Se&8191)<<13)|0;Er=(Wr+(Se>>>13)|0)+(wo>>>26)|0,wo&=67108863,jr=Math.imul(Pn,pa),Se=Math.imul(Pn,ea),Se=Se+Math.imul(Li,pa)|0,Wr=Math.imul(Li,ea),jr=jr+Math.imul($n,ta)|0,Se=Se+Math.imul($n,En)|0,Se=Se+Math.imul(Oi,ta)|0,Wr=Wr+Math.imul(Oi,En)|0,jr=jr+Math.imul(wn,ra)|0,Se=Se+Math.imul(wn,_n)|0,Se=Se+Math.imul(qi,ra)|0,Wr=Wr+Math.imul(qi,_n)|0,jr=jr+Math.imul(ki,oa)|0,Se=Se+Math.imul(ki,Sn)|0,Se=Se+Math.imul(Ai,oa)|0,Wr=Wr+Math.imul(Ai,Sn)|0,jr=jr+Math.imul(Vi,na)|0,Se=Se+Math.imul(Vi,Rn)|0,Se=Se+Math.imul(Ii,na)|0,Wr=Wr+Math.imul(Ii,Rn)|0,jr=jr+Math.imul(zi,Zn)|0,Se=Se+Math.imul(zi,An)|0,Se=Se+Math.imul(Ki,Zn)|0,Wr=Wr+Math.imul(Ki,An)|0,jr=jr+Math.imul(Ni,Da)|0,Se=Se+Math.imul(Ni,aa)|0,Se=Se+Math.imul(Bi,Da)|0,Wr=Wr+Math.imul(Bi,aa)|0,jr=jr+Math.imul(li,ha)|0,Se=Se+Math.imul(li,$a)|0,Se=Se+Math.imul(yi,ha)|0,Wr=Wr+Math.imul(yi,$a)|0;var So=(Er+jr|0)+((Se&8191)<<13)|0;Er=(Wr+(Se>>>13)|0)+(So>>>26)|0,So&=67108863,jr=Math.imul(Pn,ta),Se=Math.imul(Pn,En),Se=Se+Math.imul(Li,ta)|0,Wr=Math.imul(Li,En),jr=jr+Math.imul($n,ra)|0,Se=Se+Math.imul($n,_n)|0,Se=Se+Math.imul(Oi,ra)|0,Wr=Wr+Math.imul(Oi,_n)|0,jr=jr+Math.imul(wn,oa)|0,Se=Se+Math.imul(wn,Sn)|0,Se=Se+Math.imul(qi,oa)|0,Wr=Wr+Math.imul(qi,Sn)|0,jr=jr+Math.imul(ki,na)|0,Se=Se+Math.imul(ki,Rn)|0,Se=Se+Math.imul(Ai,na)|0,Wr=Wr+Math.imul(Ai,Rn)|0,jr=jr+Math.imul(Vi,Zn)|0,Se=Se+Math.imul(Vi,An)|0,Se=Se+Math.imul(Ii,Zn)|0,Wr=Wr+Math.imul(Ii,An)|0,jr=jr+Math.imul(zi,Da)|0,Se=Se+Math.imul(zi,aa)|0,Se=Se+Math.imul(Ki,Da)|0,Wr=Wr+Math.imul(Ki,aa)|0,jr=jr+Math.imul(Ni,ha)|0,Se=Se+Math.imul(Ni,$a)|0,Se=Se+Math.imul(Bi,ha)|0,Wr=Wr+Math.imul(Bi,$a)|0;var Mo=(Er+jr|0)+((Se&8191)<<13)|0;Er=(Wr+(Se>>>13)|0)+(Mo>>>26)|0,Mo&=67108863,jr=Math.imul(Pn,ra),Se=Math.imul(Pn,_n),Se=Se+Math.imul(Li,ra)|0,Wr=Math.imul(Li,_n),jr=jr+Math.imul($n,oa)|0,Se=Se+Math.imul($n,Sn)|0,Se=Se+Math.imul(Oi,oa)|0,Wr=Wr+Math.imul(Oi,Sn)|0,jr=jr+Math.imul(wn,na)|0,Se=Se+Math.imul(wn,Rn)|0,Se=Se+Math.imul(qi,na)|0,Wr=Wr+Math.imul(qi,Rn)|0,jr=jr+Math.imul(ki,Zn)|0,Se=Se+Math.imul(ki,An)|0,Se=Se+Math.imul(Ai,Zn)|0,Wr=Wr+Math.imul(Ai,An)|0,jr=jr+Math.imul(Vi,Da)|0,Se=Se+Math.imul(Vi,aa)|0,Se=Se+Math.imul(Ii,Da)|0,Wr=Wr+Math.imul(Ii,aa)|0,jr=jr+Math.imul(zi,ha)|0,Se=Se+Math.imul(zi,$a)|0,Se=Se+Math.imul(Ki,ha)|0,Wr=Wr+Math.imul(Ki,$a)|0;var ao=(Er+jr|0)+((Se&8191)<<13)|0;Er=(Wr+(Se>>>13)|0)+(ao>>>26)|0,ao&=67108863,jr=Math.imul(Pn,oa),Se=Math.imul(Pn,Sn),Se=Se+Math.imul(Li,oa)|0,Wr=Math.imul(Li,Sn),jr=jr+Math.imul($n,na)|0,Se=Se+Math.imul($n,Rn)|0,Se=Se+Math.imul(Oi,na)|0,Wr=Wr+Math.imul(Oi,Rn)|0,jr=jr+Math.imul(wn,Zn)|0,Se=Se+Math.imul(wn,An)|0,Se=Se+Math.imul(qi,Zn)|0,Wr=Wr+Math.imul(qi,An)|0,jr=jr+Math.imul(ki,Da)|0,Se=Se+Math.imul(ki,aa)|0,Se=Se+Math.imul(Ai,Da)|0,Wr=Wr+Math.imul(Ai,aa)|0,jr=jr+Math.imul(Vi,ha)|0,Se=Se+Math.imul(Vi,$a)|0,Se=Se+Math.imul(Ii,ha)|0,Wr=Wr+Math.imul(Ii,$a)|0;var Oo=(Er+jr|0)+((Se&8191)<<13)|0;Er=(Wr+(Se>>>13)|0)+(Oo>>>26)|0,Oo&=67108863,jr=Math.imul(Pn,na),Se=Math.imul(Pn,Rn),Se=Se+Math.imul(Li,na)|0,Wr=Math.imul(Li,Rn),jr=jr+Math.imul($n,Zn)|0,Se=Se+Math.imul($n,An)|0,Se=Se+Math.imul(Oi,Zn)|0,Wr=Wr+Math.imul(Oi,An)|0,jr=jr+Math.imul(wn,Da)|0,Se=Se+Math.imul(wn,aa)|0,Se=Se+Math.imul(qi,Da)|0,Wr=Wr+Math.imul(qi,aa)|0,jr=jr+Math.imul(ki,ha)|0,Se=Se+Math.imul(ki,$a)|0,Se=Se+Math.imul(Ai,ha)|0,Wr=Wr+Math.imul(Ai,$a)|0;var To=(Er+jr|0)+((Se&8191)<<13)|0;Er=(Wr+(Se>>>13)|0)+(To>>>26)|0,To&=67108863,jr=Math.imul(Pn,Zn),Se=Math.imul(Pn,An),Se=Se+Math.imul(Li,Zn)|0,Wr=Math.imul(Li,An),jr=jr+Math.imul($n,Da)|0,Se=Se+Math.imul($n,aa)|0,Se=Se+Math.imul(Oi,Da)|0,Wr=Wr+Math.imul(Oi,aa)|0,jr=jr+Math.imul(wn,ha)|0,Se=Se+Math.imul(wn,$a)|0,Se=Se+Math.imul(qi,ha)|0,Wr=Wr+Math.imul(qi,$a)|0;var No=(Er+jr|0)+((Se&8191)<<13)|0;Er=(Wr+(Se>>>13)|0)+(No>>>26)|0,No&=67108863,jr=Math.imul(Pn,Da),Se=Math.imul(Pn,aa),Se=Se+Math.imul(Li,Da)|0,Wr=Math.imul(Li,aa),jr=jr+Math.imul($n,ha)|0,Se=Se+Math.imul($n,$a)|0,Se=Se+Math.imul(Oi,ha)|0,Wr=Wr+Math.imul(Oi,$a)|0;var cf=(Er+jr|0)+((Se&8191)<<13)|0;Er=(Wr+(Se>>>13)|0)+(cf>>>26)|0,cf&=67108863,jr=Math.imul(Pn,ha),Se=Math.imul(Pn,$a),Se=Se+Math.imul(Li,ha)|0,Wr=Math.imul(Li,$a);var Qo=(Er+jr|0)+((Se&8191)<<13)|0;return Er=(Wr+(Se>>>13)|0)+(Qo>>>26)|0,Qo&=67108863,Hr[0]=Do,Hr[1]=Io,Hr[2]=Ao,Hr[3]=qo,Hr[4]=co,Hr[5]=mo,Hr[6]=Po,Hr[7]=yo,Hr[8]=Co,Hr[9]=Bo,Hr[10]=wo,Hr[11]=So,Hr[12]=Mo,Hr[13]=ao,Hr[14]=Oo,Hr[15]=To,Hr[16]=No,Hr[17]=cf,Hr[18]=Qo,Er!==0&&(Hr[19]=Er,Oe.length++),Oe};Math.imul||(Yr=Qr);function ii(Ie,C,be){be.negative=C.negative^Ie.negative,be.length=Ie.length+C.length;for(var Oe=0,fr=0,qr=0;qr<be.length-1;qr++){var Hr=fr;fr=0;for(var Er=Oe&67108863,jr=Math.min(qr,C.length-1),Se=Math.max(0,qr-Ie.length+1);Se<=jr;Se++){var Wr=qr-Se,bi=Ie.words[Wr]|0,vi=C.words[Se]|0,Ei=bi*vi,ti=Ei&67108863;Hr=Hr+(Ei/67108864|0)|0,ti=ti+Er|0,Er=ti&67108863,Hr=Hr+(ti>>>26)|0,fr+=Hr>>>26,Hr&=67108863}be.words[qr]=Er,Oe=Hr,Hr=fr}return Oe!==0?be.words[qr]=Oe:be.length--,be._strip()}function ei(Ie,C,be){return ii(Ie,C,be)}o.prototype.mulTo=function(C,be){var Oe,fr=this.length+C.length;return this.length===10&&C.length===10?Oe=Yr(this,C,be):fr<63?Oe=Qr(this,C,be):fr<1024?Oe=ii(this,C,be):Oe=ei(this,C,be),Oe},o.prototype.mul=function(C){var be=new o(null);return be.words=new Array(this.length+C.length),this.mulTo(C,be)},o.prototype.mulf=function(C){var be=new o(null);return be.words=new Array(this.length+C.length),ei(this,C,be)},o.prototype.imul=function(C){return this.clone().mulTo(C,this)},o.prototype.imuln=function(C){var be=C<0;be&&(C=-C),s(typeof C=="number"),s(C<67108864);for(var Oe=0,fr=0;fr<this.length;fr++){var qr=(this.words[fr]|0)*C,Hr=(qr&67108863)+(Oe&67108863);Oe>>=26,Oe+=qr/67108864|0,Oe+=Hr>>>26,this.words[fr]=Hr&67108863}return Oe!==0&&(this.words[fr]=Oe,this.length++),be?this.ineg():this},o.prototype.muln=function(C){return this.clone().imuln(C)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(C){var be=Zr(C);if(be.length===0)return new o(1);for(var Oe=this,fr=0;fr<be.length&&be[fr]===0;fr++,Oe=Oe.sqr());if(++fr<be.length)for(var qr=Oe.sqr();fr<be.length;fr++,qr=qr.sqr())be[fr]!==0&&(Oe=Oe.mul(qr));return Oe},o.prototype.iushln=function(C){s(typeof C=="number"&&C>=0);var be=C%26,Oe=(C-be)/26,fr=67108863>>>26-be<<26-be,qr;if(be!==0){var Hr=0;for(qr=0;qr<this.length;qr++){var Er=this.words[qr]&fr,jr=(this.words[qr]|0)-Er<<be;this.words[qr]=jr|Hr,Hr=Er>>>26-be}Hr&&(this.words[qr]=Hr,this.length++)}if(Oe!==0){for(qr=this.length-1;qr>=0;qr--)this.words[qr+Oe]=this.words[qr];for(qr=0;qr<Oe;qr++)this.words[qr]=0;this.length+=Oe}return this._strip()},o.prototype.ishln=function(C){return s(this.negative===0),this.iushln(C)},o.prototype.iushrn=function(C,be,Oe){s(typeof C=="number"&&C>=0);var fr;be?fr=(be-be%26)/26:fr=0;var qr=C%26,Hr=Math.min((C-qr)/26,this.length),Er=67108863^67108863>>>qr<<qr,jr=Oe;if(fr-=Hr,fr=Math.max(0,fr),jr){for(var Se=0;Se<Hr;Se++)jr.words[Se]=this.words[Se];jr.length=Hr}if(Hr!==0)if(this.length>Hr)for(this.length-=Hr,Se=0;Se<this.length;Se++)this.words[Se]=this.words[Se+Hr];else this.words[0]=0,this.length=1;var Wr=0;for(Se=this.length-1;Se>=0&&(Wr!==0||Se>=fr);Se--){var bi=this.words[Se]|0;this.words[Se]=Wr<<26-qr|bi>>>qr,Wr=bi&Er}return jr&&Wr!==0&&(jr.words[jr.length++]=Wr),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(C,be,Oe){return s(this.negative===0),this.iushrn(C,be,Oe)},o.prototype.shln=function(C){return this.clone().ishln(C)},o.prototype.ushln=function(C){return this.clone().iushln(C)},o.prototype.shrn=function(C){return this.clone().ishrn(C)},o.prototype.ushrn=function(C){return this.clone().iushrn(C)},o.prototype.testn=function(C){s(typeof C=="number"&&C>=0);var be=C%26,Oe=(C-be)/26,fr=1<<be;if(this.length<=Oe)return!1;var qr=this.words[Oe];return!!(qr&fr)},o.prototype.imaskn=function(C){s(typeof C=="number"&&C>=0);var be=C%26,Oe=(C-be)/26;if(s(this.negative===0,"imaskn works only with positive numbers"),this.length<=Oe)return this;if(be!==0&&Oe++,this.length=Math.min(Oe,this.length),be!==0){var fr=67108863^67108863>>>be<<be;this.words[this.length-1]&=fr}return this._strip()},o.prototype.maskn=function(C){return this.clone().imaskn(C)},o.prototype.iaddn=function(C){return s(typeof C=="number"),s(C<67108864),C<0?this.isubn(-C):this.negative!==0?this.length===1&&(this.words[0]|0)<=C?(this.words[0]=C-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(C),this.negative=1,this):this._iaddn(C)},o.prototype._iaddn=function(C){this.words[0]+=C;for(var be=0;be<this.length&&this.words[be]>=67108864;be++)this.words[be]-=67108864,be===this.length-1?this.words[be+1]=1:this.words[be+1]++;return this.length=Math.max(this.length,be+1),this},o.prototype.isubn=function(C){if(s(typeof C=="number"),s(C<67108864),C<0)return this.iaddn(-C);if(this.negative!==0)return this.negative=0,this.iaddn(C),this.negative=1,this;if(this.words[0]-=C,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var be=0;be<this.length&&this.words[be]<0;be++)this.words[be]+=67108864,this.words[be+1]-=1;return this._strip()},o.prototype.addn=function(C){return this.clone().iaddn(C)},o.prototype.subn=function(C){return this.clone().isubn(C)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(C,be,Oe){var fr=C.length+Oe,qr;this._expand(fr);var Hr,Er=0;for(qr=0;qr<C.length;qr++){Hr=(this.words[qr+Oe]|0)+Er;var jr=(C.words[qr]|0)*be;Hr-=jr&67108863,Er=(Hr>>26)-(jr/67108864|0),this.words[qr+Oe]=Hr&67108863}for(;qr<this.length-Oe;qr++)Hr=(this.words[qr+Oe]|0)+Er,Er=Hr>>26,this.words[qr+Oe]=Hr&67108863;if(Er===0)return this._strip();for(s(Er===-1),Er=0,qr=0;qr<this.length;qr++)Hr=-(this.words[qr]|0)+Er,Er=Hr>>26,this.words[qr]=Hr&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(C,be){var Oe=this.length-C.length,fr=this.clone(),qr=C,Hr=qr.words[qr.length-1]|0,Er=this._countBits(Hr);Oe=26-Er,Oe!==0&&(qr=qr.ushln(Oe),fr.iushln(Oe),Hr=qr.words[qr.length-1]|0);var jr=fr.length-qr.length,Se;if(be!=="mod"){Se=new o(null),Se.length=jr+1,Se.words=new Array(Se.length);for(var Wr=0;Wr<Se.length;Wr++)Se.words[Wr]=0}var bi=fr.clone()._ishlnsubmul(qr,1,jr);bi.negative===0&&(fr=bi,Se&&(Se.words[jr]=1));for(var vi=jr-1;vi>=0;vi--){var Ei=(fr.words[qr.length+vi]|0)*67108864+(fr.words[qr.length+vi-1]|0);for(Ei=Math.min(Ei/Hr|0,67108863),fr._ishlnsubmul(qr,Ei,vi);fr.negative!==0;)Ei--,fr.negative=0,fr._ishlnsubmul(qr,1,vi),fr.isZero()||(fr.negative^=1);Se&&(Se.words[vi]=Ei)}return Se&&Se._strip(),fr._strip(),be!=="div"&&Oe!==0&&fr.iushrn(Oe),{div:Se||null,mod:fr}},o.prototype.divmod=function(C,be,Oe){if(s(!C.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var fr,qr,Hr;return this.negative!==0&&C.negative===0?(Hr=this.neg().divmod(C,be),be!=="mod"&&(fr=Hr.div.neg()),be!=="div"&&(qr=Hr.mod.neg(),Oe&&qr.negative!==0&&qr.iadd(C)),{div:fr,mod:qr}):this.negative===0&&C.negative!==0?(Hr=this.divmod(C.neg(),be),be!=="mod"&&(fr=Hr.div.neg()),{div:fr,mod:Hr.mod}):this.negative&C.negative?(Hr=this.neg().divmod(C.neg(),be),be!=="div"&&(qr=Hr.mod.neg(),Oe&&qr.negative!==0&&qr.isub(C)),{div:Hr.div,mod:qr}):C.length>this.length||this.cmp(C)<0?{div:new o(0),mod:this}:C.length===1?be==="div"?{div:this.divn(C.words[0]),mod:null}:be==="mod"?{div:null,mod:new o(this.modrn(C.words[0]))}:{div:this.divn(C.words[0]),mod:new o(this.modrn(C.words[0]))}:this._wordDiv(C,be)},o.prototype.div=function(C){return this.divmod(C,"div",!1).div},o.prototype.mod=function(C){return this.divmod(C,"mod",!1).mod},o.prototype.umod=function(C){return this.divmod(C,"mod",!0).mod},o.prototype.divRound=function(C){var be=this.divmod(C);if(be.mod.isZero())return be.div;var Oe=be.div.negative!==0?be.mod.isub(C):be.mod,fr=C.ushrn(1),qr=C.andln(1),Hr=Oe.cmp(fr);return Hr<0||qr===1&&Hr===0?be.div:be.div.negative!==0?be.div.isubn(1):be.div.iaddn(1)},o.prototype.modrn=function(C){var be=C<0;be&&(C=-C),s(C<=67108863);for(var Oe=(1<<26)%C,fr=0,qr=this.length-1;qr>=0;qr--)fr=(Oe*fr+(this.words[qr]|0))%C;return be?-fr:fr},o.prototype.modn=function(C){return this.modrn(C)},o.prototype.idivn=function(C){var be=C<0;be&&(C=-C),s(C<=67108863);for(var Oe=0,fr=this.length-1;fr>=0;fr--){var qr=(this.words[fr]|0)+Oe*67108864;this.words[fr]=qr/C|0,Oe=qr%C}return this._strip(),be?this.ineg():this},o.prototype.divn=function(C){return this.clone().idivn(C)},o.prototype.egcd=function(C){s(C.negative===0),s(!C.isZero());var be=this,Oe=C.clone();be.negative!==0?be=be.umod(C):be=be.clone();for(var fr=new o(1),qr=new o(0),Hr=new o(0),Er=new o(1),jr=0;be.isEven()&&Oe.isEven();)be.iushrn(1),Oe.iushrn(1),++jr;for(var Se=Oe.clone(),Wr=be.clone();!be.isZero();){for(var bi=0,vi=1;!(be.words[0]&vi)&&bi<26;++bi,vi<<=1);if(bi>0)for(be.iushrn(bi);bi-- >0;)(fr.isOdd()||qr.isOdd())&&(fr.iadd(Se),qr.isub(Wr)),fr.iushrn(1),qr.iushrn(1);for(var Ei=0,ti=1;!(Oe.words[0]&ti)&&Ei<26;++Ei,ti<<=1);if(Ei>0)for(Oe.iushrn(Ei);Ei-- >0;)(Hr.isOdd()||Er.isOdd())&&(Hr.iadd(Se),Er.isub(Wr)),Hr.iushrn(1),Er.iushrn(1);be.cmp(Oe)>=0?(be.isub(Oe),fr.isub(Hr),qr.isub(Er)):(Oe.isub(be),Hr.isub(fr),Er.isub(qr))}return{a:Hr,b:Er,gcd:Oe.iushln(jr)}},o.prototype._invmp=function(C){s(C.negative===0),s(!C.isZero());var be=this,Oe=C.clone();be.negative!==0?be=be.umod(C):be=be.clone();for(var fr=new o(1),qr=new o(0),Hr=Oe.clone();be.cmpn(1)>0&&Oe.cmpn(1)>0;){for(var Er=0,jr=1;!(be.words[0]&jr)&&Er<26;++Er,jr<<=1);if(Er>0)for(be.iushrn(Er);Er-- >0;)fr.isOdd()&&fr.iadd(Hr),fr.iushrn(1);for(var Se=0,Wr=1;!(Oe.words[0]&Wr)&&Se<26;++Se,Wr<<=1);if(Se>0)for(Oe.iushrn(Se);Se-- >0;)qr.isOdd()&&qr.iadd(Hr),qr.iushrn(1);be.cmp(Oe)>=0?(be.isub(Oe),fr.isub(qr)):(Oe.isub(be),qr.isub(fr))}var bi;return be.cmpn(1)===0?bi=fr:bi=qr,bi.cmpn(0)<0&&bi.iadd(C),bi},o.prototype.gcd=function(C){if(this.isZero())return C.abs();if(C.isZero())return this.abs();var be=this.clone(),Oe=C.clone();be.negative=0,Oe.negative=0;for(var fr=0;be.isEven()&&Oe.isEven();fr++)be.iushrn(1),Oe.iushrn(1);do{for(;be.isEven();)be.iushrn(1);for(;Oe.isEven();)Oe.iushrn(1);var qr=be.cmp(Oe);if(qr<0){var Hr=be;be=Oe,Oe=Hr}else if(qr===0||Oe.cmpn(1)===0)break;be.isub(Oe)}while(!0);return Oe.iushln(fr)},o.prototype.invm=function(C){return this.egcd(C).a.umod(C)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(C){return this.words[0]&C},o.prototype.bincn=function(C){s(typeof C=="number");var be=C%26,Oe=(C-be)/26,fr=1<<be;if(this.length<=Oe)return this._expand(Oe+1),this.words[Oe]|=fr,this;for(var qr=fr,Hr=Oe;qr!==0&&Hr<this.length;Hr++){var Er=this.words[Hr]|0;Er+=qr,qr=Er>>>26,Er&=67108863,this.words[Hr]=Er}return qr!==0&&(this.words[Hr]=qr,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(C){var be=C<0;if(this.negative!==0&&!be)return-1;if(this.negative===0&&be)return 1;this._strip();var Oe;if(this.length>1)Oe=1;else{be&&(C=-C),s(C<=67108863,"Number is too big");var fr=this.words[0]|0;Oe=fr===C?0:fr<C?-1:1}return this.negative!==0?-Oe|0:Oe},o.prototype.cmp=function(C){if(this.negative!==0&&C.negative===0)return-1;if(this.negative===0&&C.negative!==0)return 1;var be=this.ucmp(C);return this.negative!==0?-be|0:be},o.prototype.ucmp=function(C){if(this.length>C.length)return 1;if(this.length<C.length)return-1;for(var be=0,Oe=this.length-1;Oe>=0;Oe--){var fr=this.words[Oe]|0,qr=C.words[Oe]|0;if(fr!==qr){fr<qr?be=-1:fr>qr&&(be=1);break}}return be},o.prototype.gtn=function(C){return this.cmpn(C)===1},o.prototype.gt=function(C){return this.cmp(C)===1},o.prototype.gten=function(C){return this.cmpn(C)>=0},o.prototype.gte=function(C){return this.cmp(C)>=0},o.prototype.ltn=function(C){return this.cmpn(C)===-1},o.prototype.lt=function(C){return this.cmp(C)===-1},o.prototype.lten=function(C){return this.cmpn(C)<=0},o.prototype.lte=function(C){return this.cmp(C)<=0},o.prototype.eqn=function(C){return this.cmpn(C)===0},o.prototype.eq=function(C){return this.cmp(C)===0},o.red=function(C){return new oi(C)},o.prototype.toRed=function(C){return s(!this.red,"Already a number in reduction context"),s(this.negative===0,"red works only with positives"),C.convertTo(this)._forceRed(C)},o.prototype.fromRed=function(){return s(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(C){return this.red=C,this},o.prototype.forceRed=function(C){return s(!this.red,"Already a number in reduction context"),this._forceRed(C)},o.prototype.redAdd=function(C){return s(this.red,"redAdd works only with red numbers"),this.red.add(this,C)},o.prototype.redIAdd=function(C){return s(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,C)},o.prototype.redSub=function(C){return s(this.red,"redSub works only with red numbers"),this.red.sub(this,C)},o.prototype.redISub=function(C){return s(this.red,"redISub works only with red numbers"),this.red.isub(this,C)},o.prototype.redShl=function(C){return s(this.red,"redShl works only with red numbers"),this.red.shl(this,C)},o.prototype.redMul=function(C){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,C),this.red.mul(this,C)},o.prototype.redIMul=function(C){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,C),this.red.imul(this,C)},o.prototype.redSqr=function(){return s(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return s(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return s(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return s(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return s(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(C){return s(this.red&&!C.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,C)};var si={k256:null,p224:null,p192:null,p25519:null};function ai(Ie,C){this.name=Ie,this.p=new o(C,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}ai.prototype._tmp=function(){var C=new o(null);return C.words=new Array(Math.ceil(this.n/13)),C},ai.prototype.ireduce=function(C){var be=C,Oe;do this.split(be,this.tmp),be=this.imulK(be),be=be.iadd(this.tmp),Oe=be.bitLength();while(Oe>this.n);var fr=Oe<this.n?-1:be.ucmp(this.p);return fr===0?(be.words[0]=0,be.length=1):fr>0?be.isub(this.p):be.strip!==void 0?be.strip():be._strip(),be},ai.prototype.split=function(C,be){C.iushrn(this.n,0,be)},ai.prototype.imulK=function(C){return C.imul(this.k)};function Gr(){ai.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}ne(Gr,ai),Gr.prototype.split=function(C,be){for(var Oe=4194303,fr=Math.min(C.length,9),qr=0;qr<fr;qr++)be.words[qr]=C.words[qr];if(be.length=fr,C.length<=9){C.words[0]=0,C.length=1;return}var Hr=C.words[9];for(be.words[be.length++]=Hr&Oe,qr=10;qr<C.length;qr++){var Er=C.words[qr]|0;C.words[qr-10]=(Er&Oe)<<4|Hr>>>22,Hr=Er}Hr>>>=22,C.words[qr-10]=Hr,Hr===0&&C.length>10?C.length-=10:C.length-=9},Gr.prototype.imulK=function(C){C.words[C.length]=0,C.words[C.length+1]=0,C.length+=2;for(var be=0,Oe=0;Oe<C.length;Oe++){var fr=C.words[Oe]|0;be+=fr*977,C.words[Oe]=be&67108863,be=fr*64+(be/67108864|0)}return C.words[C.length-1]===0&&(C.length--,C.words[C.length-1]===0&&C.length--),C};function fi(){ai.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}ne(fi,ai);function gi(){ai.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}ne(gi,ai);function Si(){ai.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}ne(Si,ai),Si.prototype.imulK=function(C){for(var be=0,Oe=0;Oe<C.length;Oe++){var fr=(C.words[Oe]|0)*19+be,qr=fr&67108863;fr>>>=26,C.words[Oe]=qr,be=fr}return be!==0&&(C.words[C.length++]=be),C},o._prime=function(C){if(si[C])return si[C];var be;if(C==="k256")be=new Gr;else if(C==="p224")be=new fi;else if(C==="p192")be=new gi;else if(C==="p25519")be=new Si;else throw new Error("Unknown prime "+C);return si[C]=be,be};function oi(Ie){if(typeof Ie=="string"){var C=o._prime(Ie);this.m=C.p,this.prime=C}else s(Ie.gtn(1),"modulus must be greater than 1"),this.m=Ie,this.prime=null}oi.prototype._verify1=function(C){s(C.negative===0,"red works only with positives"),s(C.red,"red works only with red numbers")},oi.prototype._verify2=function(C,be){s((C.negative|be.negative)===0,"red works only with positives"),s(C.red&&C.red===be.red,"red works only with red numbers")},oi.prototype.imod=function(C){return this.prime?this.prime.ireduce(C)._forceRed(this):(fe(C,C.umod(this.m)._forceRed(this)),C)},oi.prototype.neg=function(C){return C.isZero()?C.clone():this.m.sub(C)._forceRed(this)},oi.prototype.add=function(C,be){this._verify2(C,be);var Oe=C.add(be);return Oe.cmp(this.m)>=0&&Oe.isub(this.m),Oe._forceRed(this)},oi.prototype.iadd=function(C,be){this._verify2(C,be);var Oe=C.iadd(be);return Oe.cmp(this.m)>=0&&Oe.isub(this.m),Oe},oi.prototype.sub=function(C,be){this._verify2(C,be);var Oe=C.sub(be);return Oe.cmpn(0)<0&&Oe.iadd(this.m),Oe._forceRed(this)},oi.prototype.isub=function(C,be){this._verify2(C,be);var Oe=C.isub(be);return Oe.cmpn(0)<0&&Oe.iadd(this.m),Oe},oi.prototype.shl=function(C,be){return this._verify1(C),this.imod(C.ushln(be))},oi.prototype.imul=function(C,be){return this._verify2(C,be),this.imod(C.imul(be))},oi.prototype.mul=function(C,be){return this._verify2(C,be),this.imod(C.mul(be))},oi.prototype.isqr=function(C){return this.imul(C,C.clone())},oi.prototype.sqr=function(C){return this.mul(C,C)},oi.prototype.sqrt=function(C){if(C.isZero())return C.clone();var be=this.m.andln(3);if(s(be%2===1),be===3){var Oe=this.m.add(new o(1)).iushrn(2);return this.pow(C,Oe)}for(var fr=this.m.subn(1),qr=0;!fr.isZero()&&fr.andln(1)===0;)qr++,fr.iushrn(1);s(!fr.isZero());var Hr=new o(1).toRed(this),Er=Hr.redNeg(),jr=this.m.subn(1).iushrn(1),Se=this.m.bitLength();for(Se=new o(2*Se*Se).toRed(this);this.pow(Se,jr).cmp(Er)!==0;)Se.redIAdd(Er);for(var Wr=this.pow(Se,fr),bi=this.pow(C,fr.addn(1).iushrn(1)),vi=this.pow(C,fr),Ei=qr;vi.cmp(Hr)!==0;){for(var ti=vi,ri=0;ti.cmp(Hr)!==0;ri++)ti=ti.redSqr();s(ri<Ei);var ci=this.pow(Wr,new o(1).iushln(Ei-ri-1));bi=bi.redMul(ci),Wr=ci.redSqr(),vi=vi.redMul(Wr),Ei=ri}return bi},oi.prototype.invm=function(C){var be=C._invmp(this.m);return be.negative!==0?(be.negative=0,this.imod(be).redNeg()):this.imod(be)},oi.prototype.pow=function(C,be){if(be.isZero())return new o(1).toRed(this);if(be.cmpn(1)===0)return C.clone();var Oe=4,fr=new Array(1<<Oe);fr[0]=new o(1).toRed(this),fr[1]=C;for(var qr=2;qr<fr.length;qr++)fr[qr]=this.mul(fr[qr-1],C);var Hr=fr[0],Er=0,jr=0,Se=be.bitLength()%26;for(Se===0&&(Se=26),qr=be.length-1;qr>=0;qr--){for(var Wr=be.words[qr],bi=Se-1;bi>=0;bi--){var vi=Wr>>bi&1;if(Hr!==fr[0]&&(Hr=this.sqr(Hr)),vi===0&&Er===0){jr=0;continue}Er<<=1,Er|=vi,jr++,!(jr!==Oe&&(qr!==0||bi!==0))&&(Hr=this.mul(Hr,fr[Er]),jr=0,Er=0)}Se=26}return Hr},oi.prototype.convertTo=function(C){var be=C.umod(this.m);return be===C?be.clone():be},oi.prototype.convertFrom=function(C){var be=C.clone();return be.red=null,be},o.mont=function(C){return new Kr(C)};function Kr(Ie){oi.call(this,Ie),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ne(Kr,oi),Kr.prototype.convertTo=function(C){return this.imod(C.ushln(this.shift))},Kr.prototype.convertFrom=function(C){var be=this.imod(C.mul(this.rinv));return be.red=null,be},Kr.prototype.imul=function(C,be){if(C.isZero()||be.isZero())return C.words[0]=0,C.length=1,C;var Oe=C.imul(be),fr=Oe.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),qr=Oe.isub(fr).iushrn(this.shift),Hr=qr;return qr.cmp(this.m)>=0?Hr=qr.isub(this.m):qr.cmpn(0)<0&&(Hr=qr.iadd(this.m)),Hr._forceRed(this)},Kr.prototype.mul=function(C,be){if(C.isZero()||be.isZero())return new o(0)._forceRed(this);var Oe=C.mul(be),fr=Oe.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),qr=Oe.isub(fr).iushrn(this.shift),Hr=qr;return qr.cmp(this.m)>=0?Hr=qr.isub(this.m):qr.cmpn(0)<0&&(Hr=qr.iadd(this.m)),Hr._forceRed(this)},Kr.prototype.invm=function(C){var be=this.imod(C._invmp(this.m).mul(this.r2));return be._forceRed(this)}})(r,commonjsGlobal)}(bn)),bn.exports}var asn1$1={},asn1={},api={},vmBrowserify={},hasRequiredVmBrowserify;function requireVmBrowserify(){return hasRequiredVmBrowserify||(hasRequiredVmBrowserify=1,function(exports){var indexOf=function(r,e){if(r.indexOf)return r.indexOf(e);for(var t=0;t<r.length;t++)if(r[t]===e)return t;return-1},Object_keys=function(r){if(Object.keys)return Object.keys(r);var e=[];for(var t in r)e.push(t);return e},forEach=function(r,e){if(r.forEach)return r.forEach(e);for(var t=0;t<r.length;t++)e(r[t],t,r)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(r,e,t){Object.defineProperty(r,e,{writable:!0,enumerable:!1,configurable:!0,value:t})}}catch{return function(e,t,s){e[t]=s}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(e){if(!(this instanceof Script))return new Script(e);this.code=e};Script.prototype.runInContext=function(r){if(!(r instanceof Context))throw new TypeError("needs a 'context' argument.");var e=document.createElement("iframe");e.style||(e.style={}),e.style.display="none",document.body.appendChild(e);var t=e.contentWindow,s=t.eval,ne=t.execScript;!s&&ne&&(ne.call(t,"null"),s=t.eval),forEach(Object_keys(r),function(ye){t[ye]=r[ye]}),forEach(globals,function(ye){r[ye]&&(t[ye]=r[ye])});var o=Object_keys(t),we=s.call(t,this.code);return forEach(Object_keys(t),function(ye){(ye in r||indexOf(o,ye)===-1)&&(r[ye]=t[ye])}),forEach(globals,function(ye){ye in r||defineProp(r,ye,t[ye])}),document.body.removeChild(e),we},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(r){var e=Script.createContext(r),t=this.runInContext(e);return r&&forEach(Object_keys(e),function(s){r[s]=e[s]}),t},forEach(Object_keys(Script.prototype),function(r){exports[r]=Script[r]=function(e){var t=Script(e);return t[r].apply(t,[].slice.call(arguments,1))}}),exports.isContext=function(r){return r instanceof Context},exports.createScript=function(r){return exports.Script(r)},exports.createContext=Script.createContext=function(r){var e=new Context;return typeof r=="object"&&forEach(Object_keys(r),function(t){e[t]=r[t]}),e}}(vmBrowserify)),vmBrowserify}var hasRequiredApi;function requireApi(){return hasRequiredApi||(hasRequiredApi=1,function(r){var e=requireAsn1$1(),t=inherits_browserExports,s=r;s.define=function(we,ye){return new ne(we,ye)};function ne(o,we){this.name=o,this.body=we,this.decoders={},this.encoders={}}ne.prototype._createNamed=function(we){var ye;try{ye=requireVmBrowserify().runInThisContext("(function "+this.name+`(entity) {
  this._initNamed(entity);
})`)}catch{ye=function(me){this._initNamed(me)}}return t(ye,we),ye.prototype._initNamed=function(me){we.call(this,me)},new ye(this)},ne.prototype._getDecoder=function(we){return we=we||"der",this.decoders.hasOwnProperty(we)||(this.decoders[we]=this._createNamed(e.decoders[we])),this.decoders[we]},ne.prototype.decode=function(we,ye,Ee){return this._getDecoder(ye).decode(we,Ee)},ne.prototype._getEncoder=function(we){return we=we||"der",this.encoders.hasOwnProperty(we)||(this.encoders[we]=this._createNamed(e.encoders[we])),this.encoders[we]},ne.prototype.encode=function(we,ye,Ee){return this._getEncoder(ye).encode(we,Ee)}}(api)),api}var base$1={},reporter={},hasRequiredReporter;function requireReporter(){if(hasRequiredReporter)return reporter;hasRequiredReporter=1;var r=inherits_browserExports;function e(s){this._reporterState={obj:null,path:[],options:s||{},errors:[]}}reporter.Reporter=e,e.prototype.isError=function(ne){return ne instanceof t},e.prototype.save=function(){var ne=this._reporterState;return{obj:ne.obj,pathLen:ne.path.length}},e.prototype.restore=function(ne){var o=this._reporterState;o.obj=ne.obj,o.path=o.path.slice(0,ne.pathLen)},e.prototype.enterKey=function(ne){return this._reporterState.path.push(ne)},e.prototype.exitKey=function(ne){var o=this._reporterState;o.path=o.path.slice(0,ne-1)},e.prototype.leaveKey=function(ne,o,we){var ye=this._reporterState;this.exitKey(ne),ye.obj!==null&&(ye.obj[o]=we)},e.prototype.path=function(){return this._reporterState.path.join("/")},e.prototype.enterObject=function(){var ne=this._reporterState,o=ne.obj;return ne.obj={},o},e.prototype.leaveObject=function(ne){var o=this._reporterState,we=o.obj;return o.obj=ne,we},e.prototype.error=function(ne){var o,we=this._reporterState,ye=ne instanceof t;if(ye?o=ne:o=new t(we.path.map(function(Ee){return"["+JSON.stringify(Ee)+"]"}).join(""),ne.message||ne,ne.stack),!we.options.partial)throw o;return ye||we.errors.push(o),o},e.prototype.wrapResult=function(ne){var o=this._reporterState;return o.options.partial?{result:this.isError(ne)?null:ne,errors:o.errors}:ne};function t(s,ne){this.path=s,this.rethrow(ne)}return r(t,Error),t.prototype.rethrow=function(ne){if(this.message=ne+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,t),!this.stack)try{throw new Error(this.message)}catch(o){this.stack=o.stack}return this},reporter}var buffer={},hasRequiredBuffer;function requireBuffer(){if(hasRequiredBuffer)return buffer;hasRequiredBuffer=1;var r=inherits_browserExports,e=requireBase().Reporter,t=require$$1$2.Buffer;function s(o,we){if(e.call(this,we),!t.isBuffer(o)){this.error("Input not Buffer");return}this.base=o,this.offset=0,this.length=o.length}r(s,e),buffer.DecoderBuffer=s,s.prototype.save=function(){return{offset:this.offset,reporter:e.prototype.save.call(this)}},s.prototype.restore=function(we){var ye=new s(this.base);return ye.offset=we.offset,ye.length=this.offset,this.offset=we.offset,e.prototype.restore.call(this,we.reporter),ye},s.prototype.isEmpty=function(){return this.offset===this.length},s.prototype.readUInt8=function(we){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(we||"DecoderBuffer overrun")},s.prototype.skip=function(we,ye){if(!(this.offset+we<=this.length))return this.error(ye||"DecoderBuffer overrun");var Ee=new s(this.base);return Ee._reporterState=this._reporterState,Ee.offset=this.offset,Ee.length=this.offset+we,this.offset+=we,Ee},s.prototype.raw=function(we){return this.base.slice(we?we.offset:this.offset,this.length)};function ne(o,we){if(Array.isArray(o))this.length=0,this.value=o.map(function(ye){return ye instanceof ne||(ye=new ne(ye,we)),this.length+=ye.length,ye},this);else if(typeof o=="number"){if(!(0<=o&&o<=255))return we.error("non-byte EncoderBuffer value");this.value=o,this.length=1}else if(typeof o=="string")this.value=o,this.length=t.byteLength(o);else if(t.isBuffer(o))this.value=o,this.length=o.length;else return we.error("Unsupported type: "+typeof o)}return buffer.EncoderBuffer=ne,ne.prototype.join=function(we,ye){return we||(we=new t(this.length)),ye||(ye=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(Ee){Ee.join(we,ye),ye+=Ee.length}):(typeof this.value=="number"?we[ye]=this.value:typeof this.value=="string"?we.write(this.value,ye):t.isBuffer(this.value)&&this.value.copy(we,ye),ye+=this.length)),we},buffer}var node,hasRequiredNode;function requireNode(){if(hasRequiredNode)return node;hasRequiredNode=1;var r=requireBase().Reporter,e=requireBase().EncoderBuffer,t=requireBase().DecoderBuffer,s=requireMinimalisticAssert(),ne=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],o=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(ne),we=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function ye(me,fe){var xe={};this._baseState=xe,xe.enc=me,xe.parent=fe||null,xe.children=null,xe.tag=null,xe.args=null,xe.reverseArgs=null,xe.choice=null,xe.optional=!1,xe.any=!1,xe.obj=!1,xe.use=null,xe.useDecoder=null,xe.key=null,xe.default=null,xe.explicit=null,xe.implicit=null,xe.contains=null,xe.parent||(xe.children=[],this._wrap())}node=ye;var Ee=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];return ye.prototype.clone=function(){var fe=this._baseState,xe={};Ee.forEach(function(wr){xe[wr]=fe[wr]});var br=new this.constructor(xe.parent);return br._baseState=xe,br},ye.prototype._wrap=function(){var fe=this._baseState;o.forEach(function(xe){this[xe]=function(){var wr=new this.constructor(this);return fe.children.push(wr),wr[xe].apply(wr,arguments)}},this)},ye.prototype._init=function(fe){var xe=this._baseState;s(xe.parent===null),fe.call(this),xe.children=xe.children.filter(function(br){return br._baseState.parent===this},this),s.equal(xe.children.length,1,"Root node can have only one child")},ye.prototype._useArgs=function(fe){var xe=this._baseState,br=fe.filter(function(wr){return wr instanceof this.constructor},this);fe=fe.filter(function(wr){return!(wr instanceof this.constructor)},this),br.length!==0&&(s(xe.children===null),xe.children=br,br.forEach(function(wr){wr._baseState.parent=this},this)),fe.length!==0&&(s(xe.args===null),xe.args=fe,xe.reverseArgs=fe.map(function(wr){if(typeof wr!="object"||wr.constructor!==Object)return wr;var kr={};return Object.keys(wr).forEach(function(Vr){Vr==(Vr|0)&&(Vr|=0);var Zr=wr[Vr];kr[Zr]=Vr}),kr}))},we.forEach(function(me){ye.prototype[me]=function(){var xe=this._baseState;throw new Error(me+" not implemented for encoding: "+xe.enc)}}),ne.forEach(function(me){ye.prototype[me]=function(){var xe=this._baseState,br=Array.prototype.slice.call(arguments);return s(xe.tag===null),xe.tag=me,this._useArgs(br),this}}),ye.prototype.use=function(fe){s(fe);var xe=this._baseState;return s(xe.use===null),xe.use=fe,this},ye.prototype.optional=function(){var fe=this._baseState;return fe.optional=!0,this},ye.prototype.def=function(fe){var xe=this._baseState;return s(xe.default===null),xe.default=fe,xe.optional=!0,this},ye.prototype.explicit=function(fe){var xe=this._baseState;return s(xe.explicit===null&&xe.implicit===null),xe.explicit=fe,this},ye.prototype.implicit=function(fe){var xe=this._baseState;return s(xe.explicit===null&&xe.implicit===null),xe.implicit=fe,this},ye.prototype.obj=function(){var fe=this._baseState,xe=Array.prototype.slice.call(arguments);return fe.obj=!0,xe.length!==0&&this._useArgs(xe),this},ye.prototype.key=function(fe){var xe=this._baseState;return s(xe.key===null),xe.key=fe,this},ye.prototype.any=function(){var fe=this._baseState;return fe.any=!0,this},ye.prototype.choice=function(fe){var xe=this._baseState;return s(xe.choice===null),xe.choice=fe,this._useArgs(Object.keys(fe).map(function(br){return fe[br]})),this},ye.prototype.contains=function(fe){var xe=this._baseState;return s(xe.use===null),xe.contains=fe,this},ye.prototype._decode=function(fe,xe){var br=this._baseState;if(br.parent===null)return fe.wrapResult(br.children[0]._decode(fe,xe));var wr=br.default,kr=!0,Vr=null;if(br.key!==null&&(Vr=fe.enterKey(br.key)),br.optional){var Zr=null;if(br.explicit!==null?Zr=br.explicit:br.implicit!==null?Zr=br.implicit:br.tag!==null&&(Zr=br.tag),Zr===null&&!br.any){var Qr=fe.save();try{br.choice===null?this._decodeGeneric(br.tag,fe,xe):this._decodeChoice(fe,xe),kr=!0}catch{kr=!1}fe.restore(Qr)}else if(kr=this._peekTag(fe,Zr,br.any),fe.isError(kr))return kr}var Yr;if(br.obj&&kr&&(Yr=fe.enterObject()),kr){if(br.explicit!==null){var ii=this._decodeTag(fe,br.explicit);if(fe.isError(ii))return ii;fe=ii}var ei=fe.offset;if(br.use===null&&br.choice===null){if(br.any)var Qr=fe.save();var si=this._decodeTag(fe,br.implicit!==null?br.implicit:br.tag,br.any);if(fe.isError(si))return si;br.any?wr=fe.raw(Qr):fe=si}if(xe&&xe.track&&br.tag!==null&&xe.track(fe.path(),ei,fe.length,"tagged"),xe&&xe.track&&br.tag!==null&&xe.track(fe.path(),fe.offset,fe.length,"content"),br.any?wr=wr:br.choice===null?wr=this._decodeGeneric(br.tag,fe,xe):wr=this._decodeChoice(fe,xe),fe.isError(wr))return wr;if(!br.any&&br.choice===null&&br.children!==null&&br.children.forEach(function(fi){fi._decode(fe,xe)}),br.contains&&(br.tag==="octstr"||br.tag==="bitstr")){var ai=new t(wr);wr=this._getUse(br.contains,fe._reporterState.obj)._decode(ai,xe)}}return br.obj&&kr&&(wr=fe.leaveObject(Yr)),br.key!==null&&(wr!==null||kr===!0)?fe.leaveKey(Vr,br.key,wr):Vr!==null&&fe.exitKey(Vr),wr},ye.prototype._decodeGeneric=function(fe,xe,br){var wr=this._baseState;return fe==="seq"||fe==="set"?null:fe==="seqof"||fe==="setof"?this._decodeList(xe,fe,wr.args[0],br):/str$/.test(fe)?this._decodeStr(xe,fe,br):fe==="objid"&&wr.args?this._decodeObjid(xe,wr.args[0],wr.args[1],br):fe==="objid"?this._decodeObjid(xe,null,null,br):fe==="gentime"||fe==="utctime"?this._decodeTime(xe,fe,br):fe==="null_"?this._decodeNull(xe,br):fe==="bool"?this._decodeBool(xe,br):fe==="objDesc"?this._decodeStr(xe,fe,br):fe==="int"||fe==="enum"?this._decodeInt(xe,wr.args&&wr.args[0],br):wr.use!==null?this._getUse(wr.use,xe._reporterState.obj)._decode(xe,br):xe.error("unknown tag: "+fe)},ye.prototype._getUse=function(fe,xe){var br=this._baseState;return br.useDecoder=this._use(fe,xe),s(br.useDecoder._baseState.parent===null),br.useDecoder=br.useDecoder._baseState.children[0],br.implicit!==br.useDecoder._baseState.implicit&&(br.useDecoder=br.useDecoder.clone(),br.useDecoder._baseState.implicit=br.implicit),br.useDecoder},ye.prototype._decodeChoice=function(fe,xe){var br=this._baseState,wr=null,kr=!1;return Object.keys(br.choice).some(function(Vr){var Zr=fe.save(),Qr=br.choice[Vr];try{var Yr=Qr._decode(fe,xe);if(fe.isError(Yr))return!1;wr={type:Vr,value:Yr},kr=!0}catch{return fe.restore(Zr),!1}return!0},this),kr?wr:fe.error("Choice not matched")},ye.prototype._createEncoderBuffer=function(fe){return new e(fe,this.reporter)},ye.prototype._encode=function(fe,xe,br){var wr=this._baseState;if(!(wr.default!==null&&wr.default===fe)){var kr=this._encodeValue(fe,xe,br);if(kr!==void 0&&!this._skipDefault(kr,xe,br))return kr}},ye.prototype._encodeValue=function(fe,xe,br){var wr=this._baseState;if(wr.parent===null)return wr.children[0]._encode(fe,xe||new r);var Qr=null;if(this.reporter=xe,wr.optional&&fe===void 0)if(wr.default!==null)fe=wr.default;else return;var kr=null,Vr=!1;if(wr.any)Qr=this._createEncoderBuffer(fe);else if(wr.choice)Qr=this._encodeChoice(fe,xe);else if(wr.contains)kr=this._getUse(wr.contains,br)._encode(fe,xe),Vr=!0;else if(wr.children)kr=wr.children.map(function(ei){if(ei._baseState.tag==="null_")return ei._encode(null,xe,fe);if(ei._baseState.key===null)return xe.error("Child should have a key");var si=xe.enterKey(ei._baseState.key);if(typeof fe!="object")return xe.error("Child expected, but input is not object");var ai=ei._encode(fe[ei._baseState.key],xe,fe);return xe.leaveKey(si),ai},this).filter(function(ei){return ei}),kr=this._createEncoderBuffer(kr);else if(wr.tag==="seqof"||wr.tag==="setof"){if(!(wr.args&&wr.args.length===1))return xe.error("Too many args for : "+wr.tag);if(!Array.isArray(fe))return xe.error("seqof/setof, but data is not Array");var Zr=this.clone();Zr._baseState.implicit=null,kr=this._createEncoderBuffer(fe.map(function(ei){var si=this._baseState;return this._getUse(si.args[0],fe)._encode(ei,xe)},Zr))}else wr.use!==null?Qr=this._getUse(wr.use,br)._encode(fe,xe):(kr=this._encodePrimitive(wr.tag,fe),Vr=!0);var Qr;if(!wr.any&&wr.choice===null){var Yr=wr.implicit!==null?wr.implicit:wr.tag,ii=wr.implicit===null?"universal":"context";Yr===null?wr.use===null&&xe.error("Tag could be omitted only for .use()"):wr.use===null&&(Qr=this._encodeComposite(Yr,Vr,ii,kr))}return wr.explicit!==null&&(Qr=this._encodeComposite(wr.explicit,!1,"context",Qr)),Qr},ye.prototype._encodeChoice=function(fe,xe){var br=this._baseState,wr=br.choice[fe.type];return wr||s(!1,fe.type+" not found in "+JSON.stringify(Object.keys(br.choice))),wr._encode(fe.value,xe)},ye.prototype._encodePrimitive=function(fe,xe){var br=this._baseState;if(/str$/.test(fe))return this._encodeStr(xe,fe);if(fe==="objid"&&br.args)return this._encodeObjid(xe,br.reverseArgs[0],br.args[1]);if(fe==="objid")return this._encodeObjid(xe,null,null);if(fe==="gentime"||fe==="utctime")return this._encodeTime(xe,fe);if(fe==="null_")return this._encodeNull();if(fe==="int"||fe==="enum")return this._encodeInt(xe,br.args&&br.reverseArgs[0]);if(fe==="bool")return this._encodeBool(xe);if(fe==="objDesc")return this._encodeStr(xe,fe);throw new Error("Unsupported tag: "+fe)},ye.prototype._isNumstr=function(fe){return/^[0-9 ]*$/.test(fe)},ye.prototype._isPrintstr=function(fe){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(fe)},node}var hasRequiredBase;function requireBase(){return hasRequiredBase||(hasRequiredBase=1,function(r){var e=r;e.Reporter=requireReporter().Reporter,e.DecoderBuffer=requireBuffer().DecoderBuffer,e.EncoderBuffer=requireBuffer().EncoderBuffer,e.Node=requireNode()}(base$1)),base$1}var constants$2={},der={},hasRequiredDer$2;function requireDer$2(){return hasRequiredDer$2||(hasRequiredDer$2=1,function(r){var e=requireConstants$2();r.tagClass={0:"universal",1:"application",2:"context",3:"private"},r.tagClassByName=e._reverse(r.tagClass),r.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},r.tagByName=e._reverse(r.tag)}(der)),der}var hasRequiredConstants$2;function requireConstants$2(){return hasRequiredConstants$2||(hasRequiredConstants$2=1,function(r){var e=r;e._reverse=function(s){var ne={};return Object.keys(s).forEach(function(o){(o|0)==o&&(o=o|0);var we=s[o];ne[we]=o}),ne},e.der=requireDer$2()}(constants$2)),constants$2}var decoders={},der_1$1,hasRequiredDer$1;function requireDer$1(){if(hasRequiredDer$1)return der_1$1;hasRequiredDer$1=1;var r=inherits_browserExports,e=requireAsn1$1(),t=e.base,s=e.bignum,ne=e.constants.der;function o(me){this.enc="der",this.name=me.name,this.entity=me,this.tree=new we,this.tree._init(me.body)}der_1$1=o,o.prototype.decode=function(fe,xe){return fe instanceof t.DecoderBuffer||(fe=new t.DecoderBuffer(fe,xe)),this.tree._decode(fe,xe)};function we(me){t.Node.call(this,"der",me)}r(we,t.Node),we.prototype._peekTag=function(fe,xe,br){if(fe.isEmpty())return!1;var wr=fe.save(),kr=ye(fe,'Failed to peek tag: "'+xe+'"');return fe.isError(kr)?kr:(fe.restore(wr),kr.tag===xe||kr.tagStr===xe||kr.tagStr+"of"===xe||br)},we.prototype._decodeTag=function(fe,xe,br){var wr=ye(fe,'Failed to decode tag of "'+xe+'"');if(fe.isError(wr))return wr;var kr=Ee(fe,wr.primitive,'Failed to get length of "'+xe+'"');if(fe.isError(kr))return kr;if(!br&&wr.tag!==xe&&wr.tagStr!==xe&&wr.tagStr+"of"!==xe)return fe.error('Failed to match tag: "'+xe+'"');if(wr.primitive||kr!==null)return fe.skip(kr,'Failed to match body of: "'+xe+'"');var Vr=fe.save(),Zr=this._skipUntilEnd(fe,'Failed to skip indefinite length body: "'+this.tag+'"');return fe.isError(Zr)?Zr:(kr=fe.offset-Vr.offset,fe.restore(Vr),fe.skip(kr,'Failed to match body of: "'+xe+'"'))},we.prototype._skipUntilEnd=function(fe,xe){for(;;){var br=ye(fe,xe);if(fe.isError(br))return br;var wr=Ee(fe,br.primitive,xe);if(fe.isError(wr))return wr;var kr;if(br.primitive||wr!==null?kr=fe.skip(wr):kr=this._skipUntilEnd(fe,xe),fe.isError(kr))return kr;if(br.tagStr==="end")break}},we.prototype._decodeList=function(fe,xe,br,wr){for(var kr=[];!fe.isEmpty();){var Vr=this._peekTag(fe,"end");if(fe.isError(Vr))return Vr;var Zr=br.decode(fe,"der",wr);if(fe.isError(Zr)&&Vr)break;kr.push(Zr)}return kr},we.prototype._decodeStr=function(fe,xe){if(xe==="bitstr"){var br=fe.readUInt8();return fe.isError(br)?br:{unused:br,data:fe.raw()}}else if(xe==="bmpstr"){var wr=fe.raw();if(wr.length%2===1)return fe.error("Decoding of string type: bmpstr length mismatch");for(var kr="",Vr=0;Vr<wr.length/2;Vr++)kr+=String.fromCharCode(wr.readUInt16BE(Vr*2));return kr}else if(xe==="numstr"){var Zr=fe.raw().toString("ascii");return this._isNumstr(Zr)?Zr:fe.error("Decoding of string type: numstr unsupported characters")}else{if(xe==="octstr")return fe.raw();if(xe==="objDesc")return fe.raw();if(xe==="printstr"){var Qr=fe.raw().toString("ascii");return this._isPrintstr(Qr)?Qr:fe.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(xe)?fe.raw().toString():fe.error("Decoding of string type: "+xe+" unsupported")}},we.prototype._decodeObjid=function(fe,xe,br){for(var wr,kr=[],Vr=0;!fe.isEmpty();){var Zr=fe.readUInt8();Vr<<=7,Vr|=Zr&127,Zr&128||(kr.push(Vr),Vr=0)}Zr&128&&kr.push(Vr);var Qr=kr[0]/40|0,Yr=kr[0]%40;if(br?wr=kr:wr=[Qr,Yr].concat(kr.slice(1)),xe){var ii=xe[wr.join(" ")];ii===void 0&&(ii=xe[wr.join(".")]),ii!==void 0&&(wr=ii)}return wr},we.prototype._decodeTime=function(fe,xe){var br=fe.raw().toString();if(xe==="gentime")var wr=br.slice(0,4)|0,kr=br.slice(4,6)|0,Vr=br.slice(6,8)|0,Zr=br.slice(8,10)|0,Qr=br.slice(10,12)|0,Yr=br.slice(12,14)|0;else if(xe==="utctime"){var wr=br.slice(0,2)|0,kr=br.slice(2,4)|0,Vr=br.slice(4,6)|0,Zr=br.slice(6,8)|0,Qr=br.slice(8,10)|0,Yr=br.slice(10,12)|0;wr<70?wr=2e3+wr:wr=1900+wr}else return fe.error("Decoding "+xe+" time is not supported yet");return Date.UTC(wr,kr-1,Vr,Zr,Qr,Yr,0)},we.prototype._decodeNull=function(fe){return null},we.prototype._decodeBool=function(fe){var xe=fe.readUInt8();return fe.isError(xe)?xe:xe!==0},we.prototype._decodeInt=function(fe,xe){var br=fe.raw(),wr=new s(br);return xe&&(wr=xe[wr.toString(10)]||wr),wr},we.prototype._use=function(fe,xe){return typeof fe=="function"&&(fe=fe(xe)),fe._getDecoder("der").tree};function ye(me,fe){var xe=me.readUInt8(fe);if(me.isError(xe))return xe;var br=ne.tagClass[xe>>6],wr=(xe&32)===0;if((xe&31)===31){var kr=xe;for(xe=0;(kr&128)===128;){if(kr=me.readUInt8(fe),me.isError(kr))return kr;xe<<=7,xe|=kr&127}}else xe&=31;var Vr=ne.tag[xe];return{cls:br,primitive:wr,tag:xe,tagStr:Vr}}function Ee(me,fe,xe){var br=me.readUInt8(xe);if(me.isError(br))return br;if(!fe&&br===128)return null;if(!(br&128))return br;var wr=br&127;if(wr>4)return me.error("length octect is too long");br=0;for(var kr=0;kr<wr;kr++){br<<=8;var Vr=me.readUInt8(xe);if(me.isError(Vr))return Vr;br|=Vr}return br}return der_1$1}var pem$1,hasRequiredPem$1;function requirePem$1(){if(hasRequiredPem$1)return pem$1;hasRequiredPem$1=1;var r=inherits_browserExports,e=require$$1$2.Buffer,t=requireDer$1();function s(ne){t.call(this,ne),this.enc="pem"}return r(s,t),pem$1=s,s.prototype.decode=function(o,we){for(var ye=o.toString().split(/[\r\n]+/g),Ee=we.label.toUpperCase(),me=/^-----(BEGIN|END) ([^-]+)-----$/,fe=-1,xe=-1,br=0;br<ye.length;br++){var wr=ye[br].match(me);if(wr!==null&&wr[2]===Ee)if(fe===-1){if(wr[1]!=="BEGIN")break;fe=br}else{if(wr[1]!=="END")break;xe=br;break}}if(fe===-1||xe===-1)throw new Error("PEM section not found for: "+Ee);var kr=ye.slice(fe+1,xe).join("");kr.replace(/[^a-z0-9\+\/=]+/gi,"");var Vr=new e(kr,"base64");return t.prototype.decode.call(this,Vr,we)},pem$1}var hasRequiredDecoders;function requireDecoders(){return hasRequiredDecoders||(hasRequiredDecoders=1,function(r){var e=r;e.der=requireDer$1(),e.pem=requirePem$1()}(decoders)),decoders}var encoders={},der_1,hasRequiredDer;function requireDer(){if(hasRequiredDer)return der_1;hasRequiredDer=1;var r=inherits_browserExports,e=require$$1$2.Buffer,t=requireAsn1$1(),s=t.base,ne=t.constants.der;function o(me){this.enc="der",this.name=me.name,this.entity=me,this.tree=new we,this.tree._init(me.body)}der_1=o,o.prototype.encode=function(fe,xe){return this.tree._encode(fe,xe).join()};function we(me){s.Node.call(this,"der",me)}r(we,s.Node),we.prototype._encodeComposite=function(fe,xe,br,wr){var kr=Ee(fe,xe,br,this.reporter);if(wr.length<128){var Qr=new e(2);return Qr[0]=kr,Qr[1]=wr.length,this._createEncoderBuffer([Qr,wr])}for(var Vr=1,Zr=wr.length;Zr>=256;Zr>>=8)Vr++;var Qr=new e(2+Vr);Qr[0]=kr,Qr[1]=128|Vr;for(var Zr=1+Vr,Yr=wr.length;Yr>0;Zr--,Yr>>=8)Qr[Zr]=Yr&255;return this._createEncoderBuffer([Qr,wr])},we.prototype._encodeStr=function(fe,xe){if(xe==="bitstr")return this._createEncoderBuffer([fe.unused|0,fe.data]);if(xe==="bmpstr"){for(var br=new e(fe.length*2),wr=0;wr<fe.length;wr++)br.writeUInt16BE(fe.charCodeAt(wr),wr*2);return this._createEncoderBuffer(br)}else return xe==="numstr"?this._isNumstr(fe)?this._createEncoderBuffer(fe):this.reporter.error("Encoding of string type: numstr supports only digits and space"):xe==="printstr"?this._isPrintstr(fe)?this._createEncoderBuffer(fe):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(xe)?this._createEncoderBuffer(fe):xe==="objDesc"?this._createEncoderBuffer(fe):this.reporter.error("Encoding of string type: "+xe+" unsupported")},we.prototype._encodeObjid=function(fe,xe,br){if(typeof fe=="string"){if(!xe)return this.reporter.error("string objid given, but no values map found");if(!xe.hasOwnProperty(fe))return this.reporter.error("objid not found in values map");fe=xe[fe].split(/[\s\.]+/g);for(var wr=0;wr<fe.length;wr++)fe[wr]|=0}else if(Array.isArray(fe)){fe=fe.slice();for(var wr=0;wr<fe.length;wr++)fe[wr]|=0}if(!Array.isArray(fe))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(fe));if(!br){if(fe[1]>=40)return this.reporter.error("Second objid identifier OOB");fe.splice(0,2,fe[0]*40+fe[1])}for(var kr=0,wr=0;wr<fe.length;wr++){var Vr=fe[wr];for(kr++;Vr>=128;Vr>>=7)kr++}for(var Zr=new e(kr),Qr=Zr.length-1,wr=fe.length-1;wr>=0;wr--){var Vr=fe[wr];for(Zr[Qr--]=Vr&127;(Vr>>=7)>0;)Zr[Qr--]=128|Vr&127}return this._createEncoderBuffer(Zr)};function ye(me){return me<10?"0"+me:me}we.prototype._encodeTime=function(fe,xe){var br,wr=new Date(fe);return xe==="gentime"?br=[ye(wr.getFullYear()),ye(wr.getUTCMonth()+1),ye(wr.getUTCDate()),ye(wr.getUTCHours()),ye(wr.getUTCMinutes()),ye(wr.getUTCSeconds()),"Z"].join(""):xe==="utctime"?br=[ye(wr.getFullYear()%100),ye(wr.getUTCMonth()+1),ye(wr.getUTCDate()),ye(wr.getUTCHours()),ye(wr.getUTCMinutes()),ye(wr.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+xe+" time is not supported yet"),this._encodeStr(br,"octstr")},we.prototype._encodeNull=function(){return this._createEncoderBuffer("")},we.prototype._encodeInt=function(fe,xe){if(typeof fe=="string"){if(!xe)return this.reporter.error("String int or enum given, but no values map");if(!xe.hasOwnProperty(fe))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(fe));fe=xe[fe]}if(typeof fe!="number"&&!e.isBuffer(fe)){var br=fe.toArray();!fe.sign&&br[0]&128&&br.unshift(0),fe=new e(br)}if(e.isBuffer(fe)){var wr=fe.length;fe.length===0&&wr++;var Vr=new e(wr);return fe.copy(Vr),fe.length===0&&(Vr[0]=0),this._createEncoderBuffer(Vr)}if(fe<128)return this._createEncoderBuffer(fe);if(fe<256)return this._createEncoderBuffer([0,fe]);for(var wr=1,kr=fe;kr>=256;kr>>=8)wr++;for(var Vr=new Array(wr),kr=Vr.length-1;kr>=0;kr--)Vr[kr]=fe&255,fe>>=8;return Vr[0]&128&&Vr.unshift(0),this._createEncoderBuffer(new e(Vr))},we.prototype._encodeBool=function(fe){return this._createEncoderBuffer(fe?255:0)},we.prototype._use=function(fe,xe){return typeof fe=="function"&&(fe=fe(xe)),fe._getEncoder("der").tree},we.prototype._skipDefault=function(fe,xe,br){var wr=this._baseState,kr;if(wr.default===null)return!1;var Vr=fe.join();if(wr.defaultBuffer===void 0&&(wr.defaultBuffer=this._encodeValue(wr.default,xe,br).join()),Vr.length!==wr.defaultBuffer.length)return!1;for(kr=0;kr<Vr.length;kr++)if(Vr[kr]!==wr.defaultBuffer[kr])return!1;return!0};function Ee(me,fe,xe,br){var wr;if(me==="seqof"?me="seq":me==="setof"&&(me="set"),ne.tagByName.hasOwnProperty(me))wr=ne.tagByName[me];else if(typeof me=="number"&&(me|0)===me)wr=me;else return br.error("Unknown tag: "+me);return wr>=31?br.error("Multi-octet tag encoding unsupported"):(fe||(wr|=32),wr|=ne.tagClassByName[xe||"universal"]<<6,wr)}return der_1}var pem,hasRequiredPem;function requirePem(){if(hasRequiredPem)return pem;hasRequiredPem=1;var r=inherits_browserExports,e=requireDer();function t(s){e.call(this,s),this.enc="pem"}return r(t,e),pem=t,t.prototype.encode=function(ne,o){for(var we=e.prototype.encode.call(this,ne),ye=we.toString("base64"),Ee=["-----BEGIN "+o.label+"-----"],me=0;me<ye.length;me+=64)Ee.push(ye.slice(me,me+64));return Ee.push("-----END "+o.label+"-----"),Ee.join(`
`)},pem}var hasRequiredEncoders;function requireEncoders(){return hasRequiredEncoders||(hasRequiredEncoders=1,function(r){var e=r;e.der=requireDer(),e.pem=requirePem()}(encoders)),encoders}var hasRequiredAsn1$1;function requireAsn1$1(){return hasRequiredAsn1$1||(hasRequiredAsn1$1=1,function(r){var e=r;e.bignum=requireBn$2(),e.define=requireApi().define,e.base=requireBase(),e.constants=requireConstants$2(),e.decoders=requireDecoders(),e.encoders=requireEncoders()}(asn1)),asn1}var certificate,hasRequiredCertificate;function requireCertificate(){if(hasRequiredCertificate)return certificate;hasRequiredCertificate=1;var r=requireAsn1$1(),e=r.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),t=r.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),s=r.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),ne=r.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())}),o=r.define("RelativeDistinguishedName",function(){this.setof(t)}),we=r.define("RDNSequence",function(){this.seqof(o)}),ye=r.define("Name",function(){this.choice({rdnSequence:this.use(we)})}),Ee=r.define("Validity",function(){this.seq().obj(this.key("notBefore").use(e),this.key("notAfter").use(e))}),me=r.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),fe=r.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(s),this.key("issuer").use(ye),this.key("validity").use(Ee),this.key("subject").use(ye),this.key("subjectPublicKeyInfo").use(ne),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(me).optional())}),xe=r.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(fe),this.key("signatureAlgorithm").use(s),this.key("signatureValue").bitstr())});return certificate=xe,certificate}var hasRequiredAsn1;function requireAsn1(){if(hasRequiredAsn1)return asn1$1;hasRequiredAsn1=1;var r=requireAsn1$1();asn1$1.certificate=requireCertificate();var e=r.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});asn1$1.RSAPrivateKey=e;var t=r.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});asn1$1.RSAPublicKey=t;var s=r.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),ne=r.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())});asn1$1.PublicKey=ne;var o=r.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(s),this.key("subjectPrivateKey").octstr())});asn1$1.PrivateKey=o;var we=r.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});asn1$1.EncryptedPrivateKey=we;var ye=r.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});asn1$1.DSAPrivateKey=ye,asn1$1.DSAparam=r.define("DSAparam",function(){this.int()});var Ee=r.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),me=r.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(Ee),this.key("publicKey").optional().explicit(1).bitstr())});return asn1$1.ECPrivateKey=me,asn1$1.signature=r.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())}),asn1$1}const require$$1={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"};var fixProc,hasRequiredFixProc;function requireFixProc(){if(hasRequiredFixProc)return fixProc;hasRequiredFixProc=1;var r=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,e=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,t=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,s=requireEvp_bytestokey(),ne=requireBrowser$6(),o=safeBufferExports.Buffer;return fixProc=function(we,ye){var Ee=we.toString(),me=Ee.match(r),fe;if(me){var br="aes"+me[1],wr=o.from(me[2],"hex"),kr=o.from(me[3].replace(/[\r\n]/g,""),"base64"),Vr=s(ye,wr.slice(0,8),parseInt(me[1],10)).key,Zr=[],Qr=ne.createDecipheriv(br,Vr,wr);Zr.push(Qr.update(kr)),Zr.push(Qr.final()),fe=o.concat(Zr)}else{var xe=Ee.match(t);fe=o.from(xe[2].replace(/[\r\n]/g,""),"base64")}var Yr=Ee.match(e)[1];return{tag:Yr,data:fe}},fixProc}var parseAsn1,hasRequiredParseAsn1;function requireParseAsn1(){if(hasRequiredParseAsn1)return parseAsn1;hasRequiredParseAsn1=1;var r=requireAsn1(),e=require$$1,t=requireFixProc(),s=requireBrowser$6(),ne=requireBrowser$7(),o=safeBufferExports.Buffer;function we(Ee,me){var fe=Ee.algorithm.decrypt.kde.kdeparams.salt,xe=parseInt(Ee.algorithm.decrypt.kde.kdeparams.iters.toString(),10),br=e[Ee.algorithm.decrypt.cipher.algo.join(".")],wr=Ee.algorithm.decrypt.cipher.iv,kr=Ee.subjectPrivateKey,Vr=parseInt(br.split("-")[1],10)/8,Zr=ne.pbkdf2Sync(me,fe,xe,Vr,"sha1"),Qr=s.createDecipheriv(br,Zr,wr),Yr=[];return Yr.push(Qr.update(kr)),Yr.push(Qr.final()),o.concat(Yr)}function ye(Ee){var me;typeof Ee=="object"&&!o.isBuffer(Ee)&&(me=Ee.passphrase,Ee=Ee.key),typeof Ee=="string"&&(Ee=o.from(Ee));var fe=t(Ee,me),xe=fe.tag,br=fe.data,wr,kr;switch(xe){case"CERTIFICATE":kr=r.certificate.decode(br,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(kr||(kr=r.PublicKey.decode(br,"der")),wr=kr.algorithm.algorithm.join("."),wr){case"1.2.840.113549.1.1.1":return r.RSAPublicKey.decode(kr.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return kr.subjectPrivateKey=kr.subjectPublicKey,{type:"ec",data:kr};case"1.2.840.10040.4.1":return kr.algorithm.params.pub_key=r.DSAparam.decode(kr.subjectPublicKey.data,"der"),{type:"dsa",data:kr.algorithm.params};default:throw new Error("unknown key id "+wr)}case"ENCRYPTED PRIVATE KEY":br=r.EncryptedPrivateKey.decode(br,"der"),br=we(br,me);case"PRIVATE KEY":switch(kr=r.PrivateKey.decode(br,"der"),wr=kr.algorithm.algorithm.join("."),wr){case"1.2.840.113549.1.1.1":return r.RSAPrivateKey.decode(kr.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:kr.algorithm.curve,privateKey:r.ECPrivateKey.decode(kr.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return kr.algorithm.params.priv_key=r.DSAparam.decode(kr.subjectPrivateKey,"der"),{type:"dsa",params:kr.algorithm.params};default:throw new Error("unknown key id "+wr)}case"RSA PUBLIC KEY":return r.RSAPublicKey.decode(br,"der");case"RSA PRIVATE KEY":return r.RSAPrivateKey.decode(br,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:r.DSAPrivateKey.decode(br,"der")};case"EC PRIVATE KEY":return br=r.ECPrivateKey.decode(br,"der"),{curve:br.parameters.value,privateKey:br.privateKey};default:throw new Error("unknown key type "+xe)}}return ye.signature=r.signature,parseAsn1=ye,parseAsn1}const require$$4={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"};var hasRequiredSign;function requireSign(){if(hasRequiredSign)return sign.exports;hasRequiredSign=1;var r=safeBufferExports.Buffer,e=requireBrowser$8(),t=requireBrowserifyRsa(),s=requireElliptic().ec,ne=requireBn(),o=requireParseAsn1(),we=require$$4,ye=1;function Ee(Qr,Yr,ii,ei,si){var ai=o(Yr);if(ai.curve){if(ei!=="ecdsa"&&ei!=="ecdsa/rsa")throw new Error("wrong private key type");return me(Qr,ai)}else if(ai.type==="dsa"){if(ei!=="dsa")throw new Error("wrong private key type");return fe(Qr,ai,ii)}if(ei!=="rsa"&&ei!=="ecdsa/rsa")throw new Error("wrong private key type");if(Yr.padding!==void 0&&Yr.padding!==ye)throw new Error("illegal or unsupported padding mode");Qr=r.concat([si,Qr]);for(var Gr=ai.modulus.byteLength(),fi=[0,1];Qr.length+fi.length+1<Gr;)fi.push(255);fi.push(0);for(var gi=-1;++gi<Qr.length;)fi.push(Qr[gi]);var Si=t(fi,ai);return Si}function me(Qr,Yr){var ii=we[Yr.curve.join(".")];if(!ii)throw new Error("unknown curve "+Yr.curve.join("."));var ei=new s(ii),si=ei.keyFromPrivate(Yr.privateKey),ai=si.sign(Qr);return r.from(ai.toDER())}function fe(Qr,Yr,ii){for(var ei=Yr.params.priv_key,si=Yr.params.p,ai=Yr.params.q,Gr=Yr.params.g,fi=new ne(0),gi,Si=wr(Qr,ai).mod(ai),oi=!1,Kr=br(ei,ai,Qr,ii);oi===!1;)gi=Vr(ai,Kr,ii),fi=Zr(Gr,gi,si,ai),oi=gi.invm(ai).imul(Si.add(ei.mul(fi))).mod(ai),oi.cmpn(0)===0&&(oi=!1,fi=new ne(0));return xe(fi,oi)}function xe(Qr,Yr){Qr=Qr.toArray(),Yr=Yr.toArray(),Qr[0]&128&&(Qr=[0].concat(Qr)),Yr[0]&128&&(Yr=[0].concat(Yr));var ii=Qr.length+Yr.length+4,ei=[48,ii,2,Qr.length];return ei=ei.concat(Qr,[2,Yr.length],Yr),r.from(ei)}function br(Qr,Yr,ii,ei){if(Qr=r.from(Qr.toArray()),Qr.length<Yr.byteLength()){var si=r.alloc(Yr.byteLength()-Qr.length);Qr=r.concat([si,Qr])}var ai=ii.length,Gr=kr(ii,Yr),fi=r.alloc(ai);fi.fill(1);var gi=r.alloc(ai);return gi=e(ei,gi).update(fi).update(r.from([0])).update(Qr).update(Gr).digest(),fi=e(ei,gi).update(fi).digest(),gi=e(ei,gi).update(fi).update(r.from([1])).update(Qr).update(Gr).digest(),fi=e(ei,gi).update(fi).digest(),{k:gi,v:fi}}function wr(Qr,Yr){var ii=new ne(Qr),ei=(Qr.length<<3)-Yr.bitLength();return ei>0&&ii.ishrn(ei),ii}function kr(Qr,Yr){Qr=wr(Qr,Yr),Qr=Qr.mod(Yr);var ii=r.from(Qr.toArray());if(ii.length<Yr.byteLength()){var ei=r.alloc(Yr.byteLength()-ii.length);ii=r.concat([ei,ii])}return ii}function Vr(Qr,Yr,ii){var ei,si;do{for(ei=r.alloc(0);ei.length*8<Qr.bitLength();)Yr.v=e(ii,Yr.k).update(Yr.v).digest(),ei=r.concat([ei,Yr.v]);si=wr(ei,Qr),Yr.k=e(ii,Yr.k).update(Yr.v).update(r.from([0])).digest(),Yr.v=e(ii,Yr.k).update(Yr.v).digest()}while(si.cmp(Qr)!==-1);return si}function Zr(Qr,Yr,ii,ei){return Qr.toRed(ne.mont(ii)).redPow(Yr).fromRed().mod(ei)}return sign.exports=Ee,sign.exports.getKey=br,sign.exports.makeKey=Vr,sign.exports}var verify_1,hasRequiredVerify;function requireVerify(){if(hasRequiredVerify)return verify_1;hasRequiredVerify=1;var r=safeBufferExports.Buffer,e=requireBn(),t=requireElliptic().ec,s=requireParseAsn1(),ne=require$$4;function o(me,fe,xe,br,wr){var kr=s(xe);if(kr.type==="ec"){if(br!=="ecdsa"&&br!=="ecdsa/rsa")throw new Error("wrong public key type");return we(me,fe,kr)}else if(kr.type==="dsa"){if(br!=="dsa")throw new Error("wrong public key type");return ye(me,fe,kr)}if(br!=="rsa"&&br!=="ecdsa/rsa")throw new Error("wrong public key type");fe=r.concat([wr,fe]);for(var Vr=kr.modulus.byteLength(),Zr=[1],Qr=0;fe.length+Zr.length+2<Vr;)Zr.push(255),Qr+=1;Zr.push(0);for(var Yr=-1;++Yr<fe.length;)Zr.push(fe[Yr]);Zr=r.from(Zr);var ii=e.mont(kr.modulus);me=new e(me).toRed(ii),me=me.redPow(new e(kr.publicExponent)),me=r.from(me.fromRed().toArray());var ei=Qr<8?1:0;for(Vr=Math.min(me.length,Zr.length),me.length!==Zr.length&&(ei=1),Yr=-1;++Yr<Vr;)ei|=me[Yr]^Zr[Yr];return ei===0}function we(me,fe,xe){var br=ne[xe.data.algorithm.curve.join(".")];if(!br)throw new Error("unknown curve "+xe.data.algorithm.curve.join("."));var wr=new t(br),kr=xe.data.subjectPrivateKey.data;return wr.verify(fe,me,kr)}function ye(me,fe,xe){var br=xe.data.p,wr=xe.data.q,kr=xe.data.g,Vr=xe.data.pub_key,Zr=s.signature.decode(me,"der"),Qr=Zr.s,Yr=Zr.r;Ee(Qr,wr),Ee(Yr,wr);var ii=e.mont(br),ei=Qr.invm(wr),si=kr.toRed(ii).redPow(new e(fe).mul(ei).mod(wr)).fromRed().mul(Vr.toRed(ii).redPow(Yr.mul(ei).mod(wr)).fromRed()).mod(br).mod(wr);return si.cmp(Yr)===0}function Ee(me,fe){if(me.cmpn(0)<=0)throw new Error("invalid sig");if(me.cmp(fe)>=0)throw new Error("invalid sig")}return verify_1=o,verify_1}var browser$5,hasRequiredBrowser$3;function requireBrowser$3(){if(hasRequiredBrowser$3)return browser$5;hasRequiredBrowser$3=1;var r=safeBufferExports.Buffer,e=requireBrowser$9(),t=requireReadableBrowser(),s=inherits_browserExports,ne=requireSign(),o=requireVerify(),we=require$$6;Object.keys(we).forEach(function(xe){we[xe].id=r.from(we[xe].id,"hex"),we[xe.toLowerCase()]=we[xe]});function ye(xe){t.Writable.call(this);var br=we[xe];if(!br)throw new Error("Unknown message digest");this._hashType=br.hash,this._hash=e(br.hash),this._tag=br.id,this._signType=br.sign}s(ye,t.Writable),ye.prototype._write=function(br,wr,kr){this._hash.update(br),kr()},ye.prototype.update=function(br,wr){return this._hash.update(typeof br=="string"?r.from(br,wr):br),this},ye.prototype.sign=function(br,wr){this.end();var kr=this._hash.digest(),Vr=ne(kr,br,this._hashType,this._signType,this._tag);return wr?Vr.toString(wr):Vr};function Ee(xe){t.Writable.call(this);var br=we[xe];if(!br)throw new Error("Unknown message digest");this._hash=e(br.hash),this._tag=br.id,this._signType=br.sign}s(Ee,t.Writable),Ee.prototype._write=function(br,wr,kr){this._hash.update(br),kr()},Ee.prototype.update=function(br,wr){return this._hash.update(typeof br=="string"?r.from(br,wr):br),this},Ee.prototype.verify=function(br,wr,kr){var Vr=typeof wr=="string"?r.from(wr,kr):wr;this.end();var Zr=this._hash.digest();return o(Vr,Zr,br,this._signType,this._tag)};function me(xe){return new ye(xe)}function fe(xe){return new Ee(xe)}return browser$5={Sign:me,Verify:fe,createSign:me,createVerify:fe},browser$5}var browser$4,hasRequiredBrowser$2;function requireBrowser$2(){if(hasRequiredBrowser$2)return browser$4;hasRequiredBrowser$2=1;var r=requireElliptic(),e=requireBn$2();browser$4=function(we){return new s(we)};var t={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};t.p224=t.secp224r1,t.p256=t.secp256r1=t.prime256v1,t.p192=t.secp192r1=t.prime192v1,t.p384=t.secp384r1,t.p521=t.secp521r1;function s(o){this.curveType=t[o],this.curveType||(this.curveType={name:o}),this.curve=new r.ec(this.curveType.name),this.keys=void 0}s.prototype.generateKeys=function(o,we){return this.keys=this.curve.genKeyPair(),this.getPublicKey(o,we)},s.prototype.computeSecret=function(o,we,ye){we=we||"utf8",Buffer.isBuffer(o)||(o=new Buffer(o,we));var Ee=this.curve.keyFromPublic(o).getPublic(),me=Ee.mul(this.keys.getPrivate()).getX();return ne(me,ye,this.curveType.byteLength)},s.prototype.getPublicKey=function(o,we){var ye=this.keys.getPublic(we==="compressed",!0);return we==="hybrid"&&(ye[ye.length-1]%2?ye[0]=7:ye[0]=6),ne(ye,o)},s.prototype.getPrivateKey=function(o){return ne(this.keys.getPrivate(),o)},s.prototype.setPublicKey=function(o,we){return we=we||"utf8",Buffer.isBuffer(o)||(o=new Buffer(o,we)),this.keys._importPublic(o),this},s.prototype.setPrivateKey=function(o,we){we=we||"utf8",Buffer.isBuffer(o)||(o=new Buffer(o,we));var ye=new e(o);return ye=ye.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(ye),this};function ne(o,we,ye){Array.isArray(o)||(o=o.toArray());var Ee=new Buffer(o);if(ye&&Ee.length<ye){var me=new Buffer(ye-Ee.length);me.fill(0),Ee=Buffer.concat([me,Ee])}return we?Ee.toString(we):Ee}return browser$4}var browser$3={},mgf,hasRequiredMgf;function requireMgf(){if(hasRequiredMgf)return mgf;hasRequiredMgf=1;var r=requireBrowser$9(),e=safeBufferExports.Buffer;mgf=function(s,ne){for(var o=e.alloc(0),we=0,ye;o.length<ne;)ye=t(we++),o=e.concat([o,r("sha1").update(s).update(ye).digest()]);return o.slice(0,ne)};function t(s){var ne=e.allocUnsafe(4);return ne.writeUInt32BE(s,0),ne}return mgf}var xor,hasRequiredXor;function requireXor(){return hasRequiredXor||(hasRequiredXor=1,xor=function(e,t){for(var s=e.length,ne=-1;++ne<s;)e[ne]^=t[ne];return e}),xor}var withPublic_1,hasRequiredWithPublic;function requireWithPublic(){if(hasRequiredWithPublic)return withPublic_1;hasRequiredWithPublic=1;var r=requireBn$2(),e=safeBufferExports.Buffer;function t(s,ne){return e.from(s.toRed(r.mont(ne.modulus)).redPow(new r(ne.publicExponent)).fromRed().toArray())}return withPublic_1=t,withPublic_1}var publicEncrypt,hasRequiredPublicEncrypt;function requirePublicEncrypt(){if(hasRequiredPublicEncrypt)return publicEncrypt;hasRequiredPublicEncrypt=1;var r=requireParseAsn1(),e=requireBrowser$a(),t=requireBrowser$9(),s=requireMgf(),ne=requireXor(),o=requireBn$2(),we=requireWithPublic(),ye=requireBrowserifyRsa(),Ee=safeBufferExports.Buffer;publicEncrypt=function(wr,kr,Vr){var Zr;wr.padding?Zr=wr.padding:Vr?Zr=1:Zr=4;var Qr=r(wr),Yr;if(Zr===4)Yr=me(Qr,kr);else if(Zr===1)Yr=fe(Qr,kr,Vr);else if(Zr===3){if(Yr=new o(kr),Yr.cmp(Qr.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return Vr?ye(Yr,Qr):we(Yr,Qr)};function me(br,wr){var kr=br.modulus.byteLength(),Vr=wr.length,Zr=t("sha1").update(Ee.alloc(0)).digest(),Qr=Zr.length,Yr=2*Qr;if(Vr>kr-Yr-2)throw new Error("message too long");var ii=Ee.alloc(kr-Vr-Yr-2),ei=kr-Qr-1,si=e(Qr),ai=ne(Ee.concat([Zr,ii,Ee.alloc(1,1),wr],ei),s(si,ei)),Gr=ne(si,s(ai,Qr));return new o(Ee.concat([Ee.alloc(1),Gr,ai],kr))}function fe(br,wr,kr){var Vr=wr.length,Zr=br.modulus.byteLength();if(Vr>Zr-11)throw new Error("message too long");var Qr;return kr?Qr=Ee.alloc(Zr-Vr-3,255):Qr=xe(Zr-Vr-3),new o(Ee.concat([Ee.from([0,kr?1:2]),Qr,Ee.alloc(1),wr],Zr))}function xe(br){for(var wr=Ee.allocUnsafe(br),kr=0,Vr=e(br*2),Zr=0,Qr;kr<br;)Zr===Vr.length&&(Vr=e(br*2),Zr=0),Qr=Vr[Zr++],Qr&&(wr[kr++]=Qr);return wr}return publicEncrypt}var privateDecrypt,hasRequiredPrivateDecrypt;function requirePrivateDecrypt(){if(hasRequiredPrivateDecrypt)return privateDecrypt;hasRequiredPrivateDecrypt=1;var r=requireParseAsn1(),e=requireMgf(),t=requireXor(),s=requireBn$2(),ne=requireBrowserifyRsa(),o=requireBrowser$9(),we=requireWithPublic(),ye=safeBufferExports.Buffer;privateDecrypt=function(br,wr,kr){var Vr;br.padding?Vr=br.padding:kr?Vr=1:Vr=4;var Zr=r(br),Qr=Zr.modulus.byteLength();if(wr.length>Qr||new s(wr).cmp(Zr.modulus)>=0)throw new Error("decryption error");var Yr;kr?Yr=we(new s(wr),Zr):Yr=ne(wr,Zr);var ii=ye.alloc(Qr-Yr.length);if(Yr=ye.concat([ii,Yr],Qr),Vr===4)return Ee(Zr,Yr);if(Vr===1)return me(Zr,Yr,kr);if(Vr===3)return Yr;throw new Error("unknown padding")};function Ee(xe,br){var wr=xe.modulus.byteLength(),kr=o("sha1").update(ye.alloc(0)).digest(),Vr=kr.length;if(br[0]!==0)throw new Error("decryption error");var Zr=br.slice(1,Vr+1),Qr=br.slice(Vr+1),Yr=t(Zr,e(Qr,Vr)),ii=t(Qr,e(Yr,wr-Vr-1));if(fe(kr,ii.slice(0,Vr)))throw new Error("decryption error");for(var ei=Vr;ii[ei]===0;)ei++;if(ii[ei++]!==1)throw new Error("decryption error");return ii.slice(ei)}function me(xe,br,wr){for(var kr=br.slice(0,2),Vr=2,Zr=0;br[Vr++]!==0;)if(Vr>=br.length){Zr++;break}var Qr=br.slice(2,Vr-1);if((kr.toString("hex")!=="0002"&&!wr||kr.toString("hex")!=="0001"&&wr)&&Zr++,Qr.length<8&&Zr++,Zr)throw new Error("decryption error");return br.slice(Vr)}function fe(xe,br){xe=ye.from(xe),br=ye.from(br);var wr=0,kr=xe.length;xe.length!==br.length&&(wr++,kr=Math.min(xe.length,br.length));for(var Vr=-1;++Vr<kr;)wr+=xe[Vr]^br[Vr];return wr}return privateDecrypt}var hasRequiredBrowser$1;function requireBrowser$1(){return hasRequiredBrowser$1||(hasRequiredBrowser$1=1,function(r){r.publicEncrypt=requirePublicEncrypt(),r.privateDecrypt=requirePrivateDecrypt(),r.privateEncrypt=function(t,s){return r.publicEncrypt(t,s,!0)},r.publicDecrypt=function(t,s){return r.privateDecrypt(t,s,!0)}}(browser$3)),browser$3}var browser$2={},hasRequiredBrowser;function requireBrowser(){if(hasRequiredBrowser)return browser$2;hasRequiredBrowser=1;function r(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var e=safeBufferExports;requireBrowser$a();var t=e.Buffer,s=e.kMaxLength,ne=commonjsGlobal.crypto||commonjsGlobal.msCrypto,o=Math.pow(2,32)-1;function we(xe,br){if(typeof xe!="number"||xe!==xe)throw new TypeError("offset must be a number");if(xe>o||xe<0)throw new TypeError("offset must be a uint32");if(xe>s||xe>br)throw new RangeError("offset out of range")}function ye(xe,br,wr){if(typeof xe!="number"||xe!==xe)throw new TypeError("size must be a number");if(xe>o||xe<0)throw new TypeError("size must be a uint32");if(xe+br>wr||xe>s)throw new RangeError("buffer too small")}ne&&ne.getRandomValues?(exports.randomFill=Ee,exports.randomFillSync=fe):(browser$2.randomFill=r,browser$2.randomFillSync=r);function Ee(xe,br,wr,kr){if(!t.isBuffer(xe)&&!(xe instanceof globalThis.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof br=="function")kr=br,br=0,wr=xe.length;else if(typeof wr=="function")kr=wr,wr=xe.length-br;else if(typeof kr!="function")throw new TypeError('"cb" argument must be a function');return we(br,xe.length),ye(wr,br,xe.length),me(xe,br,wr,kr)}function me(xe,br,wr,kr){{var Vr=xe.buffer,Zr=new Uint8Array(Vr,br,wr);if(ne.getRandomValues(Zr),kr){process$1.nextTick(function(){kr(null,xe)});return}return xe}}function fe(xe,br,wr){if(typeof br>"u"&&(br=0),!t.isBuffer(xe)&&!(xe instanceof globalThis.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return we(br,xe.length),wr===void 0&&(wr=xe.length-br),ye(wr,br,xe.length),me(xe,br,wr)}return browser$2}var hasRequiredCryptoBrowserify;function requireCryptoBrowserify(){if(hasRequiredCryptoBrowserify)return cryptoBrowserify;hasRequiredCryptoBrowserify=1,cryptoBrowserify.randomBytes=cryptoBrowserify.rng=cryptoBrowserify.pseudoRandomBytes=cryptoBrowserify.prng=requireBrowser$a(),cryptoBrowserify.createHash=cryptoBrowserify.Hash=requireBrowser$9(),cryptoBrowserify.createHmac=cryptoBrowserify.Hmac=requireBrowser$8();var r=requireAlgos(),e=Object.keys(r),t=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(e);cryptoBrowserify.getHashes=function(){return t};var s=requireBrowser$7();cryptoBrowserify.pbkdf2=s.pbkdf2,cryptoBrowserify.pbkdf2Sync=s.pbkdf2Sync;var ne=requireBrowser$5();cryptoBrowserify.Cipher=ne.Cipher,cryptoBrowserify.createCipher=ne.createCipher,cryptoBrowserify.Cipheriv=ne.Cipheriv,cryptoBrowserify.createCipheriv=ne.createCipheriv,cryptoBrowserify.Decipher=ne.Decipher,cryptoBrowserify.createDecipher=ne.createDecipher,cryptoBrowserify.Decipheriv=ne.Decipheriv,cryptoBrowserify.createDecipheriv=ne.createDecipheriv,cryptoBrowserify.getCiphers=ne.getCiphers,cryptoBrowserify.listCiphers=ne.listCiphers;var o=requireBrowser$4();cryptoBrowserify.DiffieHellmanGroup=o.DiffieHellmanGroup,cryptoBrowserify.createDiffieHellmanGroup=o.createDiffieHellmanGroup,cryptoBrowserify.getDiffieHellman=o.getDiffieHellman,cryptoBrowserify.createDiffieHellman=o.createDiffieHellman,cryptoBrowserify.DiffieHellman=o.DiffieHellman;var we=requireBrowser$3();cryptoBrowserify.createSign=we.createSign,cryptoBrowserify.Sign=we.Sign,cryptoBrowserify.createVerify=we.createVerify,cryptoBrowserify.Verify=we.Verify,cryptoBrowserify.createECDH=requireBrowser$2();var ye=requireBrowser$1();cryptoBrowserify.publicEncrypt=ye.publicEncrypt,cryptoBrowserify.privateEncrypt=ye.privateEncrypt,cryptoBrowserify.publicDecrypt=ye.publicDecrypt,cryptoBrowserify.privateDecrypt=ye.privateDecrypt;var Ee=requireBrowser();return cryptoBrowserify.randomFill=Ee.randomFill,cryptoBrowserify.randomFillSync=Ee.randomFillSync,cryptoBrowserify.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},cryptoBrowserify.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6},cryptoBrowserify}Object.defineProperty(node$1,"__esModule",{value:!0});node$1.NodeRandomSource=void 0;const wipe_1=wipe$1;class NodeRandomSource{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof commonjsRequire<"u"){const e=requireCryptoBrowserify();e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let t=this._crypto.randomBytes(e);if(t.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");const s=new Uint8Array(e);for(let ne=0;ne<s.length;ne++)s[ne]=t[ne];return(0,wipe_1.wipe)(t),s}}node$1.NodeRandomSource=NodeRandomSource;Object.defineProperty(system,"__esModule",{value:!0});system.SystemRandomSource=void 0;const browser_1=browser$d,node_1=node$1;class SystemRandomSource{constructor(){if(this.isAvailable=!1,this.name="",this._source=new browser_1.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new node_1.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)}}system.SystemRandomSource=SystemRandomSource;(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.randomStringForEntropy=r.randomString=r.randomUint32=r.randomBytes=r.defaultRandomSource=void 0;const e=system,t=binary,s=wipe$1;r.defaultRandomSource=new e.SystemRandomSource;function ne(me,fe=r.defaultRandomSource){return fe.randomBytes(me)}r.randomBytes=ne;function o(me=r.defaultRandomSource){const fe=ne(4,me),xe=(0,t.readUint32LE)(fe);return(0,s.wipe)(fe),xe}r.randomUint32=o;const we="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function ye(me,fe=we,xe=r.defaultRandomSource){if(fe.length<2)throw new Error("randomString charset is too short");if(fe.length>256)throw new Error("randomString charset is too long");let br="";const wr=fe.length,kr=256-256%wr;for(;me>0;){const Vr=ne(Math.ceil(me*256/kr),xe);for(let Zr=0;Zr<Vr.length&&me>0;Zr++){const Qr=Vr[Zr];Qr<kr&&(br+=fe.charAt(Qr%wr),me--)}(0,s.wipe)(Vr)}return br}r.randomString=ye;function Ee(me,fe=we,xe=r.defaultRandomSource){const br=Math.ceil(me/(Math.log(fe.length)/Math.LN2));return ye(br,fe,xe)}r.randomStringForEntropy=Ee})(random);var sha256={};(function(r){Object.defineProperty(r,"__esModule",{value:!0});var e=binary,t=wipe$1;r.DIGEST_LENGTH=32,r.BLOCK_SIZE=64;var s=function(){function ye(){this.digestLength=r.DIGEST_LENGTH,this.blockSize=r.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return ye.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},ye.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},ye.prototype.clean=function(){t.wipe(this._buffer),t.wipe(this._temp),this.reset()},ye.prototype.update=function(Ee,me){if(me===void 0&&(me=Ee.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var fe=0;if(this._bytesHashed+=me,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&me>0;)this._buffer[this._bufferLength++]=Ee[fe++],me--;this._bufferLength===this.blockSize&&(o(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(me>=this.blockSize&&(fe=o(this._temp,this._state,Ee,fe,me),me%=this.blockSize);me>0;)this._buffer[this._bufferLength++]=Ee[fe++],me--;return this},ye.prototype.finish=function(Ee){if(!this._finished){var me=this._bytesHashed,fe=this._bufferLength,xe=me/536870912|0,br=me<<3,wr=me%64<56?64:128;this._buffer[fe]=128;for(var kr=fe+1;kr<wr-8;kr++)this._buffer[kr]=0;e.writeUint32BE(xe,this._buffer,wr-8),e.writeUint32BE(br,this._buffer,wr-4),o(this._temp,this._state,this._buffer,0,wr),this._finished=!0}for(var kr=0;kr<this.digestLength/4;kr++)e.writeUint32BE(this._state[kr],Ee,kr*4);return this},ye.prototype.digest=function(){var Ee=new Uint8Array(this.digestLength);return this.finish(Ee),Ee},ye.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},ye.prototype.restoreState=function(Ee){return this._state.set(Ee.state),this._bufferLength=Ee.bufferLength,Ee.buffer&&this._buffer.set(Ee.buffer),this._bytesHashed=Ee.bytesHashed,this._finished=!1,this},ye.prototype.cleanSavedState=function(Ee){t.wipe(Ee.state),Ee.buffer&&t.wipe(Ee.buffer),Ee.bufferLength=0,Ee.bytesHashed=0},ye}();r.SHA256=s;var ne=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function o(ye,Ee,me,fe,xe){for(;xe>=64;){for(var br=Ee[0],wr=Ee[1],kr=Ee[2],Vr=Ee[3],Zr=Ee[4],Qr=Ee[5],Yr=Ee[6],ii=Ee[7],ei=0;ei<16;ei++){var si=fe+ei*4;ye[ei]=e.readUint32BE(me,si)}for(var ei=16;ei<64;ei++){var ai=ye[ei-2],Gr=(ai>>>17|ai<<15)^(ai>>>19|ai<<13)^ai>>>10;ai=ye[ei-15];var fi=(ai>>>7|ai<<25)^(ai>>>18|ai<<14)^ai>>>3;ye[ei]=(Gr+ye[ei-7]|0)+(fi+ye[ei-16]|0)}for(var ei=0;ei<64;ei++){var Gr=(((Zr>>>6|Zr<<26)^(Zr>>>11|Zr<<21)^(Zr>>>25|Zr<<7))+(Zr&Qr^~Zr&Yr)|0)+(ii+(ne[ei]+ye[ei]|0)|0)|0,fi=((br>>>2|br<<30)^(br>>>13|br<<19)^(br>>>22|br<<10))+(br&wr^br&kr^wr&kr)|0;ii=Yr,Yr=Qr,Qr=Zr,Zr=Vr+Gr|0,Vr=kr,kr=wr,wr=br,br=Gr+fi|0}Ee[0]+=br,Ee[1]+=wr,Ee[2]+=kr,Ee[3]+=Vr,Ee[4]+=Zr,Ee[5]+=Qr,Ee[6]+=Yr,Ee[7]+=ii,fe+=64,xe-=64}return fe}function we(ye){var Ee=new s;Ee.update(ye);var me=Ee.digest();return Ee.clean(),me}r.hash=we})(sha256);var x25519={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.sharedKey=r.generateKeyPair=r.generateKeyPairFromSeed=r.scalarMultBase=r.scalarMult=r.SHARED_KEY_LENGTH=r.SECRET_KEY_LENGTH=r.PUBLIC_KEY_LENGTH=void 0;const e=random,t=wipe$1;r.PUBLIC_KEY_LENGTH=32,r.SECRET_KEY_LENGTH=32,r.SHARED_KEY_LENGTH=32;function s(ei){const si=new Float64Array(16);if(ei)for(let ai=0;ai<ei.length;ai++)si[ai]=ei[ai];return si}const ne=new Uint8Array(32);ne[0]=9;const o=s([56129,1]);function we(ei){let si=1;for(let ai=0;ai<16;ai++){let Gr=ei[ai]+si+65535;si=Math.floor(Gr/65536),ei[ai]=Gr-si*65536}ei[0]+=si-1+37*(si-1)}function ye(ei,si,ai){const Gr=~(ai-1);for(let fi=0;fi<16;fi++){const gi=Gr&(ei[fi]^si[fi]);ei[fi]^=gi,si[fi]^=gi}}function Ee(ei,si){const ai=s(),Gr=s();for(let fi=0;fi<16;fi++)Gr[fi]=si[fi];we(Gr),we(Gr),we(Gr);for(let fi=0;fi<2;fi++){ai[0]=Gr[0]-65517;for(let Si=1;Si<15;Si++)ai[Si]=Gr[Si]-65535-(ai[Si-1]>>16&1),ai[Si-1]&=65535;ai[15]=Gr[15]-32767-(ai[14]>>16&1);const gi=ai[15]>>16&1;ai[14]&=65535,ye(Gr,ai,1-gi)}for(let fi=0;fi<16;fi++)ei[2*fi]=Gr[fi]&255,ei[2*fi+1]=Gr[fi]>>8}function me(ei,si){for(let ai=0;ai<16;ai++)ei[ai]=si[2*ai]+(si[2*ai+1]<<8);ei[15]&=32767}function fe(ei,si,ai){for(let Gr=0;Gr<16;Gr++)ei[Gr]=si[Gr]+ai[Gr]}function xe(ei,si,ai){for(let Gr=0;Gr<16;Gr++)ei[Gr]=si[Gr]-ai[Gr]}function br(ei,si,ai){let Gr,fi,gi=0,Si=0,oi=0,Kr=0,Ie=0,C=0,be=0,Oe=0,fr=0,qr=0,Hr=0,Er=0,jr=0,Se=0,Wr=0,bi=0,vi=0,Ei=0,ti=0,ri=0,ci=0,Jr=0,li=0,yi=0,$i=0,Ni=0,Bi=0,zn=0,zi=0,Ki=0,la=0,Vi=ai[0],Ii=ai[1],Nn=ai[2],ki=ai[3],Ai=ai[4],In=ai[5],wn=ai[6],qi=ai[7],Yn=ai[8],$n=ai[9],Oi=ai[10],fa=ai[11],Pn=ai[12],Li=ai[13],ca=ai[14],Cn=ai[15];Gr=si[0],gi+=Gr*Vi,Si+=Gr*Ii,oi+=Gr*Nn,Kr+=Gr*ki,Ie+=Gr*Ai,C+=Gr*In,be+=Gr*wn,Oe+=Gr*qi,fr+=Gr*Yn,qr+=Gr*$n,Hr+=Gr*Oi,Er+=Gr*fa,jr+=Gr*Pn,Se+=Gr*Li,Wr+=Gr*ca,bi+=Gr*Cn,Gr=si[1],Si+=Gr*Vi,oi+=Gr*Ii,Kr+=Gr*Nn,Ie+=Gr*ki,C+=Gr*Ai,be+=Gr*In,Oe+=Gr*wn,fr+=Gr*qi,qr+=Gr*Yn,Hr+=Gr*$n,Er+=Gr*Oi,jr+=Gr*fa,Se+=Gr*Pn,Wr+=Gr*Li,bi+=Gr*ca,vi+=Gr*Cn,Gr=si[2],oi+=Gr*Vi,Kr+=Gr*Ii,Ie+=Gr*Nn,C+=Gr*ki,be+=Gr*Ai,Oe+=Gr*In,fr+=Gr*wn,qr+=Gr*qi,Hr+=Gr*Yn,Er+=Gr*$n,jr+=Gr*Oi,Se+=Gr*fa,Wr+=Gr*Pn,bi+=Gr*Li,vi+=Gr*ca,Ei+=Gr*Cn,Gr=si[3],Kr+=Gr*Vi,Ie+=Gr*Ii,C+=Gr*Nn,be+=Gr*ki,Oe+=Gr*Ai,fr+=Gr*In,qr+=Gr*wn,Hr+=Gr*qi,Er+=Gr*Yn,jr+=Gr*$n,Se+=Gr*Oi,Wr+=Gr*fa,bi+=Gr*Pn,vi+=Gr*Li,Ei+=Gr*ca,ti+=Gr*Cn,Gr=si[4],Ie+=Gr*Vi,C+=Gr*Ii,be+=Gr*Nn,Oe+=Gr*ki,fr+=Gr*Ai,qr+=Gr*In,Hr+=Gr*wn,Er+=Gr*qi,jr+=Gr*Yn,Se+=Gr*$n,Wr+=Gr*Oi,bi+=Gr*fa,vi+=Gr*Pn,Ei+=Gr*Li,ti+=Gr*ca,ri+=Gr*Cn,Gr=si[5],C+=Gr*Vi,be+=Gr*Ii,Oe+=Gr*Nn,fr+=Gr*ki,qr+=Gr*Ai,Hr+=Gr*In,Er+=Gr*wn,jr+=Gr*qi,Se+=Gr*Yn,Wr+=Gr*$n,bi+=Gr*Oi,vi+=Gr*fa,Ei+=Gr*Pn,ti+=Gr*Li,ri+=Gr*ca,ci+=Gr*Cn,Gr=si[6],be+=Gr*Vi,Oe+=Gr*Ii,fr+=Gr*Nn,qr+=Gr*ki,Hr+=Gr*Ai,Er+=Gr*In,jr+=Gr*wn,Se+=Gr*qi,Wr+=Gr*Yn,bi+=Gr*$n,vi+=Gr*Oi,Ei+=Gr*fa,ti+=Gr*Pn,ri+=Gr*Li,ci+=Gr*ca,Jr+=Gr*Cn,Gr=si[7],Oe+=Gr*Vi,fr+=Gr*Ii,qr+=Gr*Nn,Hr+=Gr*ki,Er+=Gr*Ai,jr+=Gr*In,Se+=Gr*wn,Wr+=Gr*qi,bi+=Gr*Yn,vi+=Gr*$n,Ei+=Gr*Oi,ti+=Gr*fa,ri+=Gr*Pn,ci+=Gr*Li,Jr+=Gr*ca,li+=Gr*Cn,Gr=si[8],fr+=Gr*Vi,qr+=Gr*Ii,Hr+=Gr*Nn,Er+=Gr*ki,jr+=Gr*Ai,Se+=Gr*In,Wr+=Gr*wn,bi+=Gr*qi,vi+=Gr*Yn,Ei+=Gr*$n,ti+=Gr*Oi,ri+=Gr*fa,ci+=Gr*Pn,Jr+=Gr*Li,li+=Gr*ca,yi+=Gr*Cn,Gr=si[9],qr+=Gr*Vi,Hr+=Gr*Ii,Er+=Gr*Nn,jr+=Gr*ki,Se+=Gr*Ai,Wr+=Gr*In,bi+=Gr*wn,vi+=Gr*qi,Ei+=Gr*Yn,ti+=Gr*$n,ri+=Gr*Oi,ci+=Gr*fa,Jr+=Gr*Pn,li+=Gr*Li,yi+=Gr*ca,$i+=Gr*Cn,Gr=si[10],Hr+=Gr*Vi,Er+=Gr*Ii,jr+=Gr*Nn,Se+=Gr*ki,Wr+=Gr*Ai,bi+=Gr*In,vi+=Gr*wn,Ei+=Gr*qi,ti+=Gr*Yn,ri+=Gr*$n,ci+=Gr*Oi,Jr+=Gr*fa,li+=Gr*Pn,yi+=Gr*Li,$i+=Gr*ca,Ni+=Gr*Cn,Gr=si[11],Er+=Gr*Vi,jr+=Gr*Ii,Se+=Gr*Nn,Wr+=Gr*ki,bi+=Gr*Ai,vi+=Gr*In,Ei+=Gr*wn,ti+=Gr*qi,ri+=Gr*Yn,ci+=Gr*$n,Jr+=Gr*Oi,li+=Gr*fa,yi+=Gr*Pn,$i+=Gr*Li,Ni+=Gr*ca,Bi+=Gr*Cn,Gr=si[12],jr+=Gr*Vi,Se+=Gr*Ii,Wr+=Gr*Nn,bi+=Gr*ki,vi+=Gr*Ai,Ei+=Gr*In,ti+=Gr*wn,ri+=Gr*qi,ci+=Gr*Yn,Jr+=Gr*$n,li+=Gr*Oi,yi+=Gr*fa,$i+=Gr*Pn,Ni+=Gr*Li,Bi+=Gr*ca,zn+=Gr*Cn,Gr=si[13],Se+=Gr*Vi,Wr+=Gr*Ii,bi+=Gr*Nn,vi+=Gr*ki,Ei+=Gr*Ai,ti+=Gr*In,ri+=Gr*wn,ci+=Gr*qi,Jr+=Gr*Yn,li+=Gr*$n,yi+=Gr*Oi,$i+=Gr*fa,Ni+=Gr*Pn,Bi+=Gr*Li,zn+=Gr*ca,zi+=Gr*Cn,Gr=si[14],Wr+=Gr*Vi,bi+=Gr*Ii,vi+=Gr*Nn,Ei+=Gr*ki,ti+=Gr*Ai,ri+=Gr*In,ci+=Gr*wn,Jr+=Gr*qi,li+=Gr*Yn,yi+=Gr*$n,$i+=Gr*Oi,Ni+=Gr*fa,Bi+=Gr*Pn,zn+=Gr*Li,zi+=Gr*ca,Ki+=Gr*Cn,Gr=si[15],bi+=Gr*Vi,vi+=Gr*Ii,Ei+=Gr*Nn,ti+=Gr*ki,ri+=Gr*Ai,ci+=Gr*In,Jr+=Gr*wn,li+=Gr*qi,yi+=Gr*Yn,$i+=Gr*$n,Ni+=Gr*Oi,Bi+=Gr*fa,zn+=Gr*Pn,zi+=Gr*Li,Ki+=Gr*ca,la+=Gr*Cn,gi+=38*vi,Si+=38*Ei,oi+=38*ti,Kr+=38*ri,Ie+=38*ci,C+=38*Jr,be+=38*li,Oe+=38*yi,fr+=38*$i,qr+=38*Ni,Hr+=38*Bi,Er+=38*zn,jr+=38*zi,Se+=38*Ki,Wr+=38*la,fi=1,Gr=gi+fi+65535,fi=Math.floor(Gr/65536),gi=Gr-fi*65536,Gr=Si+fi+65535,fi=Math.floor(Gr/65536),Si=Gr-fi*65536,Gr=oi+fi+65535,fi=Math.floor(Gr/65536),oi=Gr-fi*65536,Gr=Kr+fi+65535,fi=Math.floor(Gr/65536),Kr=Gr-fi*65536,Gr=Ie+fi+65535,fi=Math.floor(Gr/65536),Ie=Gr-fi*65536,Gr=C+fi+65535,fi=Math.floor(Gr/65536),C=Gr-fi*65536,Gr=be+fi+65535,fi=Math.floor(Gr/65536),be=Gr-fi*65536,Gr=Oe+fi+65535,fi=Math.floor(Gr/65536),Oe=Gr-fi*65536,Gr=fr+fi+65535,fi=Math.floor(Gr/65536),fr=Gr-fi*65536,Gr=qr+fi+65535,fi=Math.floor(Gr/65536),qr=Gr-fi*65536,Gr=Hr+fi+65535,fi=Math.floor(Gr/65536),Hr=Gr-fi*65536,Gr=Er+fi+65535,fi=Math.floor(Gr/65536),Er=Gr-fi*65536,Gr=jr+fi+65535,fi=Math.floor(Gr/65536),jr=Gr-fi*65536,Gr=Se+fi+65535,fi=Math.floor(Gr/65536),Se=Gr-fi*65536,Gr=Wr+fi+65535,fi=Math.floor(Gr/65536),Wr=Gr-fi*65536,Gr=bi+fi+65535,fi=Math.floor(Gr/65536),bi=Gr-fi*65536,gi+=fi-1+37*(fi-1),fi=1,Gr=gi+fi+65535,fi=Math.floor(Gr/65536),gi=Gr-fi*65536,Gr=Si+fi+65535,fi=Math.floor(Gr/65536),Si=Gr-fi*65536,Gr=oi+fi+65535,fi=Math.floor(Gr/65536),oi=Gr-fi*65536,Gr=Kr+fi+65535,fi=Math.floor(Gr/65536),Kr=Gr-fi*65536,Gr=Ie+fi+65535,fi=Math.floor(Gr/65536),Ie=Gr-fi*65536,Gr=C+fi+65535,fi=Math.floor(Gr/65536),C=Gr-fi*65536,Gr=be+fi+65535,fi=Math.floor(Gr/65536),be=Gr-fi*65536,Gr=Oe+fi+65535,fi=Math.floor(Gr/65536),Oe=Gr-fi*65536,Gr=fr+fi+65535,fi=Math.floor(Gr/65536),fr=Gr-fi*65536,Gr=qr+fi+65535,fi=Math.floor(Gr/65536),qr=Gr-fi*65536,Gr=Hr+fi+65535,fi=Math.floor(Gr/65536),Hr=Gr-fi*65536,Gr=Er+fi+65535,fi=Math.floor(Gr/65536),Er=Gr-fi*65536,Gr=jr+fi+65535,fi=Math.floor(Gr/65536),jr=Gr-fi*65536,Gr=Se+fi+65535,fi=Math.floor(Gr/65536),Se=Gr-fi*65536,Gr=Wr+fi+65535,fi=Math.floor(Gr/65536),Wr=Gr-fi*65536,Gr=bi+fi+65535,fi=Math.floor(Gr/65536),bi=Gr-fi*65536,gi+=fi-1+37*(fi-1),ei[0]=gi,ei[1]=Si,ei[2]=oi,ei[3]=Kr,ei[4]=Ie,ei[5]=C,ei[6]=be,ei[7]=Oe,ei[8]=fr,ei[9]=qr,ei[10]=Hr,ei[11]=Er,ei[12]=jr,ei[13]=Se,ei[14]=Wr,ei[15]=bi}function wr(ei,si){br(ei,si,si)}function kr(ei,si){const ai=s();for(let Gr=0;Gr<16;Gr++)ai[Gr]=si[Gr];for(let Gr=253;Gr>=0;Gr--)wr(ai,ai),Gr!==2&&Gr!==4&&br(ai,ai,si);for(let Gr=0;Gr<16;Gr++)ei[Gr]=ai[Gr]}function Vr(ei,si){const ai=new Uint8Array(32),Gr=new Float64Array(80),fi=s(),gi=s(),Si=s(),oi=s(),Kr=s(),Ie=s();for(let fr=0;fr<31;fr++)ai[fr]=ei[fr];ai[31]=ei[31]&127|64,ai[0]&=248,me(Gr,si);for(let fr=0;fr<16;fr++)gi[fr]=Gr[fr];fi[0]=oi[0]=1;for(let fr=254;fr>=0;--fr){const qr=ai[fr>>>3]>>>(fr&7)&1;ye(fi,gi,qr),ye(Si,oi,qr),fe(Kr,fi,Si),xe(fi,fi,Si),fe(Si,gi,oi),xe(gi,gi,oi),wr(oi,Kr),wr(Ie,fi),br(fi,Si,fi),br(Si,gi,Kr),fe(Kr,fi,Si),xe(fi,fi,Si),wr(gi,fi),xe(Si,oi,Ie),br(fi,Si,o),fe(fi,fi,oi),br(Si,Si,fi),br(fi,oi,Ie),br(oi,gi,Gr),wr(gi,Kr),ye(fi,gi,qr),ye(Si,oi,qr)}for(let fr=0;fr<16;fr++)Gr[fr+16]=fi[fr],Gr[fr+32]=Si[fr],Gr[fr+48]=gi[fr],Gr[fr+64]=oi[fr];const C=Gr.subarray(32),be=Gr.subarray(16);kr(C,C),br(be,be,C);const Oe=new Uint8Array(32);return Ee(Oe,be),Oe}r.scalarMult=Vr;function Zr(ei){return Vr(ei,ne)}r.scalarMultBase=Zr;function Qr(ei){if(ei.length!==r.SECRET_KEY_LENGTH)throw new Error(`x25519: seed must be ${r.SECRET_KEY_LENGTH} bytes`);const si=new Uint8Array(ei);return{publicKey:Zr(si),secretKey:si}}r.generateKeyPairFromSeed=Qr;function Yr(ei){const si=(0,e.randomBytes)(32,ei),ai=Qr(si);return(0,t.wipe)(si),ai}r.generateKeyPair=Yr;function ii(ei,si,ai=!1){if(ei.length!==r.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(si.length!==r.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");const Gr=Vr(ei,si);if(ai){let fi=0;for(let gi=0;gi<Gr.length;gi++)fi|=Gr[gi];if(fi===0)throw new Error("X25519: invalid shared key")}return Gr}r.sharedKey=ii})(x25519);function asUint8Array(r){return globalThis.Buffer!=null?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r}function allocUnsafe(r=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?asUint8Array(globalThis.Buffer.allocUnsafe(r)):new Uint8Array(r)}function concat(r,e){e||(e=r.reduce((ne,o)=>ne+o.length,0));const t=allocUnsafe(e);let s=0;for(const ne of r)t.set(ne,s),s+=ne.length;return asUint8Array(t)}function base(r,e){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),s=0;s<t.length;s++)t[s]=255;for(var ne=0;ne<r.length;ne++){var o=r.charAt(ne),we=o.charCodeAt(0);if(t[we]!==255)throw new TypeError(o+" is ambiguous");t[we]=ne}var ye=r.length,Ee=r.charAt(0),me=Math.log(ye)/Math.log(256),fe=Math.log(256)/Math.log(ye);function xe(kr){if(kr instanceof Uint8Array||(ArrayBuffer.isView(kr)?kr=new Uint8Array(kr.buffer,kr.byteOffset,kr.byteLength):Array.isArray(kr)&&(kr=Uint8Array.from(kr))),!(kr instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(kr.length===0)return"";for(var Vr=0,Zr=0,Qr=0,Yr=kr.length;Qr!==Yr&&kr[Qr]===0;)Qr++,Vr++;for(var ii=(Yr-Qr)*fe+1>>>0,ei=new Uint8Array(ii);Qr!==Yr;){for(var si=kr[Qr],ai=0,Gr=ii-1;(si!==0||ai<Zr)&&Gr!==-1;Gr--,ai++)si+=256*ei[Gr]>>>0,ei[Gr]=si%ye>>>0,si=si/ye>>>0;if(si!==0)throw new Error("Non-zero carry");Zr=ai,Qr++}for(var fi=ii-Zr;fi!==ii&&ei[fi]===0;)fi++;for(var gi=Ee.repeat(Vr);fi<ii;++fi)gi+=r.charAt(ei[fi]);return gi}function br(kr){if(typeof kr!="string")throw new TypeError("Expected String");if(kr.length===0)return new Uint8Array;var Vr=0;if(kr[Vr]!==" "){for(var Zr=0,Qr=0;kr[Vr]===Ee;)Zr++,Vr++;for(var Yr=(kr.length-Vr)*me+1>>>0,ii=new Uint8Array(Yr);kr[Vr];){var ei=t[kr.charCodeAt(Vr)];if(ei===255)return;for(var si=0,ai=Yr-1;(ei!==0||si<Qr)&&ai!==-1;ai--,si++)ei+=ye*ii[ai]>>>0,ii[ai]=ei%256>>>0,ei=ei/256>>>0;if(ei!==0)throw new Error("Non-zero carry");Qr=si,Vr++}if(kr[Vr]!==" "){for(var Gr=Yr-Qr;Gr!==Yr&&ii[Gr]===0;)Gr++;for(var fi=new Uint8Array(Zr+(Yr-Gr)),gi=Zr;Gr!==Yr;)fi[gi++]=ii[Gr++];return fi}}}function wr(kr){var Vr=br(kr);if(Vr)return Vr;throw new Error(`Non-${e} character`)}return{encode:xe,decodeUnsafe:br,decode:wr}}var src=base,_brrp__multiformats_scope_baseX=src;const coerce=r=>{if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")},fromString$1=r=>new TextEncoder().encode(r),toString$1=r=>new TextDecoder().decode(r);class Encoder{constructor(e,t,s){this.name=e,this.prefix=t,this.baseEncode=s}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Decoder{constructor(e,t,s){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=s}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return or$2(this,e)}}class ComposedDecoder{constructor(e){this.decoders=e}or(e){return or$2(this,e)}decode(e){const t=e[0],s=this.decoders[t];if(s)return s.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const or$2=(r,e)=>new ComposedDecoder({...r.decoders||{[r.prefix]:r},...e.decoders||{[e.prefix]:e}});class Codec{constructor(e,t,s,ne){this.name=e,this.prefix=t,this.baseEncode=s,this.baseDecode=ne,this.encoder=new Encoder(e,t,s),this.decoder=new Decoder(e,t,ne)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const from=({name:r,prefix:e,encode:t,decode:s})=>new Codec(r,e,t,s),baseX=({prefix:r,name:e,alphabet:t})=>{const{encode:s,decode:ne}=_brrp__multiformats_scope_baseX(t,e);return from({prefix:r,name:e,encode:s,decode:o=>coerce(ne(o))})},decode$2=(r,e,t,s)=>{const ne={};for(let fe=0;fe<e.length;++fe)ne[e[fe]]=fe;let o=r.length;for(;r[o-1]==="=";)--o;const we=new Uint8Array(o*t/8|0);let ye=0,Ee=0,me=0;for(let fe=0;fe<o;++fe){const xe=ne[r[fe]];if(xe===void 0)throw new SyntaxError(`Non-${s} character`);Ee=Ee<<t|xe,ye+=t,ye>=8&&(ye-=8,we[me++]=255&Ee>>ye)}if(ye>=t||255&Ee<<8-ye)throw new SyntaxError("Unexpected end of data");return we},encode$1=(r,e,t)=>{const s=e[e.length-1]==="=",ne=(1<<t)-1;let o="",we=0,ye=0;for(let Ee=0;Ee<r.length;++Ee)for(ye=ye<<8|r[Ee],we+=8;we>t;)we-=t,o+=e[ne&ye>>we];if(we&&(o+=e[ne&ye<<t-we]),s)for(;o.length*t&7;)o+="=";return o},rfc4648=({name:r,prefix:e,bitsPerChar:t,alphabet:s})=>from({prefix:e,name:r,encode(ne){return encode$1(ne,s,t)},decode(ne){return decode$2(ne,s,t,r)}}),identity=from({prefix:"\0",name:"identity",encode:r=>toString$1(r),decode:r=>fromString$1(r)}),identityBase=Object.freeze(Object.defineProperty({__proto__:null,identity},Symbol.toStringTag,{value:"Module"})),base2=rfc4648({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),base2$1=Object.freeze(Object.defineProperty({__proto__:null,base2},Symbol.toStringTag,{value:"Module"})),base8=rfc4648({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),base8$1=Object.freeze(Object.defineProperty({__proto__:null,base8},Symbol.toStringTag,{value:"Module"})),base10=baseX({prefix:"9",name:"base10",alphabet:"0123456789"}),base10$1=Object.freeze(Object.defineProperty({__proto__:null,base10},Symbol.toStringTag,{value:"Module"})),base16=rfc4648({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper=rfc4648({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),base16$1=Object.freeze(Object.defineProperty({__proto__:null,base16,base16upper},Symbol.toStringTag,{value:"Module"})),base32=rfc4648({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),base32upper=rfc4648({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),base32pad=rfc4648({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),base32padupper=rfc4648({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),base32hex=rfc4648({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),base32hexupper=rfc4648({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),base32hexpad=rfc4648({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),base32hexpadupper=rfc4648({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z=rfc4648({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),base32$1=Object.freeze(Object.defineProperty({__proto__:null,base32,base32hex,base32hexpad,base32hexpadupper,base32hexupper,base32pad,base32padupper,base32upper,base32z},Symbol.toStringTag,{value:"Module"})),base36=baseX({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper=baseX({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),base36$1=Object.freeze(Object.defineProperty({__proto__:null,base36,base36upper},Symbol.toStringTag,{value:"Module"})),base58btc=baseX({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr=baseX({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),base58=Object.freeze(Object.defineProperty({__proto__:null,base58btc,base58flickr},Symbol.toStringTag,{value:"Module"})),base64=rfc4648({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),base64pad=rfc4648({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),base64url=rfc4648({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad=rfc4648({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),base64$1=Object.freeze(Object.defineProperty({__proto__:null,base64,base64pad,base64url,base64urlpad},Symbol.toStringTag,{value:"Module"})),alphabet=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),alphabetBytesToChars=alphabet.reduce((r,e,t)=>(r[t]=e,r),[]),alphabetCharsToBytes=alphabet.reduce((r,e,t)=>(r[e.codePointAt(0)]=t,r),[]);function encode(r){return r.reduce((e,t)=>(e+=alphabetBytesToChars[t],e),"")}function decode$1(r){const e=[];for(const t of r){const s=alphabetCharsToBytes[t.codePointAt(0)];if(s===void 0)throw new Error(`Non-base256emoji character: ${t}`);e.push(s)}return new Uint8Array(e)}const base256emoji=from({prefix:"🚀",name:"base256emoji",encode,decode:decode$1}),base256emoji$1=Object.freeze(Object.defineProperty({__proto__:null,base256emoji},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const bases={...identityBase,...base2$1,...base8$1,...base10$1,...base16$1,...base32$1,...base36$1,...base58,...base64$1,...base256emoji$1};function createCodec(r,e,t,s){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:t},decoder:{decode:s}}}const string=createCodec("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>new TextEncoder().encode(r.substring(1))),ascii=createCodec("ascii","a",r=>{let e="a";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e},r=>{r=r.substring(1);const e=allocUnsafe(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}),BASES={utf8:string,"utf-8":string,hex:bases.base16,latin1:ascii,ascii,binary:ascii,...bases};function fromString(r,e="utf8"){const t=BASES[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?asUint8Array(globalThis.Buffer.from(r,"utf-8")):t.decoder.decode(`${t.prefix}${r}`)}function toString(r,e="utf8"){const t=BASES[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(r.buffer,r.byteOffset,r.byteLength).toString("utf8"):t.encoder.encode(r).substring(1)}var __spreadArray=function(r,e,t){if(t||arguments.length===2)for(var s=0,ne=e.length,o;s<ne;s++)(o||!(s in e))&&(o||(o=Array.prototype.slice.call(e,0,s)),o[s]=e[s]);return r.concat(o||Array.prototype.slice.call(e))},BrowserInfo=function(){function r(e,t,s){this.name=e,this.version=t,this.os=s,this.type="browser"}return r}(),NodeInfo=function(){function r(e){this.version=e,this.type="node",this.name="node",this.os=process$1.platform}return r}(),SearchBotDeviceInfo=function(){function r(e,t,s,ne){this.name=e,this.version=t,this.os=s,this.bot=ne,this.type="bot-device"}return r}(),BotInfo=function(){function r(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return r}(),ReactNativeInfo=function(){function r(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return r}(),SEARCHBOX_UA_REGEX=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,SEARCHBOT_OS_REGEX=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,REQUIRED_VERSION_PARTS=3,userAgentRules=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",SEARCHBOX_UA_REGEX]],operatingSystemRules=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function detect(r){return r?parseUserAgent(r):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new ReactNativeInfo:typeof navigator<"u"?parseUserAgent(navigator.userAgent):getNodeVersion()}function matchUserAgent(r){return r!==""&&userAgentRules.reduce(function(e,t){var s=t[0],ne=t[1];if(e)return e;var o=ne.exec(r);return!!o&&[s,o]},!1)}function parseUserAgent(r){var e=matchUserAgent(r);if(!e)return null;var t=e[0],s=e[1];if(t==="searchbot")return new BotInfo;var ne=s[1]&&s[1].split(".").join("_").split("_").slice(0,3);ne?ne.length<REQUIRED_VERSION_PARTS&&(ne=__spreadArray(__spreadArray([],ne,!0),createVersionParts(REQUIRED_VERSION_PARTS-ne.length),!0)):ne=[];var o=ne.join("."),we=detectOS(r),ye=SEARCHBOT_OS_REGEX.exec(r);return ye&&ye[1]?new SearchBotDeviceInfo(t,o,we,ye[1]):new BrowserInfo(t,o,we)}function detectOS(r){for(var e=0,t=operatingSystemRules.length;e<t;e++){var s=operatingSystemRules[e],ne=s[0],o=s[1],we=o.exec(r);if(we)return ne}return null}function getNodeVersion(){var r=typeof process$1<"u"&&process$1.version;return r?new NodeInfo(process$1.version.slice(1)):null}function createVersionParts(r){for(var e=[],t=0;t<r;t++)e.push("0");return e}var cjs$4={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics$2=function(r,e){return extendStatics$2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,s){t.__proto__=s}||function(t,s){for(var ne in s)s.hasOwnProperty(ne)&&(t[ne]=s[ne])},extendStatics$2(r,e)};function __extends$2(r,e){extendStatics$2(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var __assign$2=function(){return __assign$2=Object.assign||function(e){for(var t,s=1,ne=arguments.length;s<ne;s++){t=arguments[s];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},__assign$2.apply(this,arguments)};function __rest$2(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ne=0,s=Object.getOwnPropertySymbols(r);ne<s.length;ne++)e.indexOf(s[ne])<0&&Object.prototype.propertyIsEnumerable.call(r,s[ne])&&(t[s[ne]]=r[s[ne]]);return t}function __decorate$2(r,e,t,s){var ne=arguments.length,o=ne<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,t):s,we;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,s);else for(var ye=r.length-1;ye>=0;ye--)(we=r[ye])&&(o=(ne<3?we(o):ne>3?we(e,t,o):we(e,t))||o);return ne>3&&o&&Object.defineProperty(e,t,o),o}function __param$2(r,e){return function(t,s){e(t,s,r)}}function __metadata$2(r,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,e)}function __awaiter$2(r,e,t,s){function ne(o){return o instanceof t?o:new t(function(we){we(o)})}return new(t||(t=Promise))(function(o,we){function ye(fe){try{me(s.next(fe))}catch(xe){we(xe)}}function Ee(fe){try{me(s.throw(fe))}catch(xe){we(xe)}}function me(fe){fe.done?o(fe.value):ne(fe.value).then(ye,Ee)}me((s=s.apply(r,e||[])).next())})}function __generator$2(r,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},s,ne,o,we;return we={next:ye(0),throw:ye(1),return:ye(2)},typeof Symbol=="function"&&(we[Symbol.iterator]=function(){return this}),we;function ye(me){return function(fe){return Ee([me,fe])}}function Ee(me){if(s)throw new TypeError("Generator is already executing.");for(;t;)try{if(s=1,ne&&(o=me[0]&2?ne.return:me[0]?ne.throw||((o=ne.return)&&o.call(ne),0):ne.next)&&!(o=o.call(ne,me[1])).done)return o;switch(ne=0,o&&(me=[me[0]&2,o.value]),me[0]){case 0:case 1:o=me;break;case 4:return t.label++,{value:me[1],done:!1};case 5:t.label++,ne=me[1],me=[0];continue;case 7:me=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(me[0]===6||me[0]===2)){t=0;continue}if(me[0]===3&&(!o||me[1]>o[0]&&me[1]<o[3])){t.label=me[1];break}if(me[0]===6&&t.label<o[1]){t.label=o[1],o=me;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(me);break}o[2]&&t.ops.pop(),t.trys.pop();continue}me=e.call(r,t)}catch(fe){me=[6,fe],ne=0}finally{s=o=0}if(me[0]&5)throw me[1];return{value:me[0]?me[1]:void 0,done:!0}}}function __createBinding$2(r,e,t,s){s===void 0&&(s=t),r[s]=e[t]}function __exportStar$2(r,e){for(var t in r)t!=="default"&&!e.hasOwnProperty(t)&&(e[t]=r[t])}function __values$2(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],s=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&s>=r.length&&(r=void 0),{value:r&&r[s++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read$2(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var s=t.call(r),ne,o=[],we;try{for(;(e===void 0||e-- >0)&&!(ne=s.next()).done;)o.push(ne.value)}catch(ye){we={error:ye}}finally{try{ne&&!ne.done&&(t=s.return)&&t.call(s)}finally{if(we)throw we.error}}return o}function __spread$2(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(__read$2(arguments[e]));return r}function __spreadArrays$2(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var s=Array(r),ne=0,e=0;e<t;e++)for(var o=arguments[e],we=0,ye=o.length;we<ye;we++,ne++)s[ne]=o[we];return s}function __await$2(r){return this instanceof __await$2?(this.v=r,this):new __await$2(r)}function __asyncGenerator$2(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=t.apply(r,e||[]),ne,o=[];return ne={},we("next"),we("throw"),we("return"),ne[Symbol.asyncIterator]=function(){return this},ne;function we(br){s[br]&&(ne[br]=function(wr){return new Promise(function(kr,Vr){o.push([br,wr,kr,Vr])>1||ye(br,wr)})})}function ye(br,wr){try{Ee(s[br](wr))}catch(kr){xe(o[0][3],kr)}}function Ee(br){br.value instanceof __await$2?Promise.resolve(br.value.v).then(me,fe):xe(o[0][2],br)}function me(br){ye("next",br)}function fe(br){ye("throw",br)}function xe(br,wr){br(wr),o.shift(),o.length&&ye(o[0][0],o[0][1])}}function __asyncDelegator$2(r){var e,t;return e={},s("next"),s("throw",function(ne){throw ne}),s("return"),e[Symbol.iterator]=function(){return this},e;function s(ne,o){e[ne]=r[ne]?function(we){return(t=!t)?{value:__await$2(r[ne](we)),done:ne==="return"}:o?o(we):we}:o}}function __asyncValues$2(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof __values$2=="function"?__values$2(r):r[Symbol.iterator](),t={},s("next"),s("throw"),s("return"),t[Symbol.asyncIterator]=function(){return this},t);function s(o){t[o]=r[o]&&function(we){return new Promise(function(ye,Ee){we=r[o](we),ne(ye,Ee,we.done,we.value)})}}function ne(o,we,ye,Ee){Promise.resolve(Ee).then(function(me){o({value:me,done:ye})},we)}}function __makeTemplateObject$2(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r}function __importStar$2(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)Object.hasOwnProperty.call(r,t)&&(e[t]=r[t]);return e.default=r,e}function __importDefault$2(r){return r&&r.__esModule?r:{default:r}}function __classPrivateFieldGet$2(r,e){if(!e.has(r))throw new TypeError("attempted to get private field on non-instance");return e.get(r)}function __classPrivateFieldSet$2(r,e,t){if(!e.has(r))throw new TypeError("attempted to set private field on non-instance");return e.set(r,t),t}const tslib_es6$2=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return __assign$2},__asyncDelegator:__asyncDelegator$2,__asyncGenerator:__asyncGenerator$2,__asyncValues:__asyncValues$2,__await:__await$2,__awaiter:__awaiter$2,__classPrivateFieldGet:__classPrivateFieldGet$2,__classPrivateFieldSet:__classPrivateFieldSet$2,__createBinding:__createBinding$2,__decorate:__decorate$2,__exportStar:__exportStar$2,__extends:__extends$2,__generator:__generator$2,__importDefault:__importDefault$2,__importStar:__importStar$2,__makeTemplateObject:__makeTemplateObject$2,__metadata:__metadata$2,__param:__param$2,__read:__read$2,__rest:__rest$2,__spread:__spread$2,__spreadArrays:__spreadArrays$2,__values:__values$2},Symbol.toStringTag,{value:"Module"})),require$$0$4=getAugmentedNamespace(tslib_es6$2);var utils={},delay={},hasRequiredDelay;function requireDelay(){if(hasRequiredDelay)return delay;hasRequiredDelay=1,Object.defineProperty(delay,"__esModule",{value:!0}),delay.delay=void 0;function r(e){return new Promise(t=>{setTimeout(()=>{t(!0)},e)})}return delay.delay=r,delay}var convert={},constants$1={},misc={},hasRequiredMisc;function requireMisc(){return hasRequiredMisc||(hasRequiredMisc=1,Object.defineProperty(misc,"__esModule",{value:!0}),misc.ONE_THOUSAND=misc.ONE_HUNDRED=void 0,misc.ONE_HUNDRED=100,misc.ONE_THOUSAND=1e3),misc}var time={},hasRequiredTime;function requireTime(){return hasRequiredTime||(hasRequiredTime=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.ONE_YEAR=r.FOUR_WEEKS=r.THREE_WEEKS=r.TWO_WEEKS=r.ONE_WEEK=r.THIRTY_DAYS=r.SEVEN_DAYS=r.FIVE_DAYS=r.THREE_DAYS=r.ONE_DAY=r.TWENTY_FOUR_HOURS=r.TWELVE_HOURS=r.SIX_HOURS=r.THREE_HOURS=r.ONE_HOUR=r.SIXTY_MINUTES=r.THIRTY_MINUTES=r.TEN_MINUTES=r.FIVE_MINUTES=r.ONE_MINUTE=r.SIXTY_SECONDS=r.THIRTY_SECONDS=r.TEN_SECONDS=r.FIVE_SECONDS=r.ONE_SECOND=void 0,r.ONE_SECOND=1,r.FIVE_SECONDS=5,r.TEN_SECONDS=10,r.THIRTY_SECONDS=30,r.SIXTY_SECONDS=60,r.ONE_MINUTE=r.SIXTY_SECONDS,r.FIVE_MINUTES=r.ONE_MINUTE*5,r.TEN_MINUTES=r.ONE_MINUTE*10,r.THIRTY_MINUTES=r.ONE_MINUTE*30,r.SIXTY_MINUTES=r.ONE_MINUTE*60,r.ONE_HOUR=r.SIXTY_MINUTES,r.THREE_HOURS=r.ONE_HOUR*3,r.SIX_HOURS=r.ONE_HOUR*6,r.TWELVE_HOURS=r.ONE_HOUR*12,r.TWENTY_FOUR_HOURS=r.ONE_HOUR*24,r.ONE_DAY=r.TWENTY_FOUR_HOURS,r.THREE_DAYS=r.ONE_DAY*3,r.FIVE_DAYS=r.ONE_DAY*5,r.SEVEN_DAYS=r.ONE_DAY*7,r.THIRTY_DAYS=r.ONE_DAY*30,r.ONE_WEEK=r.SEVEN_DAYS,r.TWO_WEEKS=r.ONE_WEEK*2,r.THREE_WEEKS=r.ONE_WEEK*3,r.FOUR_WEEKS=r.ONE_WEEK*4,r.ONE_YEAR=r.ONE_DAY*365}(time)),time}var hasRequiredConstants$1;function requireConstants$1(){return hasRequiredConstants$1||(hasRequiredConstants$1=1,function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=require$$0$4;e.__exportStar(requireMisc(),r),e.__exportStar(requireTime(),r)}(constants$1)),constants$1}var hasRequiredConvert;function requireConvert(){if(hasRequiredConvert)return convert;hasRequiredConvert=1,Object.defineProperty(convert,"__esModule",{value:!0}),convert.fromMiliseconds=convert.toMiliseconds=void 0;const r=requireConstants$1();function e(s){return s*r.ONE_THOUSAND}convert.toMiliseconds=e;function t(s){return Math.floor(s/r.ONE_THOUSAND)}return convert.fromMiliseconds=t,convert}var hasRequiredUtils;function requireUtils(){return hasRequiredUtils||(hasRequiredUtils=1,function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=require$$0$4;e.__exportStar(requireDelay(),r),e.__exportStar(requireConvert(),r)}(utils)),utils}var watch$2={},hasRequiredWatch$1;function requireWatch$1(){if(hasRequiredWatch$1)return watch$2;hasRequiredWatch$1=1,Object.defineProperty(watch$2,"__esModule",{value:!0}),watch$2.Watch=void 0;class r{constructor(){this.timestamps=new Map}start(t){if(this.timestamps.has(t))throw new Error(`Watch already started for label: ${t}`);this.timestamps.set(t,{started:Date.now()})}stop(t){const s=this.get(t);if(typeof s.elapsed<"u")throw new Error(`Watch already stopped for label: ${t}`);const ne=Date.now()-s.started;this.timestamps.set(t,{started:s.started,elapsed:ne})}get(t){const s=this.timestamps.get(t);if(typeof s>"u")throw new Error(`No timestamp found for label: ${t}`);return s}elapsed(t){const s=this.get(t);return s.elapsed||Date.now()-s.started}}return watch$2.Watch=r,watch$2.default=r,watch$2}var types$1={},watch$1={},hasRequiredWatch;function requireWatch(){if(hasRequiredWatch)return watch$1;hasRequiredWatch=1,Object.defineProperty(watch$1,"__esModule",{value:!0}),watch$1.IWatch=void 0;class r{}return watch$1.IWatch=r,watch$1}var hasRequiredTypes$1;function requireTypes$1(){return hasRequiredTypes$1||(hasRequiredTypes$1=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),require$$0$4.__exportStar(requireWatch(),r)}(types$1)),types$1}(function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=require$$0$4;e.__exportStar(requireUtils(),r),e.__exportStar(requireWatch$1(),r),e.__exportStar(requireTypes$1(),r),e.__exportStar(requireConstants$1(),r)})(cjs$4);var cjs$3={};Object.defineProperty(cjs$3,"__esModule",{value:!0});cjs$3.getLocalStorage=cjs$3.getLocalStorageOrThrow=cjs$3.getCrypto=cjs$3.getCryptoOrThrow=getLocation_1=cjs$3.getLocation=cjs$3.getLocationOrThrow=getNavigator_1=cjs$3.getNavigator=cjs$3.getNavigatorOrThrow=getDocument_1=cjs$3.getDocument=cjs$3.getDocumentOrThrow=cjs$3.getFromWindowOrThrow=cjs$3.getFromWindow=void 0;function getFromWindow(r){let e;return typeof window<"u"&&typeof window[r]<"u"&&(e=window[r]),e}cjs$3.getFromWindow=getFromWindow;function getFromWindowOrThrow(r){const e=getFromWindow(r);if(!e)throw new Error(`${r} is not defined in Window`);return e}cjs$3.getFromWindowOrThrow=getFromWindowOrThrow;function getDocumentOrThrow(){return getFromWindowOrThrow("document")}cjs$3.getDocumentOrThrow=getDocumentOrThrow;function getDocument(){return getFromWindow("document")}var getDocument_1=cjs$3.getDocument=getDocument;function getNavigatorOrThrow(){return getFromWindowOrThrow("navigator")}cjs$3.getNavigatorOrThrow=getNavigatorOrThrow;function getNavigator(){return getFromWindow("navigator")}var getNavigator_1=cjs$3.getNavigator=getNavigator;function getLocationOrThrow(){return getFromWindowOrThrow("location")}cjs$3.getLocationOrThrow=getLocationOrThrow;function getLocation(){return getFromWindow("location")}var getLocation_1=cjs$3.getLocation=getLocation;function getCryptoOrThrow(){return getFromWindowOrThrow("crypto")}cjs$3.getCryptoOrThrow=getCryptoOrThrow;function getCrypto(){return getFromWindow("crypto")}cjs$3.getCrypto=getCrypto;function getLocalStorageOrThrow(){return getFromWindowOrThrow("localStorage")}cjs$3.getLocalStorageOrThrow=getLocalStorageOrThrow;function getLocalStorage(){return getFromWindow("localStorage")}cjs$3.getLocalStorage=getLocalStorage;var cjs$2={};Object.defineProperty(cjs$2,"__esModule",{value:!0});var getWindowMetadata_1=cjs$2.getWindowMetadata=void 0;const window_getters_1=cjs$3;function getWindowMetadata(){let r,e;try{r=window_getters_1.getDocumentOrThrow(),e=window_getters_1.getLocationOrThrow()}catch{return null}function t(){const xe=r.getElementsByTagName("link"),br=[];for(let wr=0;wr<xe.length;wr++){const kr=xe[wr],Vr=kr.getAttribute("rel");if(Vr&&Vr.toLowerCase().indexOf("icon")>-1){const Zr=kr.getAttribute("href");if(Zr)if(Zr.toLowerCase().indexOf("https:")===-1&&Zr.toLowerCase().indexOf("http:")===-1&&Zr.indexOf("//")!==0){let Qr=e.protocol+"//"+e.host;if(Zr.indexOf("/")===0)Qr+=Zr;else{const Yr=e.pathname.split("/");Yr.pop();const ii=Yr.join("/");Qr+=ii+"/"+Zr}br.push(Qr)}else if(Zr.indexOf("//")===0){const Qr=e.protocol+Zr;br.push(Qr)}else br.push(Zr)}}return br}function s(...xe){const br=r.getElementsByTagName("meta");for(let wr=0;wr<br.length;wr++){const kr=br[wr],Vr=["itemprop","property","name"].map(Zr=>kr.getAttribute(Zr)).filter(Zr=>Zr?xe.includes(Zr):!1);if(Vr.length&&Vr){const Zr=kr.getAttribute("content");if(Zr)return Zr}}return""}function ne(){let xe=s("name","og:site_name","og:title","twitter:title");return xe||(xe=r.title),xe}function o(){return s("description","og:description","twitter:description","keywords")}const we=ne(),ye=o(),Ee=e.origin,me=t();return{description:ye,url:Ee,icons:me,name:we}}getWindowMetadata_1=cjs$2.getWindowMetadata=getWindowMetadata;var queryString={},strictUriEncode=r=>encodeURIComponent(r).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),token="%[a-f0-9]{2}",singleMatcher=new RegExp("("+token+")|([^%]+?)","gi"),multiMatcher=new RegExp("("+token+")+","gi");function decodeComponents(r,e){try{return[decodeURIComponent(r.join(""))]}catch{}if(r.length===1)return r;e=e||1;var t=r.slice(0,e),s=r.slice(e);return Array.prototype.concat.call([],decodeComponents(t),decodeComponents(s))}function decode(r){try{return decodeURIComponent(r)}catch{for(var e=r.match(singleMatcher)||[],t=1;t<e.length;t++)r=decodeComponents(e,t).join(""),e=r.match(singleMatcher)||[];return r}}function customDecodeURIComponent(r){for(var e={"%FE%FF":"��","%FF%FE":"��"},t=multiMatcher.exec(r);t;){try{e[t[0]]=decodeURIComponent(t[0])}catch{var s=decode(t[0]);s!==t[0]&&(e[t[0]]=s)}t=multiMatcher.exec(r)}e["%C2"]="�";for(var ne=Object.keys(e),o=0;o<ne.length;o++){var we=ne[o];r=r.replace(new RegExp(we,"g"),e[we])}return r}var decodeUriComponent=function(r){if(typeof r!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof r+"`");try{return r=r.replace(/\+/g," "),decodeURIComponent(r)}catch{return customDecodeURIComponent(r)}},splitOnFirst=(r,e)=>{if(!(typeof r=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e==="")return[r];const t=r.indexOf(e);return t===-1?[r]:[r.slice(0,t),r.slice(t+e.length)]},filterObj=function(r,e){for(var t={},s=Object.keys(r),ne=Array.isArray(e),o=0;o<s.length;o++){var we=s[o],ye=r[we];(ne?e.indexOf(we)!==-1:e(we,ye,r))&&(t[we]=ye)}return t};(function(r){const e=strictUriEncode,t=decodeUriComponent,s=splitOnFirst,ne=filterObj,o=Yr=>Yr==null,we=Symbol("encodeFragmentIdentifier");function ye(Yr){switch(Yr.arrayFormat){case"index":return ii=>(ei,si)=>{const ai=ei.length;return si===void 0||Yr.skipNull&&si===null||Yr.skipEmptyString&&si===""?ei:si===null?[...ei,[fe(ii,Yr),"[",ai,"]"].join("")]:[...ei,[fe(ii,Yr),"[",fe(ai,Yr),"]=",fe(si,Yr)].join("")]};case"bracket":return ii=>(ei,si)=>si===void 0||Yr.skipNull&&si===null||Yr.skipEmptyString&&si===""?ei:si===null?[...ei,[fe(ii,Yr),"[]"].join("")]:[...ei,[fe(ii,Yr),"[]=",fe(si,Yr)].join("")];case"colon-list-separator":return ii=>(ei,si)=>si===void 0||Yr.skipNull&&si===null||Yr.skipEmptyString&&si===""?ei:si===null?[...ei,[fe(ii,Yr),":list="].join("")]:[...ei,[fe(ii,Yr),":list=",fe(si,Yr)].join("")];case"comma":case"separator":case"bracket-separator":{const ii=Yr.arrayFormat==="bracket-separator"?"[]=":"=";return ei=>(si,ai)=>ai===void 0||Yr.skipNull&&ai===null||Yr.skipEmptyString&&ai===""?si:(ai=ai===null?"":ai,si.length===0?[[fe(ei,Yr),ii,fe(ai,Yr)].join("")]:[[si,fe(ai,Yr)].join(Yr.arrayFormatSeparator)])}default:return ii=>(ei,si)=>si===void 0||Yr.skipNull&&si===null||Yr.skipEmptyString&&si===""?ei:si===null?[...ei,fe(ii,Yr)]:[...ei,[fe(ii,Yr),"=",fe(si,Yr)].join("")]}}function Ee(Yr){let ii;switch(Yr.arrayFormat){case"index":return(ei,si,ai)=>{if(ii=/\[(\d*)\]$/.exec(ei),ei=ei.replace(/\[\d*\]$/,""),!ii){ai[ei]=si;return}ai[ei]===void 0&&(ai[ei]={}),ai[ei][ii[1]]=si};case"bracket":return(ei,si,ai)=>{if(ii=/(\[\])$/.exec(ei),ei=ei.replace(/\[\]$/,""),!ii){ai[ei]=si;return}if(ai[ei]===void 0){ai[ei]=[si];return}ai[ei]=[].concat(ai[ei],si)};case"colon-list-separator":return(ei,si,ai)=>{if(ii=/(:list)$/.exec(ei),ei=ei.replace(/:list$/,""),!ii){ai[ei]=si;return}if(ai[ei]===void 0){ai[ei]=[si];return}ai[ei]=[].concat(ai[ei],si)};case"comma":case"separator":return(ei,si,ai)=>{const Gr=typeof si=="string"&&si.includes(Yr.arrayFormatSeparator),fi=typeof si=="string"&&!Gr&&xe(si,Yr).includes(Yr.arrayFormatSeparator);si=fi?xe(si,Yr):si;const gi=Gr||fi?si.split(Yr.arrayFormatSeparator).map(Si=>xe(Si,Yr)):si===null?si:xe(si,Yr);ai[ei]=gi};case"bracket-separator":return(ei,si,ai)=>{const Gr=/(\[\])$/.test(ei);if(ei=ei.replace(/\[\]$/,""),!Gr){ai[ei]=si&&xe(si,Yr);return}const fi=si===null?[]:si.split(Yr.arrayFormatSeparator).map(gi=>xe(gi,Yr));if(ai[ei]===void 0){ai[ei]=fi;return}ai[ei]=[].concat(ai[ei],fi)};default:return(ei,si,ai)=>{if(ai[ei]===void 0){ai[ei]=si;return}ai[ei]=[].concat(ai[ei],si)}}}function me(Yr){if(typeof Yr!="string"||Yr.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function fe(Yr,ii){return ii.encode?ii.strict?e(Yr):encodeURIComponent(Yr):Yr}function xe(Yr,ii){return ii.decode?t(Yr):Yr}function br(Yr){return Array.isArray(Yr)?Yr.sort():typeof Yr=="object"?br(Object.keys(Yr)).sort((ii,ei)=>Number(ii)-Number(ei)).map(ii=>Yr[ii]):Yr}function wr(Yr){const ii=Yr.indexOf("#");return ii!==-1&&(Yr=Yr.slice(0,ii)),Yr}function kr(Yr){let ii="";const ei=Yr.indexOf("#");return ei!==-1&&(ii=Yr.slice(ei)),ii}function Vr(Yr){Yr=wr(Yr);const ii=Yr.indexOf("?");return ii===-1?"":Yr.slice(ii+1)}function Zr(Yr,ii){return ii.parseNumbers&&!Number.isNaN(Number(Yr))&&typeof Yr=="string"&&Yr.trim()!==""?Yr=Number(Yr):ii.parseBooleans&&Yr!==null&&(Yr.toLowerCase()==="true"||Yr.toLowerCase()==="false")&&(Yr=Yr.toLowerCase()==="true"),Yr}function Qr(Yr,ii){ii=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},ii),me(ii.arrayFormatSeparator);const ei=Ee(ii),si=Object.create(null);if(typeof Yr!="string"||(Yr=Yr.trim().replace(/^[?#&]/,""),!Yr))return si;for(const ai of Yr.split("&")){if(ai==="")continue;let[Gr,fi]=s(ii.decode?ai.replace(/\+/g," "):ai,"=");fi=fi===void 0?null:["comma","separator","bracket-separator"].includes(ii.arrayFormat)?fi:xe(fi,ii),ei(xe(Gr,ii),fi,si)}for(const ai of Object.keys(si)){const Gr=si[ai];if(typeof Gr=="object"&&Gr!==null)for(const fi of Object.keys(Gr))Gr[fi]=Zr(Gr[fi],ii);else si[ai]=Zr(Gr,ii)}return ii.sort===!1?si:(ii.sort===!0?Object.keys(si).sort():Object.keys(si).sort(ii.sort)).reduce((ai,Gr)=>{const fi=si[Gr];return fi&&typeof fi=="object"&&!Array.isArray(fi)?ai[Gr]=br(fi):ai[Gr]=fi,ai},Object.create(null))}r.extract=Vr,r.parse=Qr,r.stringify=(Yr,ii)=>{if(!Yr)return"";ii=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},ii),me(ii.arrayFormatSeparator);const ei=fi=>ii.skipNull&&o(Yr[fi])||ii.skipEmptyString&&Yr[fi]==="",si=ye(ii),ai={};for(const fi of Object.keys(Yr))ei(fi)||(ai[fi]=Yr[fi]);const Gr=Object.keys(ai);return ii.sort!==!1&&Gr.sort(ii.sort),Gr.map(fi=>{const gi=Yr[fi];return gi===void 0?"":gi===null?fe(fi,ii):Array.isArray(gi)?gi.length===0&&ii.arrayFormat==="bracket-separator"?fe(fi,ii)+"[]":gi.reduce(si(fi),[]).join("&"):fe(fi,ii)+"="+fe(gi,ii)}).filter(fi=>fi.length>0).join("&")},r.parseUrl=(Yr,ii)=>{ii=Object.assign({decode:!0},ii);const[ei,si]=s(Yr,"#");return Object.assign({url:ei.split("?")[0]||"",query:Qr(Vr(Yr),ii)},ii&&ii.parseFragmentIdentifier&&si?{fragmentIdentifier:xe(si,ii)}:{})},r.stringifyUrl=(Yr,ii)=>{ii=Object.assign({encode:!0,strict:!0,[we]:!0},ii);const ei=wr(Yr.url).split("?")[0]||"",si=r.extract(Yr.url),ai=r.parse(si,{sort:!1}),Gr=Object.assign(ai,Yr.query);let fi=r.stringify(Gr,ii);fi&&(fi=`?${fi}`);let gi=kr(Yr.url);return Yr.fragmentIdentifier&&(gi=`#${ii[we]?fe(Yr.fragmentIdentifier,ii):Yr.fragmentIdentifier}`),`${ei}${fi}${gi}`},r.pick=(Yr,ii,ei)=>{ei=Object.assign({parseFragmentIdentifier:!0,[we]:!1},ei);const{url:si,query:ai,fragmentIdentifier:Gr}=r.parseUrl(Yr,ei);return r.stringifyUrl({url:si,query:ne(ai,ii),fragmentIdentifier:Gr},ei)},r.exclude=(Yr,ii,ei)=>{const si=Array.isArray(ii)?ai=>!ii.includes(ai):(ai,Gr)=>!ii(ai,Gr);return r.pick(Yr,si,ei)}})(queryString);const RELAY_JSONRPC={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe"}},K$1=":";function ve(r){const[e,t]=r.split(K$1);return{namespace:e,reference:t}}function Un(r,e=[]){const t=[];return Object.keys(r).forEach(s=>{if(e.length&&!e.includes(s))return;const ne=r[s];t.push(...ne.accounts)}),t}function L$2(r,e){return r.includes(":")?[r]:e.chains||[]}const J$1="base10",p$3="base16",F$2="base64pad",H$1="utf8",Q$3=0,_$3=1,Dn=0,Te=1,Z$1=12,X$1=32;function kn(){const r=x25519.generateKeyPair();return{privateKey:toString(r.secretKey,p$3),publicKey:toString(r.publicKey,p$3)}}function Vn$1(){const r=random.randomBytes(X$1);return toString(r,p$3)}function Mn(r,e){const t=x25519.sharedKey(fromString(r,p$3),fromString(e,p$3),!0),s=new HKDF_1(sha256.SHA256,t).expand(X$1);return toString(s,p$3)}function Kn(r){const e=sha256.hash(fromString(r,p$3));return toString(e,p$3)}function Ln(r){const e=sha256.hash(fromString(r,H$1));return toString(e,p$3)}function Pe(r){return fromString(`${r}`,J$1)}function j$2(r){return Number(toString(r,J$1))}function xn(r){const e=Pe(typeof r.type<"u"?r.type:Q$3);if(j$2(e)===_$3&&typeof r.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const t=typeof r.senderPublicKey<"u"?fromString(r.senderPublicKey,p$3):void 0,s=typeof r.iv<"u"?fromString(r.iv,p$3):random.randomBytes(Z$1),ne=new chacha20poly1305.ChaCha20Poly1305(fromString(r.symKey,p$3)).seal(s,fromString(r.message,H$1));return Re({type:e,sealed:ne,iv:s,senderPublicKey:t})}function Fn(r){const e=new chacha20poly1305.ChaCha20Poly1305(fromString(r.symKey,p$3)),{sealed:t,iv:s}=ee$1(r.encoded),ne=e.open(s,t);if(ne===null)throw new Error("Failed to decrypt");return toString(ne,H$1)}function Re(r){if(j$2(r.type)===_$3){if(typeof r.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return toString(concat([r.type,r.senderPublicKey,r.iv,r.sealed]),F$2)}return toString(concat([r.type,r.iv,r.sealed]),F$2)}function ee$1(r){const e=fromString(r,F$2),t=e.slice(Dn,Te),s=Te;if(j$2(t)===_$3){const ye=s+X$1,Ee=ye+Z$1,me=e.slice(s,ye),fe=e.slice(ye,Ee),xe=e.slice(Ee);return{type:t,sealed:xe,iv:fe,senderPublicKey:me}}const ne=s+Z$1,o=e.slice(s,ne),we=e.slice(ne);return{type:t,sealed:we,iv:o}}function Hn(r,e){const t=ee$1(r);return Ae({type:j$2(t.type),senderPublicKey:typeof t.senderPublicKey<"u"?toString(t.senderPublicKey,p$3):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function Ae(r){const e=(r==null?void 0:r.type)||Q$3;if(e===_$3){if(typeof(r==null?void 0:r.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(r==null?void 0:r.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:r==null?void 0:r.senderPublicKey,receiverPublicKey:r==null?void 0:r.receiverPublicKey}}function qn(r){return r.type===_$3&&typeof r.senderPublicKey=="string"&&typeof r.receiverPublicKey=="string"}var Bn=Object.defineProperty,Ue$1=Object.getOwnPropertySymbols,Gn=Object.prototype.hasOwnProperty,Wn=Object.prototype.propertyIsEnumerable,_e=(r,e,t)=>e in r?Bn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,$e$1=(r,e)=>{for(var t in e||(e={}))Gn.call(e,t)&&_e(r,t,e[t]);if(Ue$1)for(var t of Ue$1(e))Wn.call(e,t)&&_e(r,t,e[t]);return r};const Ce="ReactNative",m$1={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},De$1="js";function te$1(){return typeof process$1<"u"&&typeof process$1.versions<"u"&&typeof process$1.versions.node<"u"}function $$2(){return!getDocument_1()&&!!getNavigator_1()&&navigator.product===Ce}function D$4(){return!te$1()&&!!getNavigator_1()&&!!getDocument_1()}function R$2(){return $$2()?m$1.reactNative:te$1()?m$1.node:D$4()?m$1.browser:m$1.unknown}function Jn(){var r;try{return $$2()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(r=global.Application)==null?void 0:r.applicationId:void 0}catch{return}}function ke$1(r,e){let t=queryString.parse(r);return t=$e$1($e$1({},t),e),r=queryString.stringify(t),r}function Qn(){return getWindowMetadata_1()||{name:"",description:"",url:"",icons:[""]}}function Ve$1(){if(R$2()===m$1.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:t,Version:s}=global.Platform;return[t,s].join("-")}const r=detect();if(r===null)return"unknown";const e=r.os?r.os.replace(" ","").toLowerCase():"unknown";return r.type==="browser"?[e,r.name,r.version].join("-"):[e,r.version].join("-")}function Me$1(){var r;const e=R$2();return e===m$1.browser?[e,((r=getLocation_1())==null?void 0:r.host)||"unknown"].join(":"):e}function Ke$1(r,e,t){const s=Ve$1(),ne=Me$1();return[[r,e].join("-"),[De$1,t].join("-"),s,ne].join("/")}function Xn({protocol:r,version:e,relayUrl:t,sdkVersion:s,auth:ne,projectId:o,useOnCloseEvent:we,bundleId:ye}){const Ee=t.split("?"),me=Ke$1(r,e,s),fe={auth:ne,ua:me,projectId:o,useOnCloseEvent:we||void 0,origin:ye||void 0},xe=ke$1(Ee[1]||"",fe);return Ee[0]+"?"+xe}function O$3(r,e){return r.filter(t=>e.includes(t)).length===r.length}function rt$1(r){return Object.fromEntries(r.entries())}function ot$1(r){return new Map(Object.entries(r))}function at$1(r=cjs$4.FIVE_MINUTES,e){const t=cjs$4.toMiliseconds(r||cjs$4.FIVE_MINUTES);let s,ne,o;return{resolve:we=>{o&&s&&(clearTimeout(o),s(we))},reject:we=>{o&&ne&&(clearTimeout(o),ne(we))},done:()=>new Promise((we,ye)=>{o=setTimeout(()=>{ye(new Error(e))},t),s=we,ne=ye})}}function ut$1(r,e,t){return new Promise(async(s,ne)=>{const o=setTimeout(()=>ne(new Error(t)),e);try{const we=await r;s(we)}catch(we){ne(we)}clearTimeout(o)})}function re(r,e){if(typeof e=="string"&&e.startsWith(`${r}:`))return e;if(r.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(r.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${r}`)}function lt$1(r){return re("topic",r)}function dt$1(r){return re("id",r)}function ft$2(r){const[e,t]=r.split(":"),s={id:void 0,topic:void 0};if(e==="topic"&&typeof t=="string")s.topic=t;else if(e==="id"&&Number.isInteger(Number(t)))s.id=Number(t);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${t}`);return s}function pt$1(r,e){return cjs$4.fromMiliseconds((e||Date.now())+cjs$4.toMiliseconds(r))}function mt$1(r){return Date.now()>=cjs$4.toMiliseconds(r)}function yt$1(r,e){return`${r}${e?`:${e}`:""}`}function S$3(r=[],e=[]){return[...new Set([...r,...e])]}async function gt$1({id:r,topic:e,wcDeepLink:t}){try{if(!t)return;const s=typeof t=="string"?JSON.parse(t):t;let ne=s==null?void 0:s.href;if(typeof ne!="string")return;ne.endsWith("/")&&(ne=ne.slice(0,-1));const o=`${ne}/wc?requestId=${r}&sessionTopic=${e}`,we=R$2();we===m$1.browser?o.startsWith("https://")?window.open(o,"_blank","noreferrer noopener"):window.open(o,"_self","noreferrer noopener"):we===m$1.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await globalThis.Linking.openURL(o)}catch(s){console.error(s)}}async function ht$1(r,e){try{return await r.getItem(e)||(D$4()?localStorage.getItem(e):void 0)}catch(t){console.error(t)}}const He$1="irn";function vt$1(r){return(r==null?void 0:r.relay)||{protocol:He$1}}function Et$1(r){const e=RELAY_JSONRPC[r];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${r}`);return e}var bt$1=Object.defineProperty,Nt$1=Object.defineProperties,Ot$1=Object.getOwnPropertyDescriptors,qe$1=Object.getOwnPropertySymbols,St$1=Object.prototype.hasOwnProperty,wt$1=Object.prototype.propertyIsEnumerable,Be$1=(r,e,t)=>e in r?bt$1(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,It$1=(r,e)=>{for(var t in e||(e={}))St$1.call(e,t)&&Be$1(r,t,e[t]);if(qe$1)for(var t of qe$1(e))wt$1.call(e,t)&&Be$1(r,t,e[t]);return r},Tt$1=(r,e)=>Nt$1(r,Ot$1(e));function Ge$1(r,e="-"){const t={},s="relay"+e;return Object.keys(r).forEach(ne=>{if(ne.startsWith(s)){const o=ne.replace(s,""),we=r[ne];t[o]=we}}),t}function Pt$1(r){r=r.includes("wc://")?r.replace("wc://",""):r,r=r.includes("wc:")?r.replace("wc:",""):r;const e=r.indexOf(":"),t=r.indexOf("?")!==-1?r.indexOf("?"):void 0,s=r.substring(0,e),ne=r.substring(e+1,t).split("@"),o=typeof t<"u"?r.substring(t):"",we=queryString.parse(o);return{protocol:s,topic:We$1(ne[0]),version:parseInt(ne[1],10),symKey:we.symKey,relay:Ge$1(we),expiryTimestamp:we.expiryTimestamp?parseInt(we.expiryTimestamp,10):void 0}}function We$1(r){return r.startsWith("//")?r.substring(2):r}function ze(r,e="-"){const t="relay",s={};return Object.keys(r).forEach(ne=>{const o=t+e+ne;r[ne]&&(s[o]=r[ne])}),s}function Rt$1(r){return`${r.protocol}:${r.topic}@${r.version}?`+queryString.stringify(Tt$1(It$1({symKey:r.symKey},ze(r.relay)),{expiryTimestamp:r.expiryTimestamp}))}function A(r){const e=[];return r.forEach(t=>{const[s,ne]=t.split(":");e.push(`${s}:${ne}`)}),e}function Qe$1(r){const e=[];return Object.values(r).forEach(t=>{e.push(...A(t.accounts))}),e}function Ze$1(r,e){const t=[];return Object.values(r).forEach(s=>{A(s.accounts).includes(e)&&t.push(...s.methods)}),t}function Xe$1(r,e){const t=[];return Object.values(r).forEach(s=>{A(s.accounts).includes(e)&&t.push(...s.events)}),t}function oe$1(r){return r.includes(":")}function en(r){return oe$1(r)?r.split(":")[0]:r}const nn={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},tn={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function N$2(r,e){const{message:t,code:s}=tn[r];return{message:e?`${t} ${e}`:t,code:s}}function U$2(r,e){const{message:t,code:s}=nn[r];return{message:e?`${t} ${e}`:t,code:s}}function k$2(r,e){return Array.isArray(r)?typeof e<"u"&&r.length?r.every(e):!0:!1}function B$1(r){return Object.getPrototypeOf(r)===Object.prototype&&Object.keys(r).length}function w$4(r){return typeof r>"u"}function g$5(r,e){return e&&w$4(r)?!0:typeof r=="string"&&!!r.trim().length}function G$2(r,e){return e&&w$4(r)?!0:typeof r=="number"&&!isNaN(r)}function Mt$1(r,e){const{requiredNamespaces:t}=e,s=Object.keys(r.namespaces),ne=Object.keys(t);let o=!0;return O$3(ne,s)?(s.forEach(we=>{const{accounts:ye,methods:Ee,events:me}=r.namespaces[we],fe=A(ye),xe=t[we];(!O$3(L$2(we,xe),fe)||!O$3(xe.methods,Ee)||!O$3(xe.events,me))&&(o=!1)}),o):!1}function V$1(r){return g$5(r,!1)&&r.includes(":")?r.split(":").length===2:!1}function rn(r){if(g$5(r,!1)&&r.includes(":")){const e=r.split(":");if(e.length===3){const t=e[0]+":"+e[1];return!!e[2]&&V$1(t)}}return!1}function Kt$1(r){if(g$5(r,!1))try{return typeof new URL(r)<"u"}catch{return!1}return!1}function Lt$1(r){var e;return(e=r==null?void 0:r.proposer)==null?void 0:e.publicKey}function xt$1(r){return r==null?void 0:r.topic}function Ft$1(r,e){let t=null;return g$5(r==null?void 0:r.publicKey,!1)||(t=N$2("MISSING_OR_INVALID",`${e} controller public key should be a string`)),t}function ie(r){let e=!0;return k$2(r)?r.length&&(e=r.every(t=>g$5(t,!1))):e=!1,e}function on(r,e,t){let s=null;return k$2(e)&&e.length?e.forEach(ne=>{s||V$1(ne)||(s=U$2("UNSUPPORTED_CHAINS",`${t}, chain ${ne} should be a string and conform to "namespace:chainId" format`))}):V$1(r)||(s=U$2("UNSUPPORTED_CHAINS",`${t}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),s}function sn(r,e,t){let s=null;return Object.entries(r).forEach(([ne,o])=>{if(s)return;const we=on(ne,L$2(ne,o),`${e} ${t}`);we&&(s=we)}),s}function cn(r,e){let t=null;return k$2(r)?r.forEach(s=>{t||rn(s)||(t=U$2("UNSUPPORTED_ACCOUNTS",`${e}, account ${s} should be a string and conform to "namespace:chainId:address" format`))}):t=U$2("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),t}function an(r,e){let t=null;return Object.values(r).forEach(s=>{if(t)return;const ne=cn(s==null?void 0:s.accounts,`${e} namespace`);ne&&(t=ne)}),t}function un(r,e){let t=null;return ie(r==null?void 0:r.methods)?ie(r==null?void 0:r.events)||(t=U$2("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):t=U$2("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),t}function ce$2(r,e){let t=null;return Object.values(r).forEach(s=>{if(t)return;const ne=un(s,`${e}, namespace`);ne&&(t=ne)}),t}function Ht$1(r,e,t){let s=null;if(r&&B$1(r)){const ne=ce$2(r,e);ne&&(s=ne);const o=sn(r,e,t);o&&(s=o)}else s=N$2("MISSING_OR_INVALID",`${e}, ${t} should be an object with data`);return s}function ln(r,e){let t=null;if(r&&B$1(r)){const s=ce$2(r,e);s&&(t=s);const ne=an(r,e);ne&&(t=ne)}else t=N$2("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return t}function dn(r){return g$5(r.protocol,!0)}function qt$1(r,e){let t=!1;return e&&!r?t=!0:r&&k$2(r)&&r.length&&r.forEach(s=>{t=dn(s)}),t}function Bt$1(r){return typeof r=="number"}function Gt$1(r){return typeof r<"u"&&typeof r!==null}function Wt(r){return!(!r||typeof r!="object"||!r.code||!G$2(r.code,!1)||!r.message||!g$5(r.message,!1))}function zt$1(r){return!(w$4(r)||!g$5(r.method,!1))}function Yt$1(r){return!(w$4(r)||w$4(r.result)&&w$4(r.error)||!G$2(r.id,!1)||!g$5(r.jsonrpc,!1))}function Jt$1(r){return!(w$4(r)||!g$5(r.name,!1))}function Qt(r,e){return!(!V$1(e)||!Qe$1(r).includes(e))}function Zt(r,e,t){return g$5(t,!1)?Ze$1(r,e).includes(t):!1}function Xt(r,e,t){return g$5(t,!1)?Xe$1(r,e).includes(t):!1}function fn(r,e,t){let s=null;const ne=er$1(r),o=nr$1(e),we=Object.keys(ne),ye=Object.keys(o),Ee=pn(Object.keys(r)),me=pn(Object.keys(e)),fe=Ee.filter(xe=>!me.includes(xe));return fe.length&&(s=N$2("NON_CONFORMING_NAMESPACES",`${t} namespaces keys don't satisfy requiredNamespaces.
      Required: ${fe.toString()}
      Received: ${Object.keys(e).toString()}`)),O$3(we,ye)||(s=N$2("NON_CONFORMING_NAMESPACES",`${t} namespaces chains don't satisfy required namespaces.
      Required: ${we.toString()}
      Approved: ${ye.toString()}`)),Object.keys(e).forEach(xe=>{if(!xe.includes(":")||s)return;const br=A(e[xe].accounts);br.includes(xe)||(s=N$2("NON_CONFORMING_NAMESPACES",`${t} namespaces accounts don't satisfy namespace accounts for ${xe}
        Required: ${xe}
        Approved: ${br.toString()}`))}),we.forEach(xe=>{s||(O$3(ne[xe].methods,o[xe].methods)?O$3(ne[xe].events,o[xe].events)||(s=N$2("NON_CONFORMING_NAMESPACES",`${t} namespaces events don't satisfy namespace events for ${xe}`)):s=N$2("NON_CONFORMING_NAMESPACES",`${t} namespaces methods don't satisfy namespace methods for ${xe}`))}),s}function er$1(r){const e={};return Object.keys(r).forEach(t=>{var s;t.includes(":")?e[t]=r[t]:(s=r[t].chains)==null||s.forEach(ne=>{e[ne]={methods:r[t].methods,events:r[t].events}})}),e}function pn(r){return[...new Set(r.map(e=>e.includes(":")?e.split(":")[0]:e))]}function nr$1(r){const e={};return Object.keys(r).forEach(t=>{if(t.includes(":"))e[t]=r[t];else{const s=A(r[t].accounts);s==null||s.forEach(ne=>{e[ne]={accounts:r[t].accounts.filter(o=>o.includes(`${ne}:`)),methods:r[t].methods,events:r[t].events}})}}),e}function tr$1(r,e){return G$2(r,!1)&&r<=e.max&&r>=e.min}function rr$1(){const r=R$2();return new Promise(e=>{switch(r){case m$1.browser:e(mn());break;case m$1.reactNative:e(yn());break;case m$1.node:e(gn());break;default:e(!0)}})}function mn(){return D$4()&&(navigator==null?void 0:navigator.onLine)}async function yn(){if($$2()&&typeof global<"u"&&global!=null&&global.NetInfo){const r=await(global==null?void 0:global.NetInfo.fetch());return r==null?void 0:r.isConnected}return!0}function gn(){return!0}function or$1(r){switch(R$2()){case m$1.browser:hn(r);break;case m$1.reactNative:vn(r);break}}function hn(r){!$$2()&&D$4()&&(window.addEventListener("online",()=>r(!0)),window.addEventListener("offline",()=>r(!1)))}function vn(r){var e;$$2()&&typeof global<"u"&&global!=null&&global.NetInfo&&((e=global)==null||e.NetInfo.addEventListener(t=>r(t==null?void 0:t.isConnected)))}const ae$1={};let sr$1=class{static get(e){return ae$1[e]}static set(e,t){ae$1[e]=t}static delete(e){delete ae$1[e]}};function wrapToPromise(r){return!r||typeof r.then!="function"?Promise.resolve(r):r}function asyncCall(r,...e){try{return wrapToPromise(r(...e))}catch(t){return Promise.reject(t)}}function isPrimitive(r){const e=typeof r;return r===null||e!=="object"&&e!=="function"}function isPureObject(r){const e=Object.getPrototypeOf(r);return!e||e.isPrototypeOf(Object)}function stringify(r){if(isPrimitive(r))return String(r);if(isPureObject(r)||Array.isArray(r))return JSON.stringify(r);if(typeof r.toJSON=="function")return stringify(r.toJSON());throw new Error("[unstorage] Cannot stringify value!")}function checkBufferSupport(){if(typeof Buffer===void 0)throw new TypeError("[unstorage] Buffer is not supported!")}const BASE64_PREFIX="base64:";function serializeRaw(r){if(typeof r=="string")return r;checkBufferSupport();const e=Buffer.from(r).toString("base64");return BASE64_PREFIX+e}function deserializeRaw(r){return typeof r!="string"||!r.startsWith(BASE64_PREFIX)?r:(checkBufferSupport(),Buffer.from(r.slice(BASE64_PREFIX.length),"base64"))}function normalizeKey(r){return r?r.split("?")[0].replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""):""}function joinKeys(...r){return normalizeKey(r.join(":"))}function normalizeBaseKey(r){return r=normalizeKey(r),r?r+":":""}function defineDriver(r){return r}const DRIVER_NAME="memory",memory=()=>{const r=new Map;return{name:DRIVER_NAME,options:{},hasItem(e){return r.has(e)},getItem(e){return r.get(e)??null},getItemRaw(e){return r.get(e)??null},setItem(e,t){r.set(e,t)},setItemRaw(e,t){r.set(e,t)},removeItem(e){r.delete(e)},getKeys(){return Array.from(r.keys())},clear(){r.clear()},dispose(){r.clear()}}};function createStorage(r={}){const e={mounts:{"":r.driver||memory()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},t=me=>{for(const fe of e.mountpoints)if(me.startsWith(fe))return{base:fe,relativeKey:me.slice(fe.length),driver:e.mounts[fe]};return{base:"",relativeKey:me,driver:e.mounts[""]}},s=(me,fe)=>e.mountpoints.filter(xe=>xe.startsWith(me)||fe&&me.startsWith(xe)).map(xe=>({relativeBase:me.length>xe.length?me.slice(xe.length):void 0,mountpoint:xe,driver:e.mounts[xe]})),ne=(me,fe)=>{if(e.watching){fe=normalizeKey(fe);for(const xe of e.watchListeners)xe(me,fe)}},o=async()=>{if(!e.watching){e.watching=!0;for(const me in e.mounts)e.unwatch[me]=await watch(e.mounts[me],ne,me)}},we=async()=>{if(e.watching){for(const me in e.unwatch)await e.unwatch[me]();e.unwatch={},e.watching=!1}},ye=(me,fe,xe)=>{const br=new Map,wr=kr=>{let Vr=br.get(kr.base);return Vr||(Vr={driver:kr.driver,base:kr.base,items:[]},br.set(kr.base,Vr)),Vr};for(const kr of me){const Vr=typeof kr=="string",Zr=normalizeKey(Vr?kr:kr.key),Qr=Vr?void 0:kr.value,Yr=Vr||!kr.options?fe:{...fe,...kr.options},ii=t(Zr);wr(ii).items.push({key:Zr,value:Qr,relativeKey:ii.relativeKey,options:Yr})}return Promise.all([...br.values()].map(kr=>xe(kr))).then(kr=>kr.flat())},Ee={hasItem(me,fe={}){me=normalizeKey(me);const{relativeKey:xe,driver:br}=t(me);return asyncCall(br.hasItem,xe,fe)},getItem(me,fe={}){me=normalizeKey(me);const{relativeKey:xe,driver:br}=t(me);return asyncCall(br.getItem,xe,fe).then(wr=>destr(wr))},getItems(me,fe){return ye(me,fe,xe=>xe.driver.getItems?asyncCall(xe.driver.getItems,xe.items.map(br=>({key:br.relativeKey,options:br.options})),fe).then(br=>br.map(wr=>({key:joinKeys(xe.base,wr.key),value:destr(wr.value)}))):Promise.all(xe.items.map(br=>asyncCall(xe.driver.getItem,br.relativeKey,br.options).then(wr=>({key:br.key,value:destr(wr)})))))},getItemRaw(me,fe={}){me=normalizeKey(me);const{relativeKey:xe,driver:br}=t(me);return br.getItemRaw?asyncCall(br.getItemRaw,xe,fe):asyncCall(br.getItem,xe,fe).then(wr=>deserializeRaw(wr))},async setItem(me,fe,xe={}){if(fe===void 0)return Ee.removeItem(me);me=normalizeKey(me);const{relativeKey:br,driver:wr}=t(me);wr.setItem&&(await asyncCall(wr.setItem,br,stringify(fe),xe),wr.watch||ne("update",me))},async setItems(me,fe){await ye(me,fe,async xe=>{if(xe.driver.setItems)return asyncCall(xe.driver.setItems,xe.items.map(br=>({key:br.relativeKey,value:stringify(br.value),options:br.options})),fe);xe.driver.setItem&&await Promise.all(xe.items.map(br=>asyncCall(xe.driver.setItem,br.relativeKey,stringify(br.value),br.options)))})},async setItemRaw(me,fe,xe={}){if(fe===void 0)return Ee.removeItem(me,xe);me=normalizeKey(me);const{relativeKey:br,driver:wr}=t(me);if(wr.setItemRaw)await asyncCall(wr.setItemRaw,br,fe,xe);else if(wr.setItem)await asyncCall(wr.setItem,br,serializeRaw(fe),xe);else return;wr.watch||ne("update",me)},async removeItem(me,fe={}){typeof fe=="boolean"&&(fe={removeMeta:fe}),me=normalizeKey(me);const{relativeKey:xe,driver:br}=t(me);br.removeItem&&(await asyncCall(br.removeItem,xe,fe),(fe.removeMeta||fe.removeMata)&&await asyncCall(br.removeItem,xe+"$",fe),br.watch||ne("remove",me))},async getMeta(me,fe={}){typeof fe=="boolean"&&(fe={nativeOnly:fe}),me=normalizeKey(me);const{relativeKey:xe,driver:br}=t(me),wr=Object.create(null);if(br.getMeta&&Object.assign(wr,await asyncCall(br.getMeta,xe,fe)),!fe.nativeOnly){const kr=await asyncCall(br.getItem,xe+"$",fe).then(Vr=>destr(Vr));kr&&typeof kr=="object"&&(typeof kr.atime=="string"&&(kr.atime=new Date(kr.atime)),typeof kr.mtime=="string"&&(kr.mtime=new Date(kr.mtime)),Object.assign(wr,kr))}return wr},setMeta(me,fe,xe={}){return this.setItem(me+"$",fe,xe)},removeMeta(me,fe={}){return this.removeItem(me+"$",fe)},async getKeys(me,fe={}){me=normalizeBaseKey(me);const xe=s(me,!0);let br=[];const wr=[];for(const kr of xe){const Zr=(await asyncCall(kr.driver.getKeys,kr.relativeBase,fe)).map(Qr=>kr.mountpoint+normalizeKey(Qr)).filter(Qr=>!br.some(Yr=>Qr.startsWith(Yr)));wr.push(...Zr),br=[kr.mountpoint,...br.filter(Qr=>!Qr.startsWith(kr.mountpoint))]}return me?wr.filter(kr=>kr.startsWith(me)&&!kr.endsWith("$")):wr.filter(kr=>!kr.endsWith("$"))},async clear(me,fe={}){me=normalizeBaseKey(me),await Promise.all(s(me,!1).map(async xe=>{if(xe.driver.clear)return asyncCall(xe.driver.clear,xe.relativeBase,fe);if(xe.driver.removeItem){const br=await xe.driver.getKeys(xe.relativeBase||"",fe);return Promise.all(br.map(wr=>xe.driver.removeItem(wr,fe)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(me=>dispose(me)))},async watch(me){return await o(),e.watchListeners.push(me),async()=>{e.watchListeners=e.watchListeners.filter(fe=>fe!==me),e.watchListeners.length===0&&await we()}},async unwatch(){e.watchListeners=[],await we()},mount(me,fe){if(me=normalizeBaseKey(me),me&&e.mounts[me])throw new Error(`already mounted at ${me}`);return me&&(e.mountpoints.push(me),e.mountpoints.sort((xe,br)=>br.length-xe.length)),e.mounts[me]=fe,e.watching&&Promise.resolve(watch(fe,ne,me)).then(xe=>{e.unwatch[me]=xe}).catch(console.error),Ee},async unmount(me,fe=!0){me=normalizeBaseKey(me),!(!me||!e.mounts[me])&&(e.watching&&me in e.unwatch&&(e.unwatch[me](),delete e.unwatch[me]),fe&&await dispose(e.mounts[me]),e.mountpoints=e.mountpoints.filter(xe=>xe!==me),delete e.mounts[me])},getMount(me=""){me=normalizeKey(me)+":";const fe=t(me);return{driver:fe.driver,base:fe.base}},getMounts(me="",fe={}){return me=normalizeKey(me),s(me,fe.parents).map(br=>({driver:br.driver,base:br.mountpoint}))}};return Ee}function watch(r,e,t){return r.watch?r.watch((s,ne)=>e(s,t+ne)):()=>{}}async function dispose(r){typeof r.dispose=="function"&&await asyncCall(r.dispose)}function promisifyRequest(r){return new Promise((e,t)=>{r.oncomplete=r.onsuccess=()=>e(r.result),r.onabort=r.onerror=()=>t(r.error)})}function createStore(r,e){const t=indexedDB.open(r);t.onupgradeneeded=()=>t.result.createObjectStore(e);const s=promisifyRequest(t);return(ne,o)=>s.then(we=>o(we.transaction(e,ne).objectStore(e)))}let defaultGetStoreFunc;function defaultGetStore(){return defaultGetStoreFunc||(defaultGetStoreFunc=createStore("keyval-store","keyval")),defaultGetStoreFunc}function get(r,e=defaultGetStore()){return e("readonly",t=>promisifyRequest(t.get(r)))}function set$1(r,e,t=defaultGetStore()){return t("readwrite",s=>(s.put(e,r),promisifyRequest(s.transaction)))}function del(r,e=defaultGetStore()){return e("readwrite",t=>(t.delete(r),promisifyRequest(t.transaction)))}function clear(r=defaultGetStore()){return r("readwrite",e=>(e.clear(),promisifyRequest(e.transaction)))}function eachCursor(r,e){return r.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},promisifyRequest(r.transaction)}function keys(r=defaultGetStore()){return r("readonly",e=>{if(e.getAllKeys)return promisifyRequest(e.getAllKeys());const t=[];return eachCursor(e,s=>t.push(s.key)).then(()=>t)})}const JSONStringify=r=>JSON.stringify(r,(e,t)=>typeof t=="bigint"?t.toString()+"n":t),JSONParse=r=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,t=r.replace(e,'$1"$2n"$3');return JSON.parse(t,(s,ne)=>typeof ne=="string"&&ne.match(/^\d+n$/)?BigInt(ne.substring(0,ne.length-1)):ne)};function safeJsonParse(r){if(typeof r!="string")throw new Error(`Cannot safe json parse value of type ${typeof r}`);try{return JSONParse(r)}catch{return r}}function safeJsonStringify(r){return typeof r=="string"?r:JSONStringify(r)||""}const x$1="idb-keyval";var z$2=(r={})=>{const e=r.base&&r.base.length>0?`${r.base}:`:"",t=ne=>e+ne;let s;return r.dbName&&r.storeName&&(s=createStore(r.dbName,r.storeName)),{name:x$1,options:r,async hasItem(ne){return!(typeof await get(t(ne),s)>"u")},async getItem(ne){return await get(t(ne),s)??null},setItem(ne,o){return set$1(t(ne),o,s)},removeItem(ne){return del(t(ne),s)},getKeys(){return keys(s)},clear(){return clear(s)}}};const D$3="WALLET_CONNECT_V2_INDEXED_DB",E$3="keyvaluestorage";let _$2=class{constructor(){this.indexedDb=createStorage({driver:z$2({dbName:D$3,storeName:E$3})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const t=await this.indexedDb.getItem(e);if(t!==null)return t}async setItem(e,t){await this.indexedDb.setItem(e,safeJsonStringify(t))}async removeItem(e){await this.indexedDb.removeItem(e)}};var l=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},c$1={exports:{}};(function(){let r;function e(){}r=e,r.prototype.getItem=function(t){return this.hasOwnProperty(t)?String(this[t]):null},r.prototype.setItem=function(t,s){this[t]=String(s)},r.prototype.removeItem=function(t){delete this[t]},r.prototype.clear=function(){const t=this;Object.keys(t).forEach(function(s){t[s]=void 0,delete t[s]})},r.prototype.key=function(t){return t=t||0,Object.keys(this)[t]},r.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof l<"u"&&l.localStorage?c$1.exports=l.localStorage:typeof window<"u"&&window.localStorage?c$1.exports=window.localStorage:c$1.exports=new e})();function k$1(r){var e;return[r[0],safeJsonParse((e=r[1])!=null?e:"")]}class K{constructor(){this.localStorage=c$1.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(k$1)}async getItem(e){const t=this.localStorage.getItem(e);if(t!==null)return safeJsonParse(t)}async setItem(e,t){this.localStorage.setItem(e,safeJsonStringify(t))}async removeItem(e){this.localStorage.removeItem(e)}}const N$1="wc_storage_version",y$3=1,O$2=async(r,e,t)=>{const s=N$1,ne=await e.getItem(s);if(ne&&ne>=y$3){t(e);return}const o=await r.getKeys();if(!o.length){t(e);return}const we=[];for(;o.length;){const ye=o.shift();if(!ye)continue;const Ee=ye.toLowerCase();if(Ee.includes("wc@")||Ee.includes("walletconnect")||Ee.includes("wc_")||Ee.includes("wallet_connect")){const me=await r.getItem(ye);await e.setItem(ye,me),we.push(ye)}}await e.setItem(s,y$3),t(e),j$1(r,we)},j$1=async(r,e)=>{e.length&&e.forEach(async t=>{await r.removeItem(t)})};let h$2=class{constructor(){this.initialized=!1,this.setInitialized=t=>{this.storage=t,this.initialized=!0};const e=new K;this.storage=e;try{const t=new _$2;O$2(e,t,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,t){return await this.initialize(),this.storage.setItem(e,t)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const t=setInterval(()=>{this.initialized&&(clearInterval(t),e())},20)})}};var cjs$1={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics$1=function(r,e){return extendStatics$1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,s){t.__proto__=s}||function(t,s){for(var ne in s)s.hasOwnProperty(ne)&&(t[ne]=s[ne])},extendStatics$1(r,e)};function __extends$1(r,e){extendStatics$1(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var __assign$1=function(){return __assign$1=Object.assign||function(e){for(var t,s=1,ne=arguments.length;s<ne;s++){t=arguments[s];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},__assign$1.apply(this,arguments)};function __rest$1(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ne=0,s=Object.getOwnPropertySymbols(r);ne<s.length;ne++)e.indexOf(s[ne])<0&&Object.prototype.propertyIsEnumerable.call(r,s[ne])&&(t[s[ne]]=r[s[ne]]);return t}function __decorate$1(r,e,t,s){var ne=arguments.length,o=ne<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,t):s,we;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,s);else for(var ye=r.length-1;ye>=0;ye--)(we=r[ye])&&(o=(ne<3?we(o):ne>3?we(e,t,o):we(e,t))||o);return ne>3&&o&&Object.defineProperty(e,t,o),o}function __param$1(r,e){return function(t,s){e(t,s,r)}}function __metadata$1(r,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,e)}function __awaiter$1(r,e,t,s){function ne(o){return o instanceof t?o:new t(function(we){we(o)})}return new(t||(t=Promise))(function(o,we){function ye(fe){try{me(s.next(fe))}catch(xe){we(xe)}}function Ee(fe){try{me(s.throw(fe))}catch(xe){we(xe)}}function me(fe){fe.done?o(fe.value):ne(fe.value).then(ye,Ee)}me((s=s.apply(r,e||[])).next())})}function __generator$1(r,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},s,ne,o,we;return we={next:ye(0),throw:ye(1),return:ye(2)},typeof Symbol=="function"&&(we[Symbol.iterator]=function(){return this}),we;function ye(me){return function(fe){return Ee([me,fe])}}function Ee(me){if(s)throw new TypeError("Generator is already executing.");for(;t;)try{if(s=1,ne&&(o=me[0]&2?ne.return:me[0]?ne.throw||((o=ne.return)&&o.call(ne),0):ne.next)&&!(o=o.call(ne,me[1])).done)return o;switch(ne=0,o&&(me=[me[0]&2,o.value]),me[0]){case 0:case 1:o=me;break;case 4:return t.label++,{value:me[1],done:!1};case 5:t.label++,ne=me[1],me=[0];continue;case 7:me=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(me[0]===6||me[0]===2)){t=0;continue}if(me[0]===3&&(!o||me[1]>o[0]&&me[1]<o[3])){t.label=me[1];break}if(me[0]===6&&t.label<o[1]){t.label=o[1],o=me;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(me);break}o[2]&&t.ops.pop(),t.trys.pop();continue}me=e.call(r,t)}catch(fe){me=[6,fe],ne=0}finally{s=o=0}if(me[0]&5)throw me[1];return{value:me[0]?me[1]:void 0,done:!0}}}function __createBinding$1(r,e,t,s){s===void 0&&(s=t),r[s]=e[t]}function __exportStar$1(r,e){for(var t in r)t!=="default"&&!e.hasOwnProperty(t)&&(e[t]=r[t])}function __values$1(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],s=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&s>=r.length&&(r=void 0),{value:r&&r[s++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read$1(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var s=t.call(r),ne,o=[],we;try{for(;(e===void 0||e-- >0)&&!(ne=s.next()).done;)o.push(ne.value)}catch(ye){we={error:ye}}finally{try{ne&&!ne.done&&(t=s.return)&&t.call(s)}finally{if(we)throw we.error}}return o}function __spread$1(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(__read$1(arguments[e]));return r}function __spreadArrays$1(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var s=Array(r),ne=0,e=0;e<t;e++)for(var o=arguments[e],we=0,ye=o.length;we<ye;we++,ne++)s[ne]=o[we];return s}function __await$1(r){return this instanceof __await$1?(this.v=r,this):new __await$1(r)}function __asyncGenerator$1(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=t.apply(r,e||[]),ne,o=[];return ne={},we("next"),we("throw"),we("return"),ne[Symbol.asyncIterator]=function(){return this},ne;function we(br){s[br]&&(ne[br]=function(wr){return new Promise(function(kr,Vr){o.push([br,wr,kr,Vr])>1||ye(br,wr)})})}function ye(br,wr){try{Ee(s[br](wr))}catch(kr){xe(o[0][3],kr)}}function Ee(br){br.value instanceof __await$1?Promise.resolve(br.value.v).then(me,fe):xe(o[0][2],br)}function me(br){ye("next",br)}function fe(br){ye("throw",br)}function xe(br,wr){br(wr),o.shift(),o.length&&ye(o[0][0],o[0][1])}}function __asyncDelegator$1(r){var e,t;return e={},s("next"),s("throw",function(ne){throw ne}),s("return"),e[Symbol.iterator]=function(){return this},e;function s(ne,o){e[ne]=r[ne]?function(we){return(t=!t)?{value:__await$1(r[ne](we)),done:ne==="return"}:o?o(we):we}:o}}function __asyncValues$1(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof __values$1=="function"?__values$1(r):r[Symbol.iterator](),t={},s("next"),s("throw"),s("return"),t[Symbol.asyncIterator]=function(){return this},t);function s(o){t[o]=r[o]&&function(we){return new Promise(function(ye,Ee){we=r[o](we),ne(ye,Ee,we.done,we.value)})}}function ne(o,we,ye,Ee){Promise.resolve(Ee).then(function(me){o({value:me,done:ye})},we)}}function __makeTemplateObject$1(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r}function __importStar$1(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)Object.hasOwnProperty.call(r,t)&&(e[t]=r[t]);return e.default=r,e}function __importDefault$1(r){return r&&r.__esModule?r:{default:r}}function __classPrivateFieldGet$1(r,e){if(!e.has(r))throw new TypeError("attempted to get private field on non-instance");return e.get(r)}function __classPrivateFieldSet$1(r,e,t){if(!e.has(r))throw new TypeError("attempted to set private field on non-instance");return e.set(r,t),t}const tslib_es6$1=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return __assign$1},__asyncDelegator:__asyncDelegator$1,__asyncGenerator:__asyncGenerator$1,__asyncValues:__asyncValues$1,__await:__await$1,__awaiter:__awaiter$1,__classPrivateFieldGet:__classPrivateFieldGet$1,__classPrivateFieldSet:__classPrivateFieldSet$1,__createBinding:__createBinding$1,__decorate:__decorate$1,__exportStar:__exportStar$1,__extends:__extends$1,__generator:__generator$1,__importDefault:__importDefault$1,__importStar:__importStar$1,__makeTemplateObject:__makeTemplateObject$1,__metadata:__metadata$1,__param:__param$1,__read:__read$1,__rest:__rest$1,__spread:__spread$1,__spreadArrays:__spreadArrays$1,__values:__values$1},Symbol.toStringTag,{value:"Module"})),require$$0$3=getAugmentedNamespace(tslib_es6$1);var heartbeat$2={},types={},heartbeat$1={};let IEvents$1=class{};const esm=Object.freeze(Object.defineProperty({__proto__:null,IEvents:IEvents$1},Symbol.toStringTag,{value:"Module"})),require$$0$2=getAugmentedNamespace(esm);var hasRequiredHeartbeat$2;function requireHeartbeat$2(){if(hasRequiredHeartbeat$2)return heartbeat$1;hasRequiredHeartbeat$2=1,Object.defineProperty(heartbeat$1,"__esModule",{value:!0}),heartbeat$1.IHeartBeat=void 0;const r=require$$0$2;class e extends r.IEvents{constructor(s){super()}}return heartbeat$1.IHeartBeat=e,heartbeat$1}var hasRequiredTypes;function requireTypes(){return hasRequiredTypes||(hasRequiredTypes=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),require$$0$3.__exportStar(requireHeartbeat$2(),r)}(types)),types}var constants={},heartbeat={},hasRequiredHeartbeat$1;function requireHeartbeat$1(){if(hasRequiredHeartbeat$1)return heartbeat;hasRequiredHeartbeat$1=1,Object.defineProperty(heartbeat,"__esModule",{value:!0}),heartbeat.HEARTBEAT_EVENTS=heartbeat.HEARTBEAT_INTERVAL=void 0;const r=cjs$4;return heartbeat.HEARTBEAT_INTERVAL=r.FIVE_SECONDS,heartbeat.HEARTBEAT_EVENTS={pulse:"heartbeat_pulse"},heartbeat}var hasRequiredConstants;function requireConstants(){return hasRequiredConstants||(hasRequiredConstants=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),require$$0$3.__exportStar(requireHeartbeat$1(),r)}(constants)),constants}var hasRequiredHeartbeat;function requireHeartbeat(){if(hasRequiredHeartbeat)return heartbeat$2;hasRequiredHeartbeat=1,Object.defineProperty(heartbeat$2,"__esModule",{value:!0}),heartbeat$2.HeartBeat=void 0;const r=require$$0$3,e=eventsExports,t=cjs$4,s=requireTypes(),ne=requireConstants();class o extends s.IHeartBeat{constructor(ye){super(ye),this.events=new e.EventEmitter,this.interval=ne.HEARTBEAT_INTERVAL,this.interval=(ye==null?void 0:ye.interval)||ne.HEARTBEAT_INTERVAL}static init(ye){return r.__awaiter(this,void 0,void 0,function*(){const Ee=new o(ye);return yield Ee.init(),Ee})}init(){return r.__awaiter(this,void 0,void 0,function*(){yield this.initialize()})}stop(){clearInterval(this.intervalRef)}on(ye,Ee){this.events.on(ye,Ee)}once(ye,Ee){this.events.once(ye,Ee)}off(ye,Ee){this.events.off(ye,Ee)}removeListener(ye,Ee){this.events.removeListener(ye,Ee)}initialize(){return r.__awaiter(this,void 0,void 0,function*(){this.intervalRef=setInterval(()=>this.pulse(),t.toMiliseconds(this.interval))})}pulse(){this.events.emit(ne.HEARTBEAT_EVENTS.pulse)}}return heartbeat$2.HeartBeat=o,heartbeat$2}(function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=require$$0$3;e.__exportStar(requireHeartbeat(),r),e.__exportStar(requireTypes(),r),e.__exportStar(requireConstants(),r)})(cjs$1);function tryStringify(r){try{return JSON.stringify(r)}catch{return'"[Circular]"'}}var quickFormatUnescaped=format$1;function format$1(r,e,t){var s=t&&t.stringify||tryStringify,ne=1;if(typeof r=="object"&&r!==null){var o=e.length+ne;if(o===1)return r;var we=new Array(o);we[0]=s(r);for(var ye=1;ye<o;ye++)we[ye]=s(e[ye]);return we.join(" ")}if(typeof r!="string")return r;var Ee=e.length;if(Ee===0)return r;for(var me="",fe=1-ne,xe=-1,br=r&&r.length||0,wr=0;wr<br;){if(r.charCodeAt(wr)===37&&wr+1<br){switch(xe=xe>-1?xe:0,r.charCodeAt(wr+1)){case 100:case 102:if(fe>=Ee||e[fe]==null)break;xe<wr&&(me+=r.slice(xe,wr)),me+=Number(e[fe]),xe=wr+2,wr++;break;case 105:if(fe>=Ee||e[fe]==null)break;xe<wr&&(me+=r.slice(xe,wr)),me+=Math.floor(Number(e[fe])),xe=wr+2,wr++;break;case 79:case 111:case 106:if(fe>=Ee||e[fe]===void 0)break;xe<wr&&(me+=r.slice(xe,wr));var kr=typeof e[fe];if(kr==="string"){me+="'"+e[fe]+"'",xe=wr+2,wr++;break}if(kr==="function"){me+=e[fe].name||"<anonymous>",xe=wr+2,wr++;break}me+=s(e[fe]),xe=wr+2,wr++;break;case 115:if(fe>=Ee)break;xe<wr&&(me+=r.slice(xe,wr)),me+=String(e[fe]),xe=wr+2,wr++;break;case 37:xe<wr&&(me+=r.slice(xe,wr)),me+="%",xe=wr+2,wr++,fe--;break}++fe}++wr}return xe===-1?r:(xe<br&&(me+=r.slice(xe)),me)}const format=quickFormatUnescaped;var browser$1=pino;const _console=pfGlobalThisOrFallback().console||{},stdSerializers={mapHttpRequest:mock,mapHttpResponse:mock,wrapRequestSerializer:passthrough,wrapResponseSerializer:passthrough,wrapErrorSerializer:passthrough,req:mock,res:mock,err:asErrValue};function shouldSerialize(r,e){return Array.isArray(r)?r.filter(function(s){return s!=="!stdSerializers.err"}):r===!0?Object.keys(e):!1}function pino(r){r=r||{},r.browser=r.browser||{};const e=r.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");const t=r.browser.write||_console;r.browser.write&&(r.browser.asObject=!0);const s=r.serializers||{},ne=shouldSerialize(r.browser.serialize,s);let o=r.browser.serialize;Array.isArray(r.browser.serialize)&&r.browser.serialize.indexOf("!stdSerializers.err")>-1&&(o=!1);const we=["error","fatal","warn","info","debug","trace"];typeof t=="function"&&(t.error=t.fatal=t.warn=t.info=t.debug=t.trace=t),r.enabled===!1&&(r.level="silent");const ye=r.level||"info",Ee=Object.create(t);Ee.log||(Ee.log=noop),Object.defineProperty(Ee,"levelVal",{get:fe}),Object.defineProperty(Ee,"level",{get:xe,set:br});const me={transmit:e,serialize:ne,asObject:r.browser.asObject,levels:we,timestamp:getTimeFunction(r)};Ee.levels=pino.levels,Ee.level=ye,Ee.setMaxListeners=Ee.getMaxListeners=Ee.emit=Ee.addListener=Ee.on=Ee.prependListener=Ee.once=Ee.prependOnceListener=Ee.removeListener=Ee.removeAllListeners=Ee.listeners=Ee.listenerCount=Ee.eventNames=Ee.write=Ee.flush=noop,Ee.serializers=s,Ee._serialize=ne,Ee._stdErrSerialize=o,Ee.child=wr,e&&(Ee._logEvent=createLogEventShape());function fe(){return this.level==="silent"?1/0:this.levels.values[this.level]}function xe(){return this._level}function br(kr){if(kr!=="silent"&&!this.levels.values[kr])throw Error("unknown level "+kr);this._level=kr,set(me,Ee,"error","log"),set(me,Ee,"fatal","error"),set(me,Ee,"warn","error"),set(me,Ee,"info","log"),set(me,Ee,"debug","log"),set(me,Ee,"trace","log")}function wr(kr,Vr){if(!kr)throw new Error("missing bindings for child Pino");Vr=Vr||{},ne&&kr.serializers&&(Vr.serializers=kr.serializers);const Zr=Vr.serializers;if(ne&&Zr){var Qr=Object.assign({},s,Zr),Yr=r.browser.serialize===!0?Object.keys(Qr):ne;delete kr.serializers,applySerializers([kr],Yr,Qr,this._stdErrSerialize)}function ii(ei){this._childLevel=(ei._childLevel|0)+1,this.error=bind(ei,kr,"error"),this.fatal=bind(ei,kr,"fatal"),this.warn=bind(ei,kr,"warn"),this.info=bind(ei,kr,"info"),this.debug=bind(ei,kr,"debug"),this.trace=bind(ei,kr,"trace"),Qr&&(this.serializers=Qr,this._serialize=Yr),e&&(this._logEvent=createLogEventShape([].concat(ei._logEvent.bindings,kr)))}return ii.prototype=this,new ii(this)}return Ee}pino.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};pino.stdSerializers=stdSerializers;pino.stdTimeFunctions=Object.assign({},{nullTime,epochTime,unixTime,isoTime});function set(r,e,t,s){const ne=Object.getPrototypeOf(e);e[t]=e.levelVal>e.levels.values[t]?noop:ne[t]?ne[t]:_console[t]||_console[s]||noop,wrap(r,e,t)}function wrap(r,e,t){!r.transmit&&e[t]===noop||(e[t]=function(s){return function(){const o=r.timestamp(),we=new Array(arguments.length),ye=Object.getPrototypeOf&&Object.getPrototypeOf(this)===_console?_console:this;for(var Ee=0;Ee<we.length;Ee++)we[Ee]=arguments[Ee];if(r.serialize&&!r.asObject&&applySerializers(we,this._serialize,this.serializers,this._stdErrSerialize),r.asObject?s.call(ye,asObject(this,t,we,o)):s.apply(ye,we),r.transmit){const me=r.transmit.level||e.level,fe=pino.levels.values[me],xe=pino.levels.values[t];if(xe<fe)return;transmit(this,{ts:o,methodLevel:t,methodValue:xe,transmitLevel:me,transmitValue:pino.levels.values[r.transmit.level||e.level],send:r.transmit.send,val:e.levelVal},we)}}}(e[t]))}function asObject(r,e,t,s){r._serialize&&applySerializers(t,r._serialize,r.serializers,r._stdErrSerialize);const ne=t.slice();let o=ne[0];const we={};s&&(we.time=s),we.level=pino.levels.values[e];let ye=(r._childLevel|0)+1;if(ye<1&&(ye=1),o!==null&&typeof o=="object"){for(;ye--&&typeof ne[0]=="object";)Object.assign(we,ne.shift());o=ne.length?format(ne.shift(),ne):void 0}else typeof o=="string"&&(o=format(ne.shift(),ne));return o!==void 0&&(we.msg=o),we}function applySerializers(r,e,t,s){for(const ne in r)if(s&&r[ne]instanceof Error)r[ne]=pino.stdSerializers.err(r[ne]);else if(typeof r[ne]=="object"&&!Array.isArray(r[ne]))for(const o in r[ne])e&&e.indexOf(o)>-1&&o in t&&(r[ne][o]=t[o](r[ne][o]))}function bind(r,e,t){return function(){const s=new Array(1+arguments.length);s[0]=e;for(var ne=1;ne<s.length;ne++)s[ne]=arguments[ne-1];return r[t].apply(this,s)}}function transmit(r,e,t){const s=e.send,ne=e.ts,o=e.methodLevel,we=e.methodValue,ye=e.val,Ee=r._logEvent.bindings;applySerializers(t,r._serialize||Object.keys(r.serializers),r.serializers,r._stdErrSerialize===void 0?!0:r._stdErrSerialize),r._logEvent.ts=ne,r._logEvent.messages=t.filter(function(me){return Ee.indexOf(me)===-1}),r._logEvent.level.label=o,r._logEvent.level.value=we,s(o,r._logEvent,ye),r._logEvent=createLogEventShape(Ee)}function createLogEventShape(r){return{ts:0,messages:[],bindings:r||[],level:{label:"",value:0}}}function asErrValue(r){const e={type:r.constructor.name,msg:r.message,stack:r.stack};for(const t in r)e[t]===void 0&&(e[t]=r[t]);return e}function getTimeFunction(r){return typeof r.timestamp=="function"?r.timestamp:r.timestamp===!1?nullTime:epochTime}function mock(){return{}}function passthrough(r){return r}function noop(){}function nullTime(){return!1}function epochTime(){return Date.now()}function unixTime(){return Math.round(Date.now()/1e3)}function isoTime(){return new Date(Date.now()).toISOString()}function pfGlobalThisOrFallback(){function r(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return r(self)||r(window)||r(this)||{}}}const Hg=getDefaultExportFromCjs(browser$1),c={level:"info"},n$1="custom_context";var x=Object.defineProperty,S$2=Object.defineProperties,_$1=Object.getOwnPropertyDescriptors,p$2=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,z$1=Object.prototype.propertyIsEnumerable,f$2=(r,e,t)=>e in r?x(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,i=(r,e)=>{for(var t in e||(e={}))T.call(e,t)&&f$2(r,t,e[t]);if(p$2)for(var t of p$2(e))z$1.call(e,t)&&f$2(r,t,e[t]);return r},g$4=(r,e)=>S$2(r,_$1(e));function k(r){return g$4(i({},r),{level:(r==null?void 0:r.level)||c.level})}function v$3(r,e=n$1){return r[e]||""}function b$2(r,e,t=n$1){return r[t]=e,r}function y$2(r,e=n$1){let t="";return typeof r.bindings>"u"?t=v$3(r,e):t=r.bindings().context||"",t}function w$3(r,e,t=n$1){const s=y$2(r,t);return s.trim()?`${s}/${e}`:e}function E$2(r,e,t=n$1){const s=w$3(r,e,t),ne=r.child({context:s});return b$2(ne,s,t)}class n extends IEvents$1{constructor(e){super(),this.opts=e,this.protocol="wc",this.version=2}}let h$1=class extends IEvents$1{constructor(e,t){super(),this.core=e,this.logger=t,this.records=new Map}},a$1=class{constructor(e,t){this.logger=e,this.core=t}},u$1=class extends IEvents$1{constructor(e,t){super(),this.relayer=e,this.logger=t}},g$3=class extends IEvents$1{constructor(e){super()}},p$1=class{constructor(e,t,s,ne){this.core=e,this.logger=t,this.name=s}};class d extends IEvents$1{constructor(e,t){super(),this.relayer=e,this.logger=t}}let E$1=class extends IEvents$1{constructor(e,t){super(),this.core=e,this.logger=t}},y$1=class{constructor(e,t){this.projectId=e,this.logger=t}},v$2=class{constructor(e,t){this.projectId=e,this.logger=t}},b$1=class{constructor(e){this.opts=e,this.protocol="wc",this.version=2}},w$2=class{constructor(e){this.client=e}};var ed25519={},sha512={};(function(r){Object.defineProperty(r,"__esModule",{value:!0});var e=binary,t=wipe$1;r.DIGEST_LENGTH=64,r.BLOCK_SIZE=128;var s=function(){function ye(){this.digestLength=r.DIGEST_LENGTH,this.blockSize=r.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return ye.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},ye.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},ye.prototype.clean=function(){t.wipe(this._buffer),t.wipe(this._tempHi),t.wipe(this._tempLo),this.reset()},ye.prototype.update=function(Ee,me){if(me===void 0&&(me=Ee.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var fe=0;if(this._bytesHashed+=me,this._bufferLength>0){for(;this._bufferLength<r.BLOCK_SIZE&&me>0;)this._buffer[this._bufferLength++]=Ee[fe++],me--;this._bufferLength===this.blockSize&&(o(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(me>=this.blockSize&&(fe=o(this._tempHi,this._tempLo,this._stateHi,this._stateLo,Ee,fe,me),me%=this.blockSize);me>0;)this._buffer[this._bufferLength++]=Ee[fe++],me--;return this},ye.prototype.finish=function(Ee){if(!this._finished){var me=this._bytesHashed,fe=this._bufferLength,xe=me/536870912|0,br=me<<3,wr=me%128<112?128:256;this._buffer[fe]=128;for(var kr=fe+1;kr<wr-8;kr++)this._buffer[kr]=0;e.writeUint32BE(xe,this._buffer,wr-8),e.writeUint32BE(br,this._buffer,wr-4),o(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,wr),this._finished=!0}for(var kr=0;kr<this.digestLength/8;kr++)e.writeUint32BE(this._stateHi[kr],Ee,kr*8),e.writeUint32BE(this._stateLo[kr],Ee,kr*8+4);return this},ye.prototype.digest=function(){var Ee=new Uint8Array(this.digestLength);return this.finish(Ee),Ee},ye.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},ye.prototype.restoreState=function(Ee){return this._stateHi.set(Ee.stateHi),this._stateLo.set(Ee.stateLo),this._bufferLength=Ee.bufferLength,Ee.buffer&&this._buffer.set(Ee.buffer),this._bytesHashed=Ee.bytesHashed,this._finished=!1,this},ye.prototype.cleanSavedState=function(Ee){t.wipe(Ee.stateHi),t.wipe(Ee.stateLo),Ee.buffer&&t.wipe(Ee.buffer),Ee.bufferLength=0,Ee.bytesHashed=0},ye}();r.SHA512=s;var ne=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function o(ye,Ee,me,fe,xe,br,wr){for(var kr=me[0],Vr=me[1],Zr=me[2],Qr=me[3],Yr=me[4],ii=me[5],ei=me[6],si=me[7],ai=fe[0],Gr=fe[1],fi=fe[2],gi=fe[3],Si=fe[4],oi=fe[5],Kr=fe[6],Ie=fe[7],C,be,Oe,fr,qr,Hr,Er,jr;wr>=128;){for(var Se=0;Se<16;Se++){var Wr=8*Se+br;ye[Se]=e.readUint32BE(xe,Wr),Ee[Se]=e.readUint32BE(xe,Wr+4)}for(var Se=0;Se<80;Se++){var bi=kr,vi=Vr,Ei=Zr,ti=Qr,ri=Yr,ci=ii,Jr=ei,li=si,yi=ai,$i=Gr,Ni=fi,Bi=gi,zn=Si,zi=oi,Ki=Kr,la=Ie;if(C=si,be=Ie,qr=be&65535,Hr=be>>>16,Er=C&65535,jr=C>>>16,C=(Yr>>>14|Si<<18)^(Yr>>>18|Si<<14)^(Si>>>9|Yr<<23),be=(Si>>>14|Yr<<18)^(Si>>>18|Yr<<14)^(Yr>>>9|Si<<23),qr+=be&65535,Hr+=be>>>16,Er+=C&65535,jr+=C>>>16,C=Yr&ii^~Yr&ei,be=Si&oi^~Si&Kr,qr+=be&65535,Hr+=be>>>16,Er+=C&65535,jr+=C>>>16,C=ne[Se*2],be=ne[Se*2+1],qr+=be&65535,Hr+=be>>>16,Er+=C&65535,jr+=C>>>16,C=ye[Se%16],be=Ee[Se%16],qr+=be&65535,Hr+=be>>>16,Er+=C&65535,jr+=C>>>16,Hr+=qr>>>16,Er+=Hr>>>16,jr+=Er>>>16,Oe=Er&65535|jr<<16,fr=qr&65535|Hr<<16,C=Oe,be=fr,qr=be&65535,Hr=be>>>16,Er=C&65535,jr=C>>>16,C=(kr>>>28|ai<<4)^(ai>>>2|kr<<30)^(ai>>>7|kr<<25),be=(ai>>>28|kr<<4)^(kr>>>2|ai<<30)^(kr>>>7|ai<<25),qr+=be&65535,Hr+=be>>>16,Er+=C&65535,jr+=C>>>16,C=kr&Vr^kr&Zr^Vr&Zr,be=ai&Gr^ai&fi^Gr&fi,qr+=be&65535,Hr+=be>>>16,Er+=C&65535,jr+=C>>>16,Hr+=qr>>>16,Er+=Hr>>>16,jr+=Er>>>16,li=Er&65535|jr<<16,la=qr&65535|Hr<<16,C=ti,be=Bi,qr=be&65535,Hr=be>>>16,Er=C&65535,jr=C>>>16,C=Oe,be=fr,qr+=be&65535,Hr+=be>>>16,Er+=C&65535,jr+=C>>>16,Hr+=qr>>>16,Er+=Hr>>>16,jr+=Er>>>16,ti=Er&65535|jr<<16,Bi=qr&65535|Hr<<16,Vr=bi,Zr=vi,Qr=Ei,Yr=ti,ii=ri,ei=ci,si=Jr,kr=li,Gr=yi,fi=$i,gi=Ni,Si=Bi,oi=zn,Kr=zi,Ie=Ki,ai=la,Se%16===15)for(var Wr=0;Wr<16;Wr++)C=ye[Wr],be=Ee[Wr],qr=be&65535,Hr=be>>>16,Er=C&65535,jr=C>>>16,C=ye[(Wr+9)%16],be=Ee[(Wr+9)%16],qr+=be&65535,Hr+=be>>>16,Er+=C&65535,jr+=C>>>16,Oe=ye[(Wr+1)%16],fr=Ee[(Wr+1)%16],C=(Oe>>>1|fr<<31)^(Oe>>>8|fr<<24)^Oe>>>7,be=(fr>>>1|Oe<<31)^(fr>>>8|Oe<<24)^(fr>>>7|Oe<<25),qr+=be&65535,Hr+=be>>>16,Er+=C&65535,jr+=C>>>16,Oe=ye[(Wr+14)%16],fr=Ee[(Wr+14)%16],C=(Oe>>>19|fr<<13)^(fr>>>29|Oe<<3)^Oe>>>6,be=(fr>>>19|Oe<<13)^(Oe>>>29|fr<<3)^(fr>>>6|Oe<<26),qr+=be&65535,Hr+=be>>>16,Er+=C&65535,jr+=C>>>16,Hr+=qr>>>16,Er+=Hr>>>16,jr+=Er>>>16,ye[Wr]=Er&65535|jr<<16,Ee[Wr]=qr&65535|Hr<<16}C=kr,be=ai,qr=be&65535,Hr=be>>>16,Er=C&65535,jr=C>>>16,C=me[0],be=fe[0],qr+=be&65535,Hr+=be>>>16,Er+=C&65535,jr+=C>>>16,Hr+=qr>>>16,Er+=Hr>>>16,jr+=Er>>>16,me[0]=kr=Er&65535|jr<<16,fe[0]=ai=qr&65535|Hr<<16,C=Vr,be=Gr,qr=be&65535,Hr=be>>>16,Er=C&65535,jr=C>>>16,C=me[1],be=fe[1],qr+=be&65535,Hr+=be>>>16,Er+=C&65535,jr+=C>>>16,Hr+=qr>>>16,Er+=Hr>>>16,jr+=Er>>>16,me[1]=Vr=Er&65535|jr<<16,fe[1]=Gr=qr&65535|Hr<<16,C=Zr,be=fi,qr=be&65535,Hr=be>>>16,Er=C&65535,jr=C>>>16,C=me[2],be=fe[2],qr+=be&65535,Hr+=be>>>16,Er+=C&65535,jr+=C>>>16,Hr+=qr>>>16,Er+=Hr>>>16,jr+=Er>>>16,me[2]=Zr=Er&65535|jr<<16,fe[2]=fi=qr&65535|Hr<<16,C=Qr,be=gi,qr=be&65535,Hr=be>>>16,Er=C&65535,jr=C>>>16,C=me[3],be=fe[3],qr+=be&65535,Hr+=be>>>16,Er+=C&65535,jr+=C>>>16,Hr+=qr>>>16,Er+=Hr>>>16,jr+=Er>>>16,me[3]=Qr=Er&65535|jr<<16,fe[3]=gi=qr&65535|Hr<<16,C=Yr,be=Si,qr=be&65535,Hr=be>>>16,Er=C&65535,jr=C>>>16,C=me[4],be=fe[4],qr+=be&65535,Hr+=be>>>16,Er+=C&65535,jr+=C>>>16,Hr+=qr>>>16,Er+=Hr>>>16,jr+=Er>>>16,me[4]=Yr=Er&65535|jr<<16,fe[4]=Si=qr&65535|Hr<<16,C=ii,be=oi,qr=be&65535,Hr=be>>>16,Er=C&65535,jr=C>>>16,C=me[5],be=fe[5],qr+=be&65535,Hr+=be>>>16,Er+=C&65535,jr+=C>>>16,Hr+=qr>>>16,Er+=Hr>>>16,jr+=Er>>>16,me[5]=ii=Er&65535|jr<<16,fe[5]=oi=qr&65535|Hr<<16,C=ei,be=Kr,qr=be&65535,Hr=be>>>16,Er=C&65535,jr=C>>>16,C=me[6],be=fe[6],qr+=be&65535,Hr+=be>>>16,Er+=C&65535,jr+=C>>>16,Hr+=qr>>>16,Er+=Hr>>>16,jr+=Er>>>16,me[6]=ei=Er&65535|jr<<16,fe[6]=Kr=qr&65535|Hr<<16,C=si,be=Ie,qr=be&65535,Hr=be>>>16,Er=C&65535,jr=C>>>16,C=me[7],be=fe[7],qr+=be&65535,Hr+=be>>>16,Er+=C&65535,jr+=C>>>16,Hr+=qr>>>16,Er+=Hr>>>16,jr+=Er>>>16,me[7]=si=Er&65535|jr<<16,fe[7]=Ie=qr&65535|Hr<<16,br+=128,wr-=128}return br}function we(ye){var Ee=new s;Ee.update(ye);var me=Ee.digest();return Ee.clean(),me}r.hash=we})(sha512);(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.convertSecretKeyToX25519=r.convertPublicKeyToX25519=r.verify=r.sign=r.extractPublicKeyFromSecretKey=r.generateKeyPair=r.generateKeyPairFromSeed=r.SEED_LENGTH=r.SECRET_KEY_LENGTH=r.PUBLIC_KEY_LENGTH=r.SIGNATURE_LENGTH=void 0;const e=random,t=sha512,s=wipe$1;r.SIGNATURE_LENGTH=64,r.PUBLIC_KEY_LENGTH=32,r.SECRET_KEY_LENGTH=64,r.SEED_LENGTH=32;function ne(ti){const ri=new Float64Array(16);if(ti)for(let ci=0;ci<ti.length;ci++)ri[ci]=ti[ci];return ri}const o=new Uint8Array(32);o[0]=9;const we=ne(),ye=ne([1]),Ee=ne([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),me=ne([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),fe=ne([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),xe=ne([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),br=ne([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function wr(ti,ri){for(let ci=0;ci<16;ci++)ti[ci]=ri[ci]|0}function kr(ti){let ri=1;for(let ci=0;ci<16;ci++){let Jr=ti[ci]+ri+65535;ri=Math.floor(Jr/65536),ti[ci]=Jr-ri*65536}ti[0]+=ri-1+37*(ri-1)}function Vr(ti,ri,ci){const Jr=~(ci-1);for(let li=0;li<16;li++){const yi=Jr&(ti[li]^ri[li]);ti[li]^=yi,ri[li]^=yi}}function Zr(ti,ri){const ci=ne(),Jr=ne();for(let li=0;li<16;li++)Jr[li]=ri[li];kr(Jr),kr(Jr),kr(Jr);for(let li=0;li<2;li++){ci[0]=Jr[0]-65517;for(let $i=1;$i<15;$i++)ci[$i]=Jr[$i]-65535-(ci[$i-1]>>16&1),ci[$i-1]&=65535;ci[15]=Jr[15]-32767-(ci[14]>>16&1);const yi=ci[15]>>16&1;ci[14]&=65535,Vr(Jr,ci,1-yi)}for(let li=0;li<16;li++)ti[2*li]=Jr[li]&255,ti[2*li+1]=Jr[li]>>8}function Qr(ti,ri){let ci=0;for(let Jr=0;Jr<32;Jr++)ci|=ti[Jr]^ri[Jr];return(1&ci-1>>>8)-1}function Yr(ti,ri){const ci=new Uint8Array(32),Jr=new Uint8Array(32);return Zr(ci,ti),Zr(Jr,ri),Qr(ci,Jr)}function ii(ti){const ri=new Uint8Array(32);return Zr(ri,ti),ri[0]&1}function ei(ti,ri){for(let ci=0;ci<16;ci++)ti[ci]=ri[2*ci]+(ri[2*ci+1]<<8);ti[15]&=32767}function si(ti,ri,ci){for(let Jr=0;Jr<16;Jr++)ti[Jr]=ri[Jr]+ci[Jr]}function ai(ti,ri,ci){for(let Jr=0;Jr<16;Jr++)ti[Jr]=ri[Jr]-ci[Jr]}function Gr(ti,ri,ci){let Jr,li,yi=0,$i=0,Ni=0,Bi=0,zn=0,zi=0,Ki=0,la=0,Vi=0,Ii=0,Nn=0,ki=0,Ai=0,In=0,wn=0,qi=0,Yn=0,$n=0,Oi=0,fa=0,Pn=0,Li=0,ca=0,Cn=0,On=0,Ua=0,da=0,Tn=0,Ha=0,pa=0,ea=0,wa=ci[0],ta=ci[1],En=ci[2],_a=ci[3],ra=ci[4],_n=ci[5],Aa=ci[6],oa=ci[7],Sn=ci[8],qa=ci[9],na=ci[10],Rn=ci[11],Ma=ci[12],Zn=ci[13],An=ci[14],Pa=ci[15];Jr=ri[0],yi+=Jr*wa,$i+=Jr*ta,Ni+=Jr*En,Bi+=Jr*_a,zn+=Jr*ra,zi+=Jr*_n,Ki+=Jr*Aa,la+=Jr*oa,Vi+=Jr*Sn,Ii+=Jr*qa,Nn+=Jr*na,ki+=Jr*Rn,Ai+=Jr*Ma,In+=Jr*Zn,wn+=Jr*An,qi+=Jr*Pa,Jr=ri[1],$i+=Jr*wa,Ni+=Jr*ta,Bi+=Jr*En,zn+=Jr*_a,zi+=Jr*ra,Ki+=Jr*_n,la+=Jr*Aa,Vi+=Jr*oa,Ii+=Jr*Sn,Nn+=Jr*qa,ki+=Jr*na,Ai+=Jr*Rn,In+=Jr*Ma,wn+=Jr*Zn,qi+=Jr*An,Yn+=Jr*Pa,Jr=ri[2],Ni+=Jr*wa,Bi+=Jr*ta,zn+=Jr*En,zi+=Jr*_a,Ki+=Jr*ra,la+=Jr*_n,Vi+=Jr*Aa,Ii+=Jr*oa,Nn+=Jr*Sn,ki+=Jr*qa,Ai+=Jr*na,In+=Jr*Rn,wn+=Jr*Ma,qi+=Jr*Zn,Yn+=Jr*An,$n+=Jr*Pa,Jr=ri[3],Bi+=Jr*wa,zn+=Jr*ta,zi+=Jr*En,Ki+=Jr*_a,la+=Jr*ra,Vi+=Jr*_n,Ii+=Jr*Aa,Nn+=Jr*oa,ki+=Jr*Sn,Ai+=Jr*qa,In+=Jr*na,wn+=Jr*Rn,qi+=Jr*Ma,Yn+=Jr*Zn,$n+=Jr*An,Oi+=Jr*Pa,Jr=ri[4],zn+=Jr*wa,zi+=Jr*ta,Ki+=Jr*En,la+=Jr*_a,Vi+=Jr*ra,Ii+=Jr*_n,Nn+=Jr*Aa,ki+=Jr*oa,Ai+=Jr*Sn,In+=Jr*qa,wn+=Jr*na,qi+=Jr*Rn,Yn+=Jr*Ma,$n+=Jr*Zn,Oi+=Jr*An,fa+=Jr*Pa,Jr=ri[5],zi+=Jr*wa,Ki+=Jr*ta,la+=Jr*En,Vi+=Jr*_a,Ii+=Jr*ra,Nn+=Jr*_n,ki+=Jr*Aa,Ai+=Jr*oa,In+=Jr*Sn,wn+=Jr*qa,qi+=Jr*na,Yn+=Jr*Rn,$n+=Jr*Ma,Oi+=Jr*Zn,fa+=Jr*An,Pn+=Jr*Pa,Jr=ri[6],Ki+=Jr*wa,la+=Jr*ta,Vi+=Jr*En,Ii+=Jr*_a,Nn+=Jr*ra,ki+=Jr*_n,Ai+=Jr*Aa,In+=Jr*oa,wn+=Jr*Sn,qi+=Jr*qa,Yn+=Jr*na,$n+=Jr*Rn,Oi+=Jr*Ma,fa+=Jr*Zn,Pn+=Jr*An,Li+=Jr*Pa,Jr=ri[7],la+=Jr*wa,Vi+=Jr*ta,Ii+=Jr*En,Nn+=Jr*_a,ki+=Jr*ra,Ai+=Jr*_n,In+=Jr*Aa,wn+=Jr*oa,qi+=Jr*Sn,Yn+=Jr*qa,$n+=Jr*na,Oi+=Jr*Rn,fa+=Jr*Ma,Pn+=Jr*Zn,Li+=Jr*An,ca+=Jr*Pa,Jr=ri[8],Vi+=Jr*wa,Ii+=Jr*ta,Nn+=Jr*En,ki+=Jr*_a,Ai+=Jr*ra,In+=Jr*_n,wn+=Jr*Aa,qi+=Jr*oa,Yn+=Jr*Sn,$n+=Jr*qa,Oi+=Jr*na,fa+=Jr*Rn,Pn+=Jr*Ma,Li+=Jr*Zn,ca+=Jr*An,Cn+=Jr*Pa,Jr=ri[9],Ii+=Jr*wa,Nn+=Jr*ta,ki+=Jr*En,Ai+=Jr*_a,In+=Jr*ra,wn+=Jr*_n,qi+=Jr*Aa,Yn+=Jr*oa,$n+=Jr*Sn,Oi+=Jr*qa,fa+=Jr*na,Pn+=Jr*Rn,Li+=Jr*Ma,ca+=Jr*Zn,Cn+=Jr*An,On+=Jr*Pa,Jr=ri[10],Nn+=Jr*wa,ki+=Jr*ta,Ai+=Jr*En,In+=Jr*_a,wn+=Jr*ra,qi+=Jr*_n,Yn+=Jr*Aa,$n+=Jr*oa,Oi+=Jr*Sn,fa+=Jr*qa,Pn+=Jr*na,Li+=Jr*Rn,ca+=Jr*Ma,Cn+=Jr*Zn,On+=Jr*An,Ua+=Jr*Pa,Jr=ri[11],ki+=Jr*wa,Ai+=Jr*ta,In+=Jr*En,wn+=Jr*_a,qi+=Jr*ra,Yn+=Jr*_n,$n+=Jr*Aa,Oi+=Jr*oa,fa+=Jr*Sn,Pn+=Jr*qa,Li+=Jr*na,ca+=Jr*Rn,Cn+=Jr*Ma,On+=Jr*Zn,Ua+=Jr*An,da+=Jr*Pa,Jr=ri[12],Ai+=Jr*wa,In+=Jr*ta,wn+=Jr*En,qi+=Jr*_a,Yn+=Jr*ra,$n+=Jr*_n,Oi+=Jr*Aa,fa+=Jr*oa,Pn+=Jr*Sn,Li+=Jr*qa,ca+=Jr*na,Cn+=Jr*Rn,On+=Jr*Ma,Ua+=Jr*Zn,da+=Jr*An,Tn+=Jr*Pa,Jr=ri[13],In+=Jr*wa,wn+=Jr*ta,qi+=Jr*En,Yn+=Jr*_a,$n+=Jr*ra,Oi+=Jr*_n,fa+=Jr*Aa,Pn+=Jr*oa,Li+=Jr*Sn,ca+=Jr*qa,Cn+=Jr*na,On+=Jr*Rn,Ua+=Jr*Ma,da+=Jr*Zn,Tn+=Jr*An,Ha+=Jr*Pa,Jr=ri[14],wn+=Jr*wa,qi+=Jr*ta,Yn+=Jr*En,$n+=Jr*_a,Oi+=Jr*ra,fa+=Jr*_n,Pn+=Jr*Aa,Li+=Jr*oa,ca+=Jr*Sn,Cn+=Jr*qa,On+=Jr*na,Ua+=Jr*Rn,da+=Jr*Ma,Tn+=Jr*Zn,Ha+=Jr*An,pa+=Jr*Pa,Jr=ri[15],qi+=Jr*wa,Yn+=Jr*ta,$n+=Jr*En,Oi+=Jr*_a,fa+=Jr*ra,Pn+=Jr*_n,Li+=Jr*Aa,ca+=Jr*oa,Cn+=Jr*Sn,On+=Jr*qa,Ua+=Jr*na,da+=Jr*Rn,Tn+=Jr*Ma,Ha+=Jr*Zn,pa+=Jr*An,ea+=Jr*Pa,yi+=38*Yn,$i+=38*$n,Ni+=38*Oi,Bi+=38*fa,zn+=38*Pn,zi+=38*Li,Ki+=38*ca,la+=38*Cn,Vi+=38*On,Ii+=38*Ua,Nn+=38*da,ki+=38*Tn,Ai+=38*Ha,In+=38*pa,wn+=38*ea,li=1,Jr=yi+li+65535,li=Math.floor(Jr/65536),yi=Jr-li*65536,Jr=$i+li+65535,li=Math.floor(Jr/65536),$i=Jr-li*65536,Jr=Ni+li+65535,li=Math.floor(Jr/65536),Ni=Jr-li*65536,Jr=Bi+li+65535,li=Math.floor(Jr/65536),Bi=Jr-li*65536,Jr=zn+li+65535,li=Math.floor(Jr/65536),zn=Jr-li*65536,Jr=zi+li+65535,li=Math.floor(Jr/65536),zi=Jr-li*65536,Jr=Ki+li+65535,li=Math.floor(Jr/65536),Ki=Jr-li*65536,Jr=la+li+65535,li=Math.floor(Jr/65536),la=Jr-li*65536,Jr=Vi+li+65535,li=Math.floor(Jr/65536),Vi=Jr-li*65536,Jr=Ii+li+65535,li=Math.floor(Jr/65536),Ii=Jr-li*65536,Jr=Nn+li+65535,li=Math.floor(Jr/65536),Nn=Jr-li*65536,Jr=ki+li+65535,li=Math.floor(Jr/65536),ki=Jr-li*65536,Jr=Ai+li+65535,li=Math.floor(Jr/65536),Ai=Jr-li*65536,Jr=In+li+65535,li=Math.floor(Jr/65536),In=Jr-li*65536,Jr=wn+li+65535,li=Math.floor(Jr/65536),wn=Jr-li*65536,Jr=qi+li+65535,li=Math.floor(Jr/65536),qi=Jr-li*65536,yi+=li-1+37*(li-1),li=1,Jr=yi+li+65535,li=Math.floor(Jr/65536),yi=Jr-li*65536,Jr=$i+li+65535,li=Math.floor(Jr/65536),$i=Jr-li*65536,Jr=Ni+li+65535,li=Math.floor(Jr/65536),Ni=Jr-li*65536,Jr=Bi+li+65535,li=Math.floor(Jr/65536),Bi=Jr-li*65536,Jr=zn+li+65535,li=Math.floor(Jr/65536),zn=Jr-li*65536,Jr=zi+li+65535,li=Math.floor(Jr/65536),zi=Jr-li*65536,Jr=Ki+li+65535,li=Math.floor(Jr/65536),Ki=Jr-li*65536,Jr=la+li+65535,li=Math.floor(Jr/65536),la=Jr-li*65536,Jr=Vi+li+65535,li=Math.floor(Jr/65536),Vi=Jr-li*65536,Jr=Ii+li+65535,li=Math.floor(Jr/65536),Ii=Jr-li*65536,Jr=Nn+li+65535,li=Math.floor(Jr/65536),Nn=Jr-li*65536,Jr=ki+li+65535,li=Math.floor(Jr/65536),ki=Jr-li*65536,Jr=Ai+li+65535,li=Math.floor(Jr/65536),Ai=Jr-li*65536,Jr=In+li+65535,li=Math.floor(Jr/65536),In=Jr-li*65536,Jr=wn+li+65535,li=Math.floor(Jr/65536),wn=Jr-li*65536,Jr=qi+li+65535,li=Math.floor(Jr/65536),qi=Jr-li*65536,yi+=li-1+37*(li-1),ti[0]=yi,ti[1]=$i,ti[2]=Ni,ti[3]=Bi,ti[4]=zn,ti[5]=zi,ti[6]=Ki,ti[7]=la,ti[8]=Vi,ti[9]=Ii,ti[10]=Nn,ti[11]=ki,ti[12]=Ai,ti[13]=In,ti[14]=wn,ti[15]=qi}function fi(ti,ri){Gr(ti,ri,ri)}function gi(ti,ri){const ci=ne();let Jr;for(Jr=0;Jr<16;Jr++)ci[Jr]=ri[Jr];for(Jr=253;Jr>=0;Jr--)fi(ci,ci),Jr!==2&&Jr!==4&&Gr(ci,ci,ri);for(Jr=0;Jr<16;Jr++)ti[Jr]=ci[Jr]}function Si(ti,ri){const ci=ne();let Jr;for(Jr=0;Jr<16;Jr++)ci[Jr]=ri[Jr];for(Jr=250;Jr>=0;Jr--)fi(ci,ci),Jr!==1&&Gr(ci,ci,ri);for(Jr=0;Jr<16;Jr++)ti[Jr]=ci[Jr]}function oi(ti,ri){const ci=ne(),Jr=ne(),li=ne(),yi=ne(),$i=ne(),Ni=ne(),Bi=ne(),zn=ne(),zi=ne();ai(ci,ti[1],ti[0]),ai(zi,ri[1],ri[0]),Gr(ci,ci,zi),si(Jr,ti[0],ti[1]),si(zi,ri[0],ri[1]),Gr(Jr,Jr,zi),Gr(li,ti[3],ri[3]),Gr(li,li,me),Gr(yi,ti[2],ri[2]),si(yi,yi,yi),ai($i,Jr,ci),ai(Ni,yi,li),si(Bi,yi,li),si(zn,Jr,ci),Gr(ti[0],$i,Ni),Gr(ti[1],zn,Bi),Gr(ti[2],Bi,Ni),Gr(ti[3],$i,zn)}function Kr(ti,ri,ci){for(let Jr=0;Jr<4;Jr++)Vr(ti[Jr],ri[Jr],ci)}function Ie(ti,ri){const ci=ne(),Jr=ne(),li=ne();gi(li,ri[2]),Gr(ci,ri[0],li),Gr(Jr,ri[1],li),Zr(ti,Jr),ti[31]^=ii(ci)<<7}function C(ti,ri,ci){wr(ti[0],we),wr(ti[1],ye),wr(ti[2],ye),wr(ti[3],we);for(let Jr=255;Jr>=0;--Jr){const li=ci[Jr/8|0]>>(Jr&7)&1;Kr(ti,ri,li),oi(ri,ti),oi(ti,ti),Kr(ti,ri,li)}}function be(ti,ri){const ci=[ne(),ne(),ne(),ne()];wr(ci[0],fe),wr(ci[1],xe),wr(ci[2],ye),Gr(ci[3],fe,xe),C(ti,ci,ri)}function Oe(ti){if(ti.length!==r.SEED_LENGTH)throw new Error(`ed25519: seed must be ${r.SEED_LENGTH} bytes`);const ri=(0,t.hash)(ti);ri[0]&=248,ri[31]&=127,ri[31]|=64;const ci=new Uint8Array(32),Jr=[ne(),ne(),ne(),ne()];be(Jr,ri),Ie(ci,Jr);const li=new Uint8Array(64);return li.set(ti),li.set(ci,32),{publicKey:ci,secretKey:li}}r.generateKeyPairFromSeed=Oe;function fr(ti){const ri=(0,e.randomBytes)(32,ti),ci=Oe(ri);return(0,s.wipe)(ri),ci}r.generateKeyPair=fr;function qr(ti){if(ti.length!==r.SECRET_KEY_LENGTH)throw new Error(`ed25519: secret key must be ${r.SECRET_KEY_LENGTH} bytes`);return new Uint8Array(ti.subarray(32))}r.extractPublicKeyFromSecretKey=qr;const Hr=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function Er(ti,ri){let ci,Jr,li,yi;for(Jr=63;Jr>=32;--Jr){for(ci=0,li=Jr-32,yi=Jr-12;li<yi;++li)ri[li]+=ci-16*ri[Jr]*Hr[li-(Jr-32)],ci=Math.floor((ri[li]+128)/256),ri[li]-=ci*256;ri[li]+=ci,ri[Jr]=0}for(ci=0,li=0;li<32;li++)ri[li]+=ci-(ri[31]>>4)*Hr[li],ci=ri[li]>>8,ri[li]&=255;for(li=0;li<32;li++)ri[li]-=ci*Hr[li];for(Jr=0;Jr<32;Jr++)ri[Jr+1]+=ri[Jr]>>8,ti[Jr]=ri[Jr]&255}function jr(ti){const ri=new Float64Array(64);for(let ci=0;ci<64;ci++)ri[ci]=ti[ci];for(let ci=0;ci<64;ci++)ti[ci]=0;Er(ti,ri)}function Se(ti,ri){const ci=new Float64Array(64),Jr=[ne(),ne(),ne(),ne()],li=(0,t.hash)(ti.subarray(0,32));li[0]&=248,li[31]&=127,li[31]|=64;const yi=new Uint8Array(64);yi.set(li.subarray(32),32);const $i=new t.SHA512;$i.update(yi.subarray(32)),$i.update(ri);const Ni=$i.digest();$i.clean(),jr(Ni),be(Jr,Ni),Ie(yi,Jr),$i.reset(),$i.update(yi.subarray(0,32)),$i.update(ti.subarray(32)),$i.update(ri);const Bi=$i.digest();jr(Bi);for(let zn=0;zn<32;zn++)ci[zn]=Ni[zn];for(let zn=0;zn<32;zn++)for(let zi=0;zi<32;zi++)ci[zn+zi]+=Bi[zn]*li[zi];return Er(yi.subarray(32),ci),yi}r.sign=Se;function Wr(ti,ri){const ci=ne(),Jr=ne(),li=ne(),yi=ne(),$i=ne(),Ni=ne(),Bi=ne();return wr(ti[2],ye),ei(ti[1],ri),fi(li,ti[1]),Gr(yi,li,Ee),ai(li,li,ti[2]),si(yi,ti[2],yi),fi($i,yi),fi(Ni,$i),Gr(Bi,Ni,$i),Gr(ci,Bi,li),Gr(ci,ci,yi),Si(ci,ci),Gr(ci,ci,li),Gr(ci,ci,yi),Gr(ci,ci,yi),Gr(ti[0],ci,yi),fi(Jr,ti[0]),Gr(Jr,Jr,yi),Yr(Jr,li)&&Gr(ti[0],ti[0],br),fi(Jr,ti[0]),Gr(Jr,Jr,yi),Yr(Jr,li)?-1:(ii(ti[0])===ri[31]>>7&&ai(ti[0],we,ti[0]),Gr(ti[3],ti[0],ti[1]),0)}function bi(ti,ri,ci){const Jr=new Uint8Array(32),li=[ne(),ne(),ne(),ne()],yi=[ne(),ne(),ne(),ne()];if(ci.length!==r.SIGNATURE_LENGTH)throw new Error(`ed25519: signature must be ${r.SIGNATURE_LENGTH} bytes`);if(Wr(yi,ti))return!1;const $i=new t.SHA512;$i.update(ci.subarray(0,32)),$i.update(ti),$i.update(ri);const Ni=$i.digest();return jr(Ni),C(li,yi,Ni),be(yi,ci.subarray(32)),oi(li,yi),Ie(Jr,li),!Qr(ci,Jr)}r.verify=bi;function vi(ti){let ri=[ne(),ne(),ne(),ne()];if(Wr(ri,ti))throw new Error("Ed25519: invalid public key");let ci=ne(),Jr=ne(),li=ri[1];si(ci,ye,li),ai(Jr,ye,li),gi(Jr,Jr),Gr(ci,ci,Jr);let yi=new Uint8Array(32);return Zr(yi,ci),yi}r.convertPublicKeyToX25519=vi;function Ei(ti){const ri=(0,t.hash)(ti.subarray(0,32));ri[0]&=248,ri[31]&=127,ri[31]|=64;const ci=new Uint8Array(ri.subarray(0,32));return(0,s.wipe)(ri),ci}r.convertSecretKeyToX25519=Ei})(ed25519);const JWT_IRIDIUM_ALG="EdDSA",JWT_IRIDIUM_TYP="JWT",JWT_DELIMITER=".",JWT_ENCODING="base64url",JSON_ENCODING="utf8",DATA_ENCODING="utf8",DID_DELIMITER=":",DID_PREFIX="did",DID_METHOD="key",MULTICODEC_ED25519_ENCODING="base58btc",MULTICODEC_ED25519_BASE="z",MULTICODEC_ED25519_HEADER="K36",KEY_PAIR_SEED_LENGTH=32;function encodeJSON(r){return toString(fromString(safeJsonStringify(r),JSON_ENCODING),JWT_ENCODING)}function encodeIss(r){const e=fromString(MULTICODEC_ED25519_HEADER,MULTICODEC_ED25519_ENCODING),t=MULTICODEC_ED25519_BASE+toString(concat([e,r]),MULTICODEC_ED25519_ENCODING);return[DID_PREFIX,DID_METHOD,t].join(DID_DELIMITER)}function encodeSig(r){return toString(r,JWT_ENCODING)}function encodeData(r){return fromString([encodeJSON(r.header),encodeJSON(r.payload)].join(JWT_DELIMITER),DATA_ENCODING)}function encodeJWT(r){return[encodeJSON(r.header),encodeJSON(r.payload),encodeSig(r.signature)].join(JWT_DELIMITER)}function generateKeyPair(r=random.randomBytes(KEY_PAIR_SEED_LENGTH)){return ed25519.generateKeyPairFromSeed(r)}async function signJWT(r,e,t,s,ne=cjs$4.fromMiliseconds(Date.now())){const o={alg:JWT_IRIDIUM_ALG,typ:JWT_IRIDIUM_TYP},we=encodeIss(s.publicKey),ye=ne+t,Ee={iss:we,sub:r,aud:e,iat:ne,exp:ye},me=encodeData({header:o,payload:Ee}),fe=ed25519.sign(s.secretKey,me);return encodeJWT({header:o,payload:Ee,signature:fe})}const PARSE_ERROR="PARSE_ERROR",INVALID_REQUEST="INVALID_REQUEST",METHOD_NOT_FOUND="METHOD_NOT_FOUND",INVALID_PARAMS="INVALID_PARAMS",INTERNAL_ERROR="INTERNAL_ERROR",SERVER_ERROR="SERVER_ERROR",RESERVED_ERROR_CODES=[-32700,-32600,-32601,-32602,-32603],STANDARD_ERROR_MAP={[PARSE_ERROR]:{code:-32700,message:"Parse error"},[INVALID_REQUEST]:{code:-32600,message:"Invalid Request"},[METHOD_NOT_FOUND]:{code:-32601,message:"Method not found"},[INVALID_PARAMS]:{code:-32602,message:"Invalid params"},[INTERNAL_ERROR]:{code:-32603,message:"Internal error"},[SERVER_ERROR]:{code:-32e3,message:"Server error"}},DEFAULT_ERROR=SERVER_ERROR;function isReservedErrorCode(r){return RESERVED_ERROR_CODES.includes(r)}function getError(r){return Object.keys(STANDARD_ERROR_MAP).includes(r)?STANDARD_ERROR_MAP[r]:STANDARD_ERROR_MAP[DEFAULT_ERROR]}function getErrorByCode(r){const e=Object.values(STANDARD_ERROR_MAP).find(t=>t.code===r);return e||STANDARD_ERROR_MAP[DEFAULT_ERROR]}function parseConnectionError(r,e,t){return r.message.includes("getaddrinfo ENOTFOUND")||r.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${t} RPC url at ${e}`):r}var cjs={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(r,e){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,s){t.__proto__=s}||function(t,s){for(var ne in s)s.hasOwnProperty(ne)&&(t[ne]=s[ne])},extendStatics(r,e)};function __extends(r,e){extendStatics(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var __assign=function(){return __assign=Object.assign||function(e){for(var t,s=1,ne=arguments.length;s<ne;s++){t=arguments[s];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},__assign.apply(this,arguments)};function __rest(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ne=0,s=Object.getOwnPropertySymbols(r);ne<s.length;ne++)e.indexOf(s[ne])<0&&Object.prototype.propertyIsEnumerable.call(r,s[ne])&&(t[s[ne]]=r[s[ne]]);return t}function __decorate(r,e,t,s){var ne=arguments.length,o=ne<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,t):s,we;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,s);else for(var ye=r.length-1;ye>=0;ye--)(we=r[ye])&&(o=(ne<3?we(o):ne>3?we(e,t,o):we(e,t))||o);return ne>3&&o&&Object.defineProperty(e,t,o),o}function __param(r,e){return function(t,s){e(t,s,r)}}function __metadata(r,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,e)}function __awaiter(r,e,t,s){function ne(o){return o instanceof t?o:new t(function(we){we(o)})}return new(t||(t=Promise))(function(o,we){function ye(fe){try{me(s.next(fe))}catch(xe){we(xe)}}function Ee(fe){try{me(s.throw(fe))}catch(xe){we(xe)}}function me(fe){fe.done?o(fe.value):ne(fe.value).then(ye,Ee)}me((s=s.apply(r,e||[])).next())})}function __generator(r,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},s,ne,o,we;return we={next:ye(0),throw:ye(1),return:ye(2)},typeof Symbol=="function"&&(we[Symbol.iterator]=function(){return this}),we;function ye(me){return function(fe){return Ee([me,fe])}}function Ee(me){if(s)throw new TypeError("Generator is already executing.");for(;t;)try{if(s=1,ne&&(o=me[0]&2?ne.return:me[0]?ne.throw||((o=ne.return)&&o.call(ne),0):ne.next)&&!(o=o.call(ne,me[1])).done)return o;switch(ne=0,o&&(me=[me[0]&2,o.value]),me[0]){case 0:case 1:o=me;break;case 4:return t.label++,{value:me[1],done:!1};case 5:t.label++,ne=me[1],me=[0];continue;case 7:me=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(me[0]===6||me[0]===2)){t=0;continue}if(me[0]===3&&(!o||me[1]>o[0]&&me[1]<o[3])){t.label=me[1];break}if(me[0]===6&&t.label<o[1]){t.label=o[1],o=me;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(me);break}o[2]&&t.ops.pop(),t.trys.pop();continue}me=e.call(r,t)}catch(fe){me=[6,fe],ne=0}finally{s=o=0}if(me[0]&5)throw me[1];return{value:me[0]?me[1]:void 0,done:!0}}}function __createBinding(r,e,t,s){s===void 0&&(s=t),r[s]=e[t]}function __exportStar(r,e){for(var t in r)t!=="default"&&!e.hasOwnProperty(t)&&(e[t]=r[t])}function __values(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],s=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&s>=r.length&&(r=void 0),{value:r&&r[s++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var s=t.call(r),ne,o=[],we;try{for(;(e===void 0||e-- >0)&&!(ne=s.next()).done;)o.push(ne.value)}catch(ye){we={error:ye}}finally{try{ne&&!ne.done&&(t=s.return)&&t.call(s)}finally{if(we)throw we.error}}return o}function __spread(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(__read(arguments[e]));return r}function __spreadArrays(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var s=Array(r),ne=0,e=0;e<t;e++)for(var o=arguments[e],we=0,ye=o.length;we<ye;we++,ne++)s[ne]=o[we];return s}function __await(r){return this instanceof __await?(this.v=r,this):new __await(r)}function __asyncGenerator(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=t.apply(r,e||[]),ne,o=[];return ne={},we("next"),we("throw"),we("return"),ne[Symbol.asyncIterator]=function(){return this},ne;function we(br){s[br]&&(ne[br]=function(wr){return new Promise(function(kr,Vr){o.push([br,wr,kr,Vr])>1||ye(br,wr)})})}function ye(br,wr){try{Ee(s[br](wr))}catch(kr){xe(o[0][3],kr)}}function Ee(br){br.value instanceof __await?Promise.resolve(br.value.v).then(me,fe):xe(o[0][2],br)}function me(br){ye("next",br)}function fe(br){ye("throw",br)}function xe(br,wr){br(wr),o.shift(),o.length&&ye(o[0][0],o[0][1])}}function __asyncDelegator(r){var e,t;return e={},s("next"),s("throw",function(ne){throw ne}),s("return"),e[Symbol.iterator]=function(){return this},e;function s(ne,o){e[ne]=r[ne]?function(we){return(t=!t)?{value:__await(r[ne](we)),done:ne==="return"}:o?o(we):we}:o}}function __asyncValues(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof __values=="function"?__values(r):r[Symbol.iterator](),t={},s("next"),s("throw"),s("return"),t[Symbol.asyncIterator]=function(){return this},t);function s(o){t[o]=r[o]&&function(we){return new Promise(function(ye,Ee){we=r[o](we),ne(ye,Ee,we.done,we.value)})}}function ne(o,we,ye,Ee){Promise.resolve(Ee).then(function(me){o({value:me,done:ye})},we)}}function __makeTemplateObject(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r}function __importStar(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)Object.hasOwnProperty.call(r,t)&&(e[t]=r[t]);return e.default=r,e}function __importDefault(r){return r&&r.__esModule?r:{default:r}}function __classPrivateFieldGet(r,e){if(!e.has(r))throw new TypeError("attempted to get private field on non-instance");return e.get(r)}function __classPrivateFieldSet(r,e,t){if(!e.has(r))throw new TypeError("attempted to set private field on non-instance");return e.set(r,t),t}const tslib_es6=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return __assign},__asyncDelegator,__asyncGenerator,__asyncValues,__await,__awaiter,__classPrivateFieldGet,__classPrivateFieldSet,__createBinding,__decorate,__exportStar,__extends,__generator,__importDefault,__importStar,__makeTemplateObject,__metadata,__param,__read,__rest,__spread,__spreadArrays,__values},Symbol.toStringTag,{value:"Module"})),require$$0$1=getAugmentedNamespace(tslib_es6);var crypto$1={},hasRequiredCrypto;function requireCrypto(){if(hasRequiredCrypto)return crypto$1;hasRequiredCrypto=1,Object.defineProperty(crypto$1,"__esModule",{value:!0}),crypto$1.isBrowserCryptoAvailable=crypto$1.getSubtleCrypto=crypto$1.getBrowerCrypto=void 0;function r(){return(commonjsGlobal===null||commonjsGlobal===void 0?void 0:commonjsGlobal.crypto)||(commonjsGlobal===null||commonjsGlobal===void 0?void 0:commonjsGlobal.msCrypto)||{}}crypto$1.getBrowerCrypto=r;function e(){const s=r();return s.subtle||s.webkitSubtle}crypto$1.getSubtleCrypto=e;function t(){return!!r()&&!!e()}return crypto$1.isBrowserCryptoAvailable=t,crypto$1}var env={},hasRequiredEnv;function requireEnv(){if(hasRequiredEnv)return env;hasRequiredEnv=1,Object.defineProperty(env,"__esModule",{value:!0}),env.isBrowser=env.isNode=env.isReactNative=void 0;function r(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}env.isReactNative=r;function e(){return typeof process$1<"u"&&typeof process$1.versions<"u"&&typeof process$1.versions.node<"u"}env.isNode=e;function t(){return!r()&&!e()}return env.isBrowser=t,env}(function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=require$$0$1;e.__exportStar(requireCrypto(),r),e.__exportStar(requireEnv(),r)})(cjs);function payloadId(r=3){const e=Date.now()*Math.pow(10,r),t=Math.floor(Math.random()*Math.pow(10,r));return e+t}function getBigIntRpcId(r=6){return BigInt(payloadId(r))}function formatJsonRpcRequest(r,e,t){return{id:t||payloadId(),jsonrpc:"2.0",method:r,params:e}}function formatJsonRpcResult(r,e){return{id:r,jsonrpc:"2.0",result:e}}function formatJsonRpcError(r,e,t){return{id:r,jsonrpc:"2.0",error:formatErrorMessage(e,t)}}function formatErrorMessage(r,e){return typeof r>"u"?getError(INTERNAL_ERROR):(typeof r=="string"&&(r=Object.assign(Object.assign({},getError(SERVER_ERROR)),{message:r})),typeof e<"u"&&(r.data=e),isReservedErrorCode(r.code)&&(r=getErrorByCode(r.code)),r)}class IEvents{}class IBaseJsonRpcProvider extends IEvents{constructor(){super()}}class IJsonRpcProvider extends IBaseJsonRpcProvider{constructor(e){super()}}const HTTP_REGEX="^https?:",WS_REGEX="^wss?:";function getUrlProtocol(r){const e=r.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function matchRegexProtocol(r,e){const t=getUrlProtocol(r);return typeof t>"u"?!1:new RegExp(e).test(t)}function isHttpUrl(r){return matchRegexProtocol(r,HTTP_REGEX)}function isWsUrl(r){return matchRegexProtocol(r,WS_REGEX)}function isLocalhostUrl(r){return new RegExp("wss?://localhost(:d{2,5})?").test(r)}function isJsonRpcPayload(r){return typeof r=="object"&&"id"in r&&"jsonrpc"in r&&r.jsonrpc==="2.0"}function isJsonRpcRequest(r){return isJsonRpcPayload(r)&&"method"in r}function isJsonRpcResponse(r){return isJsonRpcPayload(r)&&(isJsonRpcResult(r)||isJsonRpcError(r))}function isJsonRpcResult(r){return"result"in r}function isJsonRpcError(r){return"error"in r}class JsonRpcProvider extends IJsonRpcProvider{constructor(e){super(e),this.events=new eventsExports.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async request(e,t){return this.requestStrict(formatJsonRpcRequest(e.method,e.params||[],e.id||getBigIntRpcId().toString()),t)}async requestStrict(e,t){return new Promise(async(s,ne)=>{if(!this.connection.connected)try{await this.open()}catch(o){ne(o)}this.events.on(`${e.id}`,o=>{isJsonRpcError(o)?ne(o.error):s(o.result)});try{await this.connection.send(e,t)}catch(o){ne(o)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),isJsonRpcResponse(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}}const w$1=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof globalThis.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),b=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof globalThis.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",a=r=>r.split("?")[0],h=10,S$1=w$1();let f$1=class{constructor(e){if(this.url=e,this.events=new eventsExports.EventEmitter,this.registering=!1,!isWsUrl(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,t)=>{if(typeof this.socket>"u"){t(new Error("Connection already closed"));return}this.socket.onclose=s=>{this.onClose(s),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(safeJsonStringify(e))}catch(t){this.onError(e.id,t)}}register(e=this.url){if(!isWsUrl(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const t=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=t||this.events.listenerCount("open")>=t)&&this.events.setMaxListeners(t+1),new Promise((s,ne)=>{this.events.once("register_error",o=>{this.resetMaxListeners(),ne(o)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return ne(new Error("WebSocket connection is missing or invalid"));s(this.socket)})})}return this.url=e,this.registering=!0,new Promise((t,s)=>{const ne=new URLSearchParams(e).get("origin"),o=cjs.isReactNative()?{headers:{origin:ne}}:{rejectUnauthorized:!isLocalhostUrl(e)},we=new S$1(e,[],o);b()?we.onerror=ye=>{const Ee=ye;s(this.emitError(Ee.error))}:we.on("error",ye=>{s(this.emitError(ye))}),we.onopen=()=>{this.onOpen(we),t(we)}})}onOpen(e){e.onmessage=t=>this.onPayload(t),e.onclose=t=>this.onClose(t),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const t=typeof e.data=="string"?safeJsonParse(e.data):e.data;this.events.emit("payload",t)}onError(e,t){const s=this.parseError(t),ne=s.message||s.toString(),o=formatJsonRpcError(e,ne);this.events.emit("payload",o)}parseError(e,t=this.url){return parseConnectionError(e,a(t),"WS")}resetMaxListeners(){this.events.getMaxListeners()>h&&this.events.setMaxListeners(h)}emitError(e){const t=this.parseError(new Error((e==null?void 0:e.message)||`WebSocket connection failed for host: ${a(this.url)}`));return this.events.emit("register_error",t),t}};var lodash_isequal={exports:{}};lodash_isequal.exports;(function(r,e){var t=200,s="__lodash_hash_undefined__",ne=1,o=2,we=9007199254740991,ye="[object Arguments]",Ee="[object Array]",me="[object AsyncFunction]",fe="[object Boolean]",xe="[object Date]",br="[object Error]",wr="[object Function]",kr="[object GeneratorFunction]",Vr="[object Map]",Zr="[object Number]",Qr="[object Null]",Yr="[object Object]",ii="[object Promise]",ei="[object Proxy]",si="[object RegExp]",ai="[object Set]",Gr="[object String]",fi="[object Symbol]",gi="[object Undefined]",Si="[object WeakMap]",oi="[object ArrayBuffer]",Kr="[object DataView]",Ie="[object Float32Array]",C="[object Float64Array]",be="[object Int8Array]",Oe="[object Int16Array]",fr="[object Int32Array]",qr="[object Uint8Array]",Hr="[object Uint8ClampedArray]",Er="[object Uint16Array]",jr="[object Uint32Array]",Se=/[\\^$.*+?()[\]{}|]/g,Wr=/^\[object .+?Constructor\]$/,bi=/^(?:0|[1-9]\d*)$/,vi={};vi[Ie]=vi[C]=vi[be]=vi[Oe]=vi[fr]=vi[qr]=vi[Hr]=vi[Er]=vi[jr]=!0,vi[ye]=vi[Ee]=vi[oi]=vi[fe]=vi[Kr]=vi[xe]=vi[br]=vi[wr]=vi[Vr]=vi[Zr]=vi[Yr]=vi[si]=vi[ai]=vi[Gr]=vi[Si]=!1;var Ei=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,ti=typeof self=="object"&&self&&self.Object===Object&&self,ri=Ei||ti||Function("return this")(),ci=e&&!e.nodeType&&e,Jr=ci&&!0&&r&&!r.nodeType&&r,li=Jr&&Jr.exports===ci,yi=li&&Ei.process,$i=function(){try{return yi&&yi.binding&&yi.binding("util")}catch{}}(),Ni=$i&&$i.isTypedArray;function Bi(di,wi){for(var Ti=-1,ia=di==null?0:di.length,eo=0,Ba=[];++Ti<ia;){var io=di[Ti];wi(io,Ti,di)&&(Ba[eo++]=io)}return Ba}function zn(di,wi){for(var Ti=-1,ia=wi.length,eo=di.length;++Ti<ia;)di[eo+Ti]=wi[Ti];return di}function zi(di,wi){for(var Ti=-1,ia=di==null?0:di.length;++Ti<ia;)if(wi(di[Ti],Ti,di))return!0;return!1}function Ki(di,wi){for(var Ti=-1,ia=Array(di);++Ti<di;)ia[Ti]=wi(Ti);return ia}function la(di){return function(wi){return di(wi)}}function Vi(di,wi){return di.has(wi)}function Ii(di,wi){return di==null?void 0:di[wi]}function Nn(di){var wi=-1,Ti=Array(di.size);return di.forEach(function(ia,eo){Ti[++wi]=[eo,ia]}),Ti}function ki(di,wi){return function(Ti){return di(wi(Ti))}}function Ai(di){var wi=-1,Ti=Array(di.size);return di.forEach(function(ia){Ti[++wi]=ia}),Ti}var In=Array.prototype,wn=Function.prototype,qi=Object.prototype,Yn=ri["__core-js_shared__"],$n=wn.toString,Oi=qi.hasOwnProperty,fa=function(){var di=/[^.]+$/.exec(Yn&&Yn.keys&&Yn.keys.IE_PROTO||"");return di?"Symbol(src)_1."+di:""}(),Pn=qi.toString,Li=RegExp("^"+$n.call(Oi).replace(Se,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ca=li?ri.Buffer:void 0,Cn=ri.Symbol,On=ri.Uint8Array,Ua=qi.propertyIsEnumerable,da=In.splice,Tn=Cn?Cn.toStringTag:void 0,Ha=Object.getOwnPropertySymbols,pa=ca?ca.isBuffer:void 0,ea=ki(Object.keys,Object),wa=Go(ri,"DataView"),ta=Go(ri,"Map"),En=Go(ri,"Promise"),_a=Go(ri,"Set"),ra=Go(ri,"WeakMap"),_n=Go(Object,"create"),Aa=wf(wa),oa=wf(ta),Sn=wf(En),qa=wf(_a),na=wf(ra),Rn=Cn?Cn.prototype:void 0,Ma=Rn?Rn.valueOf:void 0;function Zn(di){var wi=-1,Ti=di==null?0:di.length;for(this.clear();++wi<Ti;){var ia=di[wi];this.set(ia[0],ia[1])}}function An(){this.__data__=_n?_n(null):{},this.size=0}function Pa(di){var wi=this.has(di)&&delete this.__data__[di];return this.size-=wi?1:0,wi}function Da(di){var wi=this.__data__;if(_n){var Ti=wi[di];return Ti===s?void 0:Ti}return Oi.call(wi,di)?wi[di]:void 0}function aa(di){var wi=this.__data__;return _n?wi[di]!==void 0:Oi.call(wi,di)}function Ja(di,wi){var Ti=this.__data__;return this.size+=this.has(di)?0:1,Ti[di]=_n&&wi===void 0?s:wi,this}Zn.prototype.clear=An,Zn.prototype.delete=Pa,Zn.prototype.get=Da,Zn.prototype.has=aa,Zn.prototype.set=Ja;function ha(di){var wi=-1,Ti=di==null?0:di.length;for(this.clear();++wi<Ti;){var ia=di[wi];this.set(ia[0],ia[1])}}function $a(){this.__data__=[],this.size=0}function Do(di){var wi=this.__data__,Ti=Lf(wi,di);if(Ti<0)return!1;var ia=wi.length-1;return Ti==ia?wi.pop():da.call(wi,Ti,1),--this.size,!0}function Io(di){var wi=this.__data__,Ti=Lf(wi,di);return Ti<0?void 0:wi[Ti][1]}function Ao(di){return Lf(this.__data__,di)>-1}function qo(di,wi){var Ti=this.__data__,ia=Lf(Ti,di);return ia<0?(++this.size,Ti.push([di,wi])):Ti[ia][1]=wi,this}ha.prototype.clear=$a,ha.prototype.delete=Do,ha.prototype.get=Io,ha.prototype.has=Ao,ha.prototype.set=qo;function co(di){var wi=-1,Ti=di==null?0:di.length;for(this.clear();++wi<Ti;){var ia=di[wi];this.set(ia[0],ia[1])}}function mo(){this.size=0,this.__data__={hash:new Zn,map:new(ta||ha),string:new Zn}}function Po(di){var wi=Af(this,di).delete(di);return this.size-=wi?1:0,wi}function yo(di){return Af(this,di).get(di)}function Co(di){return Af(this,di).has(di)}function Bo(di,wi){var Ti=Af(this,di),ia=Ti.size;return Ti.set(di,wi),this.size+=Ti.size==ia?0:1,this}co.prototype.clear=mo,co.prototype.delete=Po,co.prototype.get=yo,co.prototype.has=Co,co.prototype.set=Bo;function wo(di){var wi=-1,Ti=di==null?0:di.length;for(this.__data__=new co;++wi<Ti;)this.add(di[wi])}function So(di){return this.__data__.set(di,s),this}function Mo(di){return this.__data__.has(di)}wo.prototype.add=wo.prototype.push=So,wo.prototype.has=Mo;function ao(di){var wi=this.__data__=new ha(di);this.size=wi.size}function Oo(){this.__data__=new ha,this.size=0}function To(di){var wi=this.__data__,Ti=wi.delete(di);return this.size=wi.size,Ti}function No(di){return this.__data__.get(di)}function cf(di){return this.__data__.has(di)}function Qo(di,wi){var Ti=this.__data__;if(Ti instanceof ha){var ia=Ti.__data__;if(!ta||ia.length<t-1)return ia.push([di,wi]),this.size=++Ti.size,this;Ti=this.__data__=new co(ia)}return Ti.set(di,wi),this.size=Ti.size,this}ao.prototype.clear=Oo,ao.prototype.delete=To,ao.prototype.get=No,ao.prototype.has=cf,ao.prototype.set=Qo;function Tc(di,wi){var Ti=rc(di),ia=!Ti&&Wc(di),eo=!Ti&&!ia&&yc(di),Ba=!Ti&&!ia&&!eo&&Yc(di),io=Ti||ia||eo||Ba,po=io?Ki(di.length,String):[],Va=po.length;for(var to in di)(wi||Oi.call(di,to))&&!(io&&(to=="length"||eo&&(to=="offset"||to=="parent")||Ba&&(to=="buffer"||to=="byteLength"||to=="byteOffset")||Fc(to,Va)))&&po.push(to);return po}function Lf(di,wi){for(var Ti=di.length;Ti--;)if(Gc(di[Ti][0],wi))return Ti;return-1}function gc(di,wi,Ti){var ia=wi(di);return rc(di)?ia:zn(ia,Ti(di))}function kf(di){return di==null?di===void 0?gi:Qr:Tn&&Tn in Object(di)?kc(di):ju(di)}function mc(di){return Ff(di)&&kf(di)==ye}function zf(di,wi,Ti,ia,eo){return di===wi?!0:di==null||wi==null||!Ff(di)&&!Ff(wi)?di!==di&&wi!==wi:Nc(di,wi,Ti,ia,zf,eo)}function Nc(di,wi,Ti,ia,eo,Ba){var io=rc(di),po=rc(wi),Va=io?Ee:vf(di),to=po?Ee:vf(wi);Va=Va==ye?Yr:Va,to=to==ye?Yr:to;var uo=Va==Yr,zo=to==Yr,vo=Va==to;if(vo&&yc(di)){if(!yc(wi))return!1;io=!0,uo=!1}if(vo&&!uo)return Ba||(Ba=new ao),io||Yc(di)?Qf(di,wi,Ti,ia,eo,Ba):Uu(di,wi,Va,Ti,ia,eo,Ba);if(!(Ti&ne)){var no=uo&&Oi.call(di,"__wrapped__"),Uo=zo&&Oi.call(wi,"__wrapped__");if(no||Uo){var uf=no?di.value():di,ef=Uo?wi.value():wi;return Ba||(Ba=new ao),eo(uf,ef,Ti,ia,Ba)}}return vo?(Ba||(Ba=new ao),Lc(di,wi,Ti,ia,eo,Ba)):!1}function Nu(di){if(!Xc(di)||Kc(di))return!1;var wi=ic(di)?Li:Wr;return wi.test(wf(di))}function Uc(di){return Ff(di)&&Jc(di.length)&&!!vi[kf(di)]}function jc(di){if(!Vc(di))return ea(di);var wi=[];for(var Ti in Object(di))Oi.call(di,Ti)&&Ti!="constructor"&&wi.push(Ti);return wi}function Qf(di,wi,Ti,ia,eo,Ba){var io=Ti&ne,po=di.length,Va=wi.length;if(po!=Va&&!(io&&Va>po))return!1;var to=Ba.get(di);if(to&&Ba.get(wi))return to==wi;var uo=-1,zo=!0,vo=Ti&o?new wo:void 0;for(Ba.set(di,wi),Ba.set(wi,di);++uo<po;){var no=di[uo],Uo=wi[uo];if(ia)var uf=io?ia(Uo,no,uo,wi,di,Ba):ia(no,Uo,uo,di,wi,Ba);if(uf!==void 0){if(uf)continue;zo=!1;break}if(vo){if(!zi(wi,function(ef,bf){if(!Vi(vo,bf)&&(no===ef||eo(no,ef,Ti,ia,Ba)))return vo.push(bf)})){zo=!1;break}}else if(!(no===Uo||eo(no,Uo,Ti,ia,Ba))){zo=!1;break}}return Ba.delete(di),Ba.delete(wi),zo}function Uu(di,wi,Ti,ia,eo,Ba,io){switch(Ti){case Kr:if(di.byteLength!=wi.byteLength||di.byteOffset!=wi.byteOffset)return!1;di=di.buffer,wi=wi.buffer;case oi:return!(di.byteLength!=wi.byteLength||!Ba(new On(di),new On(wi)));case fe:case xe:case Zr:return Gc(+di,+wi);case br:return di.name==wi.name&&di.message==wi.message;case si:case Gr:return di==wi+"";case Vr:var po=Nn;case ai:var Va=ia&ne;if(po||(po=Ai),di.size!=wi.size&&!Va)return!1;var to=io.get(di);if(to)return to==wi;ia|=o,io.set(di,wi);var uo=Qf(po(di),po(wi),ia,eo,Ba,io);return io.delete(di),uo;case fi:if(Ma)return Ma.call(di)==Ma.call(wi)}return!1}function Lc(di,wi,Ti,ia,eo,Ba){var io=Ti&ne,po=tc(di),Va=po.length,to=tc(wi),uo=to.length;if(Va!=uo&&!io)return!1;for(var zo=Va;zo--;){var vo=po[zo];if(!(io?vo in wi:Oi.call(wi,vo)))return!1}var no=Ba.get(di);if(no&&Ba.get(wi))return no==wi;var Uo=!0;Ba.set(di,wi),Ba.set(wi,di);for(var uf=io;++zo<Va;){vo=po[zo];var ef=di[vo],bf=wi[vo];if(ia)var wc=io?ia(bf,ef,vo,wi,di,Ba):ia(ef,bf,vo,di,wi,Ba);if(!(wc===void 0?ef===bf||eo(ef,bf,Ti,ia,Ba):wc)){Uo=!1;break}uf||(uf=vo=="constructor")}if(Uo&&!uf){var Hf=di.constructor,_o=wi.constructor;Hf!=_o&&"constructor"in di&&"constructor"in wi&&!(typeof Hf=="function"&&Hf instanceof Hf&&typeof _o=="function"&&_o instanceof _o)&&(Uo=!1)}return Ba.delete(di),Ba.delete(wi),Uo}function tc(di){return gc(di,zu,zc)}function Af(di,wi){var Ti=di.__data__;return Hc(wi)?Ti[typeof wi=="string"?"string":"hash"]:Ti.map}function Go(di,wi){var Ti=Ii(di,wi);return Nu(Ti)?Ti:void 0}function kc(di){var wi=Oi.call(di,Tn),Ti=di[Tn];try{di[Tn]=void 0;var ia=!0}catch{}var eo=Pn.call(di);return ia&&(wi?di[Tn]=Ti:delete di[Tn]),eo}var zc=Ha?function(di){return di==null?[]:(di=Object(di),Bi(Ha(di),function(wi){return Ua.call(di,wi)}))}:Qa,vf=kf;(wa&&vf(new wa(new ArrayBuffer(1)))!=Kr||ta&&vf(new ta)!=Vr||En&&vf(En.resolve())!=ii||_a&&vf(new _a)!=ai||ra&&vf(new ra)!=Si)&&(vf=function(di){var wi=kf(di),Ti=wi==Yr?di.constructor:void 0,ia=Ti?wf(Ti):"";if(ia)switch(ia){case Aa:return Kr;case oa:return Vr;case Sn:return ii;case qa:return ai;case na:return Si}return wi});function Fc(di,wi){return wi=wi??we,!!wi&&(typeof di=="number"||bi.test(di))&&di>-1&&di%1==0&&di<wi}function Hc(di){var wi=typeof di;return wi=="string"||wi=="number"||wi=="symbol"||wi=="boolean"?di!=="__proto__":di===null}function Kc(di){return!!fa&&fa in di}function Vc(di){var wi=di&&di.constructor,Ti=typeof wi=="function"&&wi.prototype||qi;return di===Ti}function ju(di){return Pn.call(di)}function wf(di){if(di!=null){try{return $n.call(di)}catch{}try{return di+""}catch{}}return""}function Gc(di,wi){return di===wi||di!==di&&wi!==wi}var Wc=mc(function(){return arguments}())?mc:function(di){return Ff(di)&&Oi.call(di,"callee")&&!Ua.call(di,"callee")},rc=Array.isArray;function Lu(di){return di!=null&&Jc(di.length)&&!ic(di)}var yc=pa||Za;function ku(di,wi){return zf(di,wi)}function ic(di){if(!Xc(di))return!1;var wi=kf(di);return wi==wr||wi==kr||wi==me||wi==ei}function Jc(di){return typeof di=="number"&&di>-1&&di%1==0&&di<=we}function Xc(di){var wi=typeof di;return di!=null&&(wi=="object"||wi=="function")}function Ff(di){return di!=null&&typeof di=="object"}var Yc=Ni?la(Ni):Uc;function zu(di){return Lu(di)?Tc(di):jc(di)}function Qa(){return[]}function Za(){return!1}r.exports=ku})(lodash_isequal,lodash_isequal.exports);var lodash_isequalExports=lodash_isequal.exports;const Gi=getDefaultExportFromCjs(lodash_isequalExports);function unfetch_module(r,e){return e=e||{},new Promise(function(t,s){var ne=new XMLHttpRequest,o=[],we=[],ye={},Ee=function(){return{ok:(ne.status/100|0)==2,statusText:ne.statusText,status:ne.status,url:ne.responseURL,text:function(){return Promise.resolve(ne.responseText)},json:function(){return Promise.resolve(ne.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([ne.response]))},clone:Ee,headers:{keys:function(){return o},entries:function(){return we},get:function(fe){return ye[fe.toLowerCase()]},has:function(fe){return fe.toLowerCase()in ye}}}};for(var me in ne.open(e.method||"get",r,!0),ne.onload=function(){ne.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(fe,xe,br){o.push(xe=xe.toLowerCase()),we.push([xe,br]),ye[xe]=ye[xe]?ye[xe]+","+br:br}),t(Ee())},ne.onerror=s,ne.withCredentials=e.credentials=="include",e.headers)ne.setRequestHeader(me,e.headers[me]);ne.send(e.body||null)})}const unfetch_module$1=Object.freeze(Object.defineProperty({__proto__:null,default:unfetch_module},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(unfetch_module$1);var browser=self.fetch||(self.fetch=require$$0.default||require$$0);const Yi=getDefaultExportFromCjs(browser);var define_process_env_default={};function Hi(r,e){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),s=0;s<t.length;s++)t[s]=255;for(var ne=0;ne<r.length;ne++){var o=r.charAt(ne),we=o.charCodeAt(0);if(t[we]!==255)throw new TypeError(o+" is ambiguous");t[we]=ne}var ye=r.length,Ee=r.charAt(0),me=Math.log(ye)/Math.log(256),fe=Math.log(256)/Math.log(ye);function xe(kr){if(kr instanceof Uint8Array||(ArrayBuffer.isView(kr)?kr=new Uint8Array(kr.buffer,kr.byteOffset,kr.byteLength):Array.isArray(kr)&&(kr=Uint8Array.from(kr))),!(kr instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(kr.length===0)return"";for(var Vr=0,Zr=0,Qr=0,Yr=kr.length;Qr!==Yr&&kr[Qr]===0;)Qr++,Vr++;for(var ii=(Yr-Qr)*fe+1>>>0,ei=new Uint8Array(ii);Qr!==Yr;){for(var si=kr[Qr],ai=0,Gr=ii-1;(si!==0||ai<Zr)&&Gr!==-1;Gr--,ai++)si+=256*ei[Gr]>>>0,ei[Gr]=si%ye>>>0,si=si/ye>>>0;if(si!==0)throw new Error("Non-zero carry");Zr=ai,Qr++}for(var fi=ii-Zr;fi!==ii&&ei[fi]===0;)fi++;for(var gi=Ee.repeat(Vr);fi<ii;++fi)gi+=r.charAt(ei[fi]);return gi}function br(kr){if(typeof kr!="string")throw new TypeError("Expected String");if(kr.length===0)return new Uint8Array;var Vr=0;if(kr[Vr]!==" "){for(var Zr=0,Qr=0;kr[Vr]===Ee;)Zr++,Vr++;for(var Yr=(kr.length-Vr)*me+1>>>0,ii=new Uint8Array(Yr);kr[Vr];){var ei=t[kr.charCodeAt(Vr)];if(ei===255)return;for(var si=0,ai=Yr-1;(ei!==0||si<Qr)&&ai!==-1;ai--,si++)ei+=ye*ii[ai]>>>0,ii[ai]=ei%256>>>0,ei=ei/256>>>0;if(ei!==0)throw new Error("Non-zero carry");Qr=si,Vr++}if(kr[Vr]!==" "){for(var Gr=Yr-Qr;Gr!==Yr&&ii[Gr]===0;)Gr++;for(var fi=new Uint8Array(Zr+(Yr-Gr)),gi=Zr;Gr!==Yr;)fi[gi++]=ii[Gr++];return fi}}}function wr(kr){var Vr=br(kr);if(Vr)return Vr;throw new Error(`Non-${e} character`)}return{encode:xe,decodeUnsafe:br,decode:wr}}var Ji=Hi,Xi=Ji;const Ne=r=>{if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")},Wi$1=r=>new TextEncoder().encode(r),Qi=r=>new TextDecoder().decode(r);class Zi{constructor(e,t,s){this.name=e,this.prefix=t,this.baseEncode=s}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class es{constructor(e,t,s){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=s}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Ue(this,e)}}class ts{constructor(e){this.decoders=e}or(e){return Ue(this,e)}decode(e){const t=e[0],s=this.decoders[t];if(s)return s.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Ue=(r,e)=>new ts({...r.decoders||{[r.prefix]:r},...e.decoders||{[e.prefix]:e}});class is{constructor(e,t,s,ne){this.name=e,this.prefix=t,this.baseEncode=s,this.baseDecode=ne,this.encoder=new Zi(e,t,s),this.decoder=new es(e,t,ne)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const W=({name:r,prefix:e,encode:t,decode:s})=>new is(r,e,t,s),B=({prefix:r,name:e,alphabet:t})=>{const{encode:s,decode:ne}=Xi(t,e);return W({prefix:r,name:e,encode:s,decode:o=>Ne(ne(o))})},ss=(r,e,t,s)=>{const ne={};for(let fe=0;fe<e.length;++fe)ne[e[fe]]=fe;let o=r.length;for(;r[o-1]==="=";)--o;const we=new Uint8Array(o*t/8|0);let ye=0,Ee=0,me=0;for(let fe=0;fe<o;++fe){const xe=ne[r[fe]];if(xe===void 0)throw new SyntaxError(`Non-${s} character`);Ee=Ee<<t|xe,ye+=t,ye>=8&&(ye-=8,we[me++]=255&Ee>>ye)}if(ye>=t||255&Ee<<8-ye)throw new SyntaxError("Unexpected end of data");return we},rs=(r,e,t)=>{const s=e[e.length-1]==="=",ne=(1<<t)-1;let o="",we=0,ye=0;for(let Ee=0;Ee<r.length;++Ee)for(ye=ye<<8|r[Ee],we+=8;we>t;)we-=t,o+=e[ne&ye>>we];if(we&&(o+=e[ne&ye<<t-we]),s)for(;o.length*t&7;)o+="=";return o},g$2=({name:r,prefix:e,bitsPerChar:t,alphabet:s})=>W({prefix:e,name:r,encode(ne){return rs(ne,s,t)},decode(ne){return ss(ne,s,t,r)}}),ns=W({prefix:"\0",name:"identity",encode:r=>Qi(r),decode:r=>Wi$1(r)});var os=Object.freeze({__proto__:null,identity:ns});const as$1=g$2({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var hs$1=Object.freeze({__proto__:null,base2:as$1});const cs$1=g$2({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var us$1=Object.freeze({__proto__:null,base8:cs$1});const ls$1=B({prefix:"9",name:"base10",alphabet:"0123456789"});var ds$1=Object.freeze({__proto__:null,base10:ls$1});const gs$1=g$2({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),ps$1=g$2({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Ds=Object.freeze({__proto__:null,base16:gs$1,base16upper:ps$1});const ys=g$2({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),ms=g$2({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),bs=g$2({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),fs=g$2({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Es=g$2({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),ws=g$2({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),vs=g$2({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Is=g$2({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Cs=g$2({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Rs=Object.freeze({__proto__:null,base32:ys,base32upper:ms,base32pad:bs,base32padupper:fs,base32hex:Es,base32hexupper:ws,base32hexpad:vs,base32hexpadupper:Is,base32z:Cs});const _s=B({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Ts=B({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Ss=Object.freeze({__proto__:null,base36:_s,base36upper:Ts});const Ps=B({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),xs=B({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Os=Object.freeze({__proto__:null,base58btc:Ps,base58flickr:xs});const As=g$2({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),zs=g$2({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Ns=g$2({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Us=g$2({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Ls=Object.freeze({__proto__:null,base64:As,base64pad:zs,base64url:Ns,base64urlpad:Us});const Le=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),$s=Le.reduce((r,e,t)=>(r[t]=e,r),[]),Fs=Le.reduce((r,e,t)=>(r[e.codePointAt(0)]=t,r),[]);function Ms(r){return r.reduce((e,t)=>(e+=$s[t],e),"")}function ks(r){const e=[];for(const t of r){const s=Fs[t.codePointAt(0)];if(s===void 0)throw new Error(`Non-base256emoji character: ${t}`);e.push(s)}return new Uint8Array(e)}const Ks=W({prefix:"🚀",name:"base256emoji",encode:Ms,decode:ks});var Bs=Object.freeze({__proto__:null,base256emoji:Ks}),Vs=Fe,$e=128,qs=127,js=~qs,Gs=Math.pow(2,31);function Fe(r,e,t){e=e||[],t=t||0;for(var s=t;r>=Gs;)e[t++]=r&255|$e,r/=128;for(;r&js;)e[t++]=r&255|$e,r>>>=7;return e[t]=r|0,Fe.bytes=t-s+1,e}var Ys=he$1,Hs=128,Me=127;function he$1(r,s){var t=0,s=s||0,ne=0,o=s,we,ye=r.length;do{if(o>=ye)throw he$1.bytes=0,new RangeError("Could not decode varint");we=r[o++],t+=ne<28?(we&Me)<<ne:(we&Me)*Math.pow(2,ne),ne+=7}while(we>=Hs);return he$1.bytes=o-s,t}var Js=Math.pow(2,7),Xs=Math.pow(2,14),Ws=Math.pow(2,21),Qs=Math.pow(2,28),Zs=Math.pow(2,35),er=Math.pow(2,42),tr=Math.pow(2,49),ir=Math.pow(2,56),sr=Math.pow(2,63),rr=function(r){return r<Js?1:r<Xs?2:r<Ws?3:r<Qs?4:r<Zs?5:r<er?6:r<tr?7:r<ir?8:r<sr?9:10},nr={encode:Vs,decode:Ys,encodingLength:rr},ke=nr;const Ke=(r,e,t=0)=>(ke.encode(r,e,t),e),Be=r=>ke.encodingLength(r),ce$1=(r,e)=>{const t=e.byteLength,s=Be(r),ne=s+Be(t),o=new Uint8Array(ne+t);return Ke(r,o,0),Ke(t,o,s),o.set(e,ne),new or(r,t,e,o)};class or{constructor(e,t,s,ne){this.code=e,this.size=t,this.digest=s,this.bytes=ne}}const Ve=({name:r,code:e,encode:t})=>new ar(r,e,t);class ar{constructor(e,t,s){this.name=e,this.code=t,this.encode=s}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?ce$1(this.code,t):t.then(s=>ce$1(this.code,s))}else throw Error("Unknown type, must be binary type")}}const qe=r=>async e=>new Uint8Array(await crypto.subtle.digest(r,e)),hr$1=Ve({name:"sha2-256",code:18,encode:qe("SHA-256")}),cr$1=Ve({name:"sha2-512",code:19,encode:qe("SHA-512")});var ur=Object.freeze({__proto__:null,sha256:hr$1,sha512:cr$1});const je=0,lr$1="identity",Ge=Ne,dr=r=>ce$1(je,Ge(r)),gr={code:je,name:lr$1,encode:Ge,digest:dr};var pr=Object.freeze({__proto__:null,identity:gr});new TextEncoder,new TextDecoder;const Ye={...os,...hs$1,...us$1,...ds$1,...Ds,...Rs,...Ss,...Os,...Ls,...Bs};({...ur,...pr});function He(r){return globalThis.Buffer!=null?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r}function Dr(r=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?He(globalThis.Buffer.allocUnsafe(r)):new Uint8Array(r)}function Je(r,e,t,s){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:t},decoder:{decode:s}}}const Xe=Je("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>new TextEncoder().encode(r.substring(1))),ue$1=Je("ascii","a",r=>{let e="a";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e},r=>{r=r.substring(1);const e=Dr(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}),yr={utf8:Xe,"utf-8":Xe,hex:Ye.base16,latin1:ue$1,ascii:ue$1,binary:ue$1,...Ye};function mr(r,e="utf8"){const t=yr[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?He(globalThis.Buffer.from(r,"utf-8")):t.decoder.decode(`${t.prefix}${r}`)}const le$1="wc",We=2,Q$2="core",O$1=`${le$1}@2:${Q$2}:`,Qe={name:Q$2,logger:"error"},Ze={database:":memory:"},et="crypto",de$1="client_ed25519_seed",tt=cjs$4.ONE_DAY,it="keychain",st="0.3",rt="messages",nt="0.3",ot=cjs$4.SIX_HOURS,at="publisher",ht="irn",ct="error",ge$2="wss://relay.walletconnect.com",pe$1="wss://relay.walletconnect.org",ut="relayer",D$2={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},lt="_subscription",P$1={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},dt=cjs$4.ONE_SECOND,gt="2.11.2",pt=1e4,Dt="0.3",yt="WALLETCONNECT_CLIENT_ID",w={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},mt="subscription",bt="0.3",ft$1=cjs$4.FIVE_SECONDS*1e3,Et="pairing",wt="0.3",$$1={wc_pairingDelete:{req:{ttl:cjs$4.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:cjs$4.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:cjs$4.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:cjs$4.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:cjs$4.ONE_DAY,prompt:!1,tag:0},res:{ttl:cjs$4.ONE_DAY,prompt:!1,tag:0}}},V={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},R$1={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},vt="history",It="0.3",Ct$1="expirer",v$1={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},Rt="0.3",Z="verify-api",F$1="https://verify.walletconnect.com",ee="https://verify.walletconnect.org",_t=[F$1,ee],Tt="echo",St="https://echo.walletconnect.com";class Pt{constructor(e,t){this.core=e,this.logger=t,this.keychain=new Map,this.name=it,this.version=st,this.initialized=!1,this.storagePrefix=O$1,this.init=async()=>{if(!this.initialized){const s=await this.getKeyChain();typeof s<"u"&&(this.keychain=s),this.initialized=!0}},this.has=s=>(this.isInitialized(),this.keychain.has(s)),this.set=async(s,ne)=>{this.isInitialized(),this.keychain.set(s,ne),await this.persist()},this.get=s=>{this.isInitialized();const ne=this.keychain.get(s);if(typeof ne>"u"){const{message:o}=N$2("NO_MATCHING_KEY",`${this.name}: ${s}`);throw new Error(o)}return ne},this.del=async s=>{this.isInitialized(),this.keychain.delete(s),await this.persist()},this.core=e,this.logger=E$2(t,this.name)}get context(){return y$2(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,rt$1(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?ot$1(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=N$2("NOT_INITIALIZED",this.name);throw new Error(e)}}}class xt{constructor(e,t,s){this.core=e,this.logger=t,this.name=et,this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=ne=>(this.isInitialized(),this.keychain.has(ne)),this.getClientId=async()=>{this.isInitialized();const ne=await this.getClientSeed(),o=generateKeyPair(ne);return encodeIss(o.publicKey)},this.generateKeyPair=()=>{this.isInitialized();const ne=kn();return this.setPrivateKey(ne.publicKey,ne.privateKey)},this.signJWT=async ne=>{this.isInitialized();const o=await this.getClientSeed(),we=generateKeyPair(o),ye=Vn$1();return await signJWT(ye,ne,tt,we)},this.generateSharedKey=(ne,o,we)=>{this.isInitialized();const ye=this.getPrivateKey(ne),Ee=Mn(ye,o);return this.setSymKey(Ee,we)},this.setSymKey=async(ne,o)=>{this.isInitialized();const we=o||Kn(ne);return await this.keychain.set(we,ne),we},this.deleteKeyPair=async ne=>{this.isInitialized(),await this.keychain.del(ne)},this.deleteSymKey=async ne=>{this.isInitialized(),await this.keychain.del(ne)},this.encode=async(ne,o,we)=>{this.isInitialized();const ye=Ae(we),Ee=safeJsonStringify(o);if(qn(ye)){const br=ye.senderPublicKey,wr=ye.receiverPublicKey;ne=await this.generateSharedKey(br,wr)}const me=this.getSymKey(ne),{type:fe,senderPublicKey:xe}=ye;return xn({type:fe,symKey:me,message:Ee,senderPublicKey:xe})},this.decode=async(ne,o,we)=>{this.isInitialized();const ye=Hn(o,we);if(qn(ye)){const Ee=ye.receiverPublicKey,me=ye.senderPublicKey;ne=await this.generateSharedKey(Ee,me)}try{const Ee=this.getSymKey(ne),me=Fn({symKey:Ee,encoded:o});return safeJsonParse(me)}catch(Ee){this.logger.error(`Failed to decode message from topic: '${ne}', clientId: '${await this.getClientId()}'`),this.logger.error(Ee)}},this.getPayloadType=ne=>{const o=ee$1(ne);return j$2(o.type)},this.getPayloadSenderPublicKey=ne=>{const o=ee$1(ne);return o.senderPublicKey?toString(o.senderPublicKey,p$3):void 0},this.core=e,this.logger=E$2(t,this.name),this.keychain=s||new Pt(this.core,this.logger)}get context(){return y$2(this.logger)}async setPrivateKey(e,t){return await this.keychain.set(e,t),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(de$1)}catch{e=Vn$1(),await this.keychain.set(de$1,e)}return mr(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=N$2("NOT_INITIALIZED",this.name);throw new Error(e)}}}class Ot extends a$1{constructor(e,t){super(e,t),this.logger=e,this.core=t,this.messages=new Map,this.name=rt,this.version=nt,this.initialized=!1,this.storagePrefix=O$1,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const s=await this.getRelayerMessages();typeof s<"u"&&(this.messages=s),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(s){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(s)}finally{this.initialized=!0}}},this.set=async(s,ne)=>{this.isInitialized();const o=Ln(ne);let we=this.messages.get(s);return typeof we>"u"&&(we={}),typeof we[o]<"u"||(we[o]=ne,this.messages.set(s,we),await this.persist()),o},this.get=s=>{this.isInitialized();let ne=this.messages.get(s);return typeof ne>"u"&&(ne={}),ne},this.has=(s,ne)=>{this.isInitialized();const o=this.get(s),we=Ln(ne);return typeof o[we]<"u"},this.del=async s=>{this.isInitialized(),this.messages.delete(s),await this.persist()},this.logger=E$2(e,this.name),this.core=t}get context(){return y$2(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,rt$1(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?ot$1(e):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){const{message:e}=N$2("NOT_INITIALIZED",this.name);throw new Error(e)}}}class vr extends u$1{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,this.events=new eventsExports.EventEmitter,this.name=at,this.queue=new Map,this.publishTimeout=cjs$4.toMiliseconds(cjs$4.TEN_SECONDS*2),this.needsTransportRestart=!1,this.publish=async(s,ne,o)=>{var we;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:s,message:ne,opts:o}});try{const ye=(o==null?void 0:o.ttl)||ot,Ee=vt$1(o),me=(o==null?void 0:o.prompt)||!1,fe=(o==null?void 0:o.tag)||0,xe=(o==null?void 0:o.id)||getBigIntRpcId().toString(),br={topic:s,message:ne,opts:{ttl:ye,relay:Ee,prompt:me,tag:fe,id:xe}},wr=setTimeout(()=>this.queue.set(xe,br),this.publishTimeout);try{await await ut$1(this.rpcPublish(s,ne,ye,Ee,me,fe,xe),this.publishTimeout,`Failed to publish payload, please try again. id:${xe} tag:${fe}`),this.removeRequestFromQueue(xe),this.relayer.events.emit(D$2.publish,br)}catch(kr){if(this.logger.debug("Publishing Payload stalled"),this.needsTransportRestart=!0,(we=o==null?void 0:o.internal)!=null&&we.throwOnFailedPublish)throw this.removeRequestFromQueue(xe),kr;return}finally{clearTimeout(wr)}this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:s,message:ne,opts:o}})}catch(ye){throw this.logger.debug("Failed to Publish Payload"),this.logger.error(ye),ye}},this.on=(s,ne)=>{this.events.on(s,ne)},this.once=(s,ne)=>{this.events.once(s,ne)},this.off=(s,ne)=>{this.events.off(s,ne)},this.removeListener=(s,ne)=>{this.events.removeListener(s,ne)},this.relayer=e,this.logger=E$2(t,this.name),this.registerEventListeners()}get context(){return y$2(this.logger)}rpcPublish(e,t,s,ne,o,we,ye){var Ee,me,fe,xe;const br={method:Et$1(ne.protocol).publish,params:{topic:e,message:t,ttl:s,prompt:o,tag:we},id:ye};return w$4((Ee=br.params)==null?void 0:Ee.prompt)&&((me=br.params)==null||delete me.prompt),w$4((fe=br.params)==null?void 0:fe.tag)&&((xe=br.params)==null||delete xe.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:br}),this.relayer.request(br)}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async e=>{const{topic:t,message:s,opts:ne}=e;await this.publish(t,s,ne)})}registerEventListeners(){this.relayer.core.heartbeat.on(cjs$1.HEARTBEAT_EVENTS.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(D$2.connection_stalled);return}this.checkQueue()}),this.relayer.on(D$2.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}class Ir{constructor(){this.map=new Map,this.set=(e,t)=>{const s=this.get(e);this.exists(e,t)||this.map.set(e,[...s,t])},this.get=e=>this.map.get(e)||[],this.exists=(e,t)=>this.get(e).includes(t),this.delete=(e,t)=>{if(typeof t>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const s=this.get(e);if(!this.exists(e,t))return;const ne=s.filter(o=>o!==t);if(!ne.length){this.map.delete(e);return}this.map.set(e,ne)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}}var Cr=Object.defineProperty,Rr=Object.defineProperties,_r=Object.getOwnPropertyDescriptors,At=Object.getOwnPropertySymbols,Tr=Object.prototype.hasOwnProperty,Sr=Object.prototype.propertyIsEnumerable,zt=(r,e,t)=>e in r?Cr(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,q$1=(r,e)=>{for(var t in e||(e={}))Tr.call(e,t)&&zt(r,t,e[t]);if(At)for(var t of At(e))Sr.call(e,t)&&zt(r,t,e[t]);return r},De=(r,e)=>Rr(r,_r(e));class Nt extends d{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,this.subscriptions=new Map,this.topicMap=new Ir,this.events=new eventsExports.EventEmitter,this.name=mt,this.version=bt,this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=O$1,this.subscribeTimeout=1e4,this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),this.clientId=await this.relayer.core.crypto.getClientId())},this.subscribe=async(s,ne)=>{await this.restartToComplete(),this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:s,opts:ne}});try{const o=vt$1(ne),we={topic:s,relay:o};this.pending.set(s,we);const ye=await this.rpcSubscribe(s,o);return this.onSubscribe(ye,we),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:s,opts:ne}}),ye}catch(o){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(o),o}},this.unsubscribe=async(s,ne)=>{await this.restartToComplete(),this.isInitialized(),typeof(ne==null?void 0:ne.id)<"u"?await this.unsubscribeById(s,ne.id,ne):await this.unsubscribeByTopic(s,ne)},this.isSubscribed=async s=>{if(this.topics.includes(s))return!0;const ne=`${this.pendingSubscriptionWatchLabel}_${s}`;return await new Promise((o,we)=>{const ye=new cjs$4.Watch;ye.start(ne);const Ee=setInterval(()=>{!this.pending.has(s)&&this.topics.includes(s)&&(clearInterval(Ee),ye.stop(ne),o(!0)),ye.elapsed(ne)>=ft$1&&(clearInterval(Ee),ye.stop(ne),we(new Error("Subscription resolution timeout")))},this.pollingInterval)}).catch(()=>!1)},this.on=(s,ne)=>{this.events.on(s,ne)},this.once=(s,ne)=>{this.events.once(s,ne)},this.off=(s,ne)=>{this.events.off(s,ne)},this.removeListener=(s,ne)=>{this.events.removeListener(s,ne)},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=e,this.logger=E$2(t,this.name),this.clientId=""}get context(){return y$2(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(e,t){let s=!1;try{s=this.getSubscription(e).topic===t}catch{}return s}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,t){const s=this.topicMap.get(e);await Promise.all(s.map(async ne=>await this.unsubscribeById(e,ne,t)))}async unsubscribeById(e,t,s){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:s}});try{const ne=vt$1(s);await this.rpcUnsubscribe(e,t,ne);const o=U$2("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,t,o),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:s}})}catch(ne){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(ne),ne}}async rpcSubscribe(e,t){const s={method:Et$1(t.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s});try{await await ut$1(this.relayer.request(s),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(D$2.connection_stalled)}return Ln(e+this.clientId)}async rpcBatchSubscribe(e){if(!e.length)return;const t=e[0].relay,s={method:Et$1(t.protocol).batchSubscribe,params:{topics:e.map(ne=>ne.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s});try{return await await ut$1(this.relayer.request(s),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Payload stalled"),this.relayer.events.emit(D$2.connection_stalled)}}rpcUnsubscribe(e,t,s){const ne={method:Et$1(s.protocol).unsubscribe,params:{topic:e,id:t}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:ne}),this.relayer.request(ne)}onSubscribe(e,t){this.setSubscription(e,De(q$1({},t),{id:e})),this.pending.delete(t.topic)}onBatchSubscribe(e){e.length&&e.forEach(t=>{this.setSubscription(t.id,q$1({},t)),this.pending.delete(t.topic)})}async onUnsubscribe(e,t,s){this.events.removeAllListeners(t),this.hasSubscription(t,e)&&this.deleteSubscription(t,s),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,t){this.subscriptions.has(e)||(this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:t}),this.addSubscription(e,t))}addSubscription(e,t){this.subscriptions.set(e,q$1({},t)),this.topicMap.set(t.topic,e),this.events.emit(w.created,t)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const t=this.subscriptions.get(e);if(!t){const{message:s}=N$2("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(s)}return t}deleteSubscription(e,t){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:t});const s=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(s.topic,e),this.events.emit(w.deleted,De(q$1({},s),{reason:t}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(w.sync)}async reset(){if(this.cached.length){const e=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let t=0;t<e;t++){const s=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(s)}}this.events.emit(w.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:t}=N$2("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){if(!e.length)return;const t=await this.rpcBatchSubscribe(e);k$2(t)&&this.onBatchSubscribe(t.map((s,ne)=>De(q$1({},e[ne]),{id:s})))}async onConnect(){this.restartInProgress||(await this.restart(),this.onEnable())}onDisconnect(){this.onDisable()}async checkPending(){if(!this.initialized||this.relayer.transportExplicitlyClosed)return;const e=[];this.pending.forEach(t=>{e.push(t)}),await this.batchSubscribe(e)}registerEventListeners(){this.relayer.core.heartbeat.on(cjs$1.HEARTBEAT_EVENTS.pulse,async()=>{await this.checkPending()}),this.relayer.on(D$2.connect,async()=>{await this.onConnect()}),this.relayer.on(D$2.disconnect,()=>{this.onDisconnect()}),this.events.on(w.created,async e=>{const t=w.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()}),this.events.on(w.deleted,async e=>{const t=w.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=N$2("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(){this.restartInProgress&&await new Promise(e=>{const t=setInterval(()=>{this.restartInProgress||(clearInterval(t),e())},this.pollingInterval)})}}var Pr=Object.defineProperty,Ut=Object.getOwnPropertySymbols,xr=Object.prototype.hasOwnProperty,Or=Object.prototype.propertyIsEnumerable,Lt=(r,e,t)=>e in r?Pr(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Ar=(r,e)=>{for(var t in e||(e={}))xr.call(e,t)&&Lt(r,t,e[t]);if(Ut)for(var t of Ut(e))Or.call(e,t)&&Lt(r,t,e[t]);return r};class $t extends g$3{constructor(e){super(e),this.protocol="wc",this.version=2,this.events=new eventsExports.EventEmitter,this.name=ut,this.transportExplicitlyClosed=!1,this.initialized=!1,this.connectionAttemptInProgress=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","socket stalled"],this.hasExperiencedNetworkDisruption=!1,this.requestsInFlight=new Map,this.request=async t=>{this.logger.debug("Publishing Request Payload");const s=t.id;try{await this.toEstablishConnection();const ne=this.provider.request(t);return this.requestsInFlight.set(s,{promise:ne,request:t}),await ne}catch(ne){throw this.logger.debug("Failed to Publish Request"),this.logger.error(ne),ne}finally{this.requestsInFlight.delete(s)}},this.onPayloadHandler=t=>{this.onProviderPayload(t)},this.onConnectHandler=()=>{this.events.emit(D$2.connect)},this.onDisconnectHandler=()=>{this.onProviderDisconnect()},this.onProviderErrorHandler=t=>{this.logger.error(t),this.events.emit(D$2.error,t),this.logger.info("Fatal socket error received, closing transport"),this.transportClose()},this.registerProviderListeners=()=>{this.provider.on(P$1.payload,this.onPayloadHandler),this.provider.on(P$1.connect,this.onConnectHandler),this.provider.on(P$1.disconnect,this.onDisconnectHandler),this.provider.on(P$1.error,this.onProviderErrorHandler)},this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?E$2(e.logger,this.name):Hg(k({level:e.logger||ct})),this.messages=new Ot(this.logger,e.core),this.subscriber=new Nt(this,this.logger),this.publisher=new vr(this,this.logger),this.relayUrl=(e==null?void 0:e.relayUrl)||ge$2,this.projectId=e.projectId,this.bundleId=Jn(),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await this.createProvider(),await Promise.all([this.messages.init(),this.subscriber.init()]);try{await this.transportOpen()}catch{this.logger.warn(`Connection via ${this.relayUrl} failed, attempting to connect via failover domain ${pe$1}...`),await this.restartTransport(pe$1)}this.initialized=!0,setTimeout(async()=>{this.subscriber.topics.length===0&&(this.logger.info("No topics subscribed to after init, closing transport"),await this.transportClose(),this.transportExplicitlyClosed=!1)},pt)}get context(){return y$2(this.logger)}get connected(){return this.provider.connection.connected}get connecting(){return this.provider.connection.connecting}async publish(e,t,s){this.isInitialized(),await this.publisher.publish(e,t,s),await this.recordMessageEvent({topic:e,message:t,publishedAt:Date.now()})}async subscribe(e,t){var s;this.isInitialized();let ne=((s=this.subscriber.topicMap.get(e))==null?void 0:s[0])||"";if(ne)return ne;let o;const we=ye=>{ye.topic===e&&(this.subscriber.off(w.created,we),o())};return await Promise.all([new Promise(ye=>{o=ye,this.subscriber.on(w.created,we)}),new Promise(async ye=>{ne=await this.subscriber.subscribe(e,t),ye()})]),ne}async unsubscribe(e,t){this.isInitialized(),await this.subscriber.unsubscribe(e,t)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async transportClose(){this.requestsInFlight.size>0&&(this.logger.debug("Waiting for all in-flight requests to finish before closing transport..."),this.requestsInFlight.forEach(async e=>{await e.promise})),this.transportExplicitlyClosed=!0,this.hasExperiencedNetworkDisruption&&this.connected?await ut$1(this.provider.disconnect(),1e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.connected&&await this.provider.disconnect()}async transportOpen(e){if(this.transportExplicitlyClosed=!1,await this.confirmOnlineStateOrThrow(),!this.connectionAttemptInProgress){e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportClose(),await this.createProvider()),this.connectionAttemptInProgress=!0;try{await Promise.all([new Promise(t=>{if(!this.initialized)return t();this.subscriber.once(w.resubscribed,()=>{t()})}),new Promise(async(t,s)=>{try{await ut$1(this.provider.connect(),1e4,`Socket stalled when trying to connect to ${this.relayUrl}`)}catch(ne){s(ne);return}t()})])}catch(t){this.logger.error(t);const s=t;if(!this.isConnectionStalled(s.message))throw t;this.provider.events.emit(P$1.disconnect)}finally{this.connectionAttemptInProgress=!1,this.hasExperiencedNetworkDisruption=!1}}}async restartTransport(e){await this.confirmOnlineStateOrThrow(),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.transportClose(),await this.createProvider(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await rr$1())throw new Error("No internet connection detected. Please restart your network and try again.")}isConnectionStalled(e){return this.staleConnectionErrors.some(t=>e.includes(t))}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new JsonRpcProvider(new f$1(Xn({sdkVersion:gt,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId}))),this.registerProviderListeners()}async recordMessageEvent(e){const{topic:t,message:s}=e;await this.messages.set(t,s)}async shouldIgnoreMessageEvent(e){const{topic:t,message:s}=e;if(!s||s.length===0)return this.logger.debug(`Ignoring invalid/empty message: ${s}`),!0;if(!await this.subscriber.isSubscribed(t))return this.logger.debug(`Ignoring message for non-subscribed topic ${t}`),!0;const ne=this.messages.has(t,s);return ne&&this.logger.debug(`Ignoring duplicate message: ${s}`),ne}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),isJsonRpcRequest(e)){if(!e.method.endsWith(lt))return;const t=e.params,{topic:s,message:ne,publishedAt:o}=t.data,we={topic:s,message:ne,publishedAt:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(Ar({type:"event",event:t.id},we)),this.events.emit(t.id,we),await this.acknowledgePayload(e),await this.onMessageEvent(we)}else isJsonRpcResponse(e)&&this.events.emit(D$2.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(this.events.emit(D$2.message,e),await this.recordMessageEvent(e))}async acknowledgePayload(e){const t=formatJsonRpcResult(e.id,!0);await this.provider.connection.send(t)}unregisterProviderListeners(){this.provider.off(P$1.payload,this.onPayloadHandler),this.provider.off(P$1.connect,this.onConnectHandler),this.provider.off(P$1.disconnect,this.onDisconnectHandler),this.provider.off(P$1.error,this.onProviderErrorHandler)}async registerEventListeners(){this.events.on(D$2.connection_stalled,()=>{this.restartTransport().catch(t=>this.logger.error(t))});let e=await rr$1();or$1(async t=>{this.initialized&&e!==t&&(e=t,t?await this.restartTransport().catch(s=>this.logger.error(s)):(this.hasExperiencedNetworkDisruption=!0,await this.transportClose().catch(s=>this.logger.error(s))))})}onProviderDisconnect(){this.events.emit(D$2.disconnect),this.attemptToReconnect()}attemptToReconnect(){this.transportExplicitlyClosed||(this.logger.info("attemptToReconnect called. Connecting..."),setTimeout(async()=>{await this.restartTransport().catch(e=>this.logger.error(e))},cjs$4.toMiliseconds(dt)))}isInitialized(){if(!this.initialized){const{message:e}=N$2("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectionAttemptInProgress)return await new Promise(e=>{const t=setInterval(()=>{this.connected&&(clearInterval(t),e())},this.connectionStatusPollingInterval)});await this.restartTransport()}}}var zr=Object.defineProperty,Ft=Object.getOwnPropertySymbols,Nr=Object.prototype.hasOwnProperty,Ur=Object.prototype.propertyIsEnumerable,Mt=(r,e,t)=>e in r?zr(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,kt=(r,e)=>{for(var t in e||(e={}))Nr.call(e,t)&&Mt(r,t,e[t]);if(Ft)for(var t of Ft(e))Ur.call(e,t)&&Mt(r,t,e[t]);return r};class Kt extends p$1{constructor(e,t,s,ne=O$1,o=void 0){super(e,t,s,ne),this.core=e,this.logger=t,this.name=s,this.map=new Map,this.version=Dt,this.cached=[],this.initialized=!1,this.storagePrefix=O$1,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(we=>{this.getKey&&we!==null&&!w$4(we)?this.map.set(this.getKey(we),we):Lt$1(we)?this.map.set(we.id,we):xt$1(we)&&this.map.set(we.topic,we)}),this.cached=[],this.initialized=!0)},this.set=async(we,ye)=>{this.isInitialized(),this.map.has(we)?await this.update(we,ye):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:we,value:ye}),this.map.set(we,ye),await this.persist())},this.get=we=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:we}),this.getData(we)),this.getAll=we=>(this.isInitialized(),we?this.values.filter(ye=>Object.keys(we).every(Ee=>Gi(ye[Ee],we[Ee]))):this.values),this.update=async(we,ye)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:we,update:ye});const Ee=kt(kt({},this.getData(we)),ye);this.map.set(we,Ee),await this.persist()},this.delete=async(we,ye)=>{this.isInitialized(),this.map.has(we)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:we,reason:ye}),this.map.delete(we),await this.persist())},this.logger=E$2(t,this.name),this.storagePrefix=ne,this.getKey=o}get context(){return y$2(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const t=this.map.get(e);if(!t){const{message:s}=N$2("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(s),new Error(s)}return t}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:t}=N$2("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=N$2("NOT_INITIALIZED",this.name);throw new Error(e)}}}class Bt{constructor(e,t){this.core=e,this.logger=t,this.name=Et,this.version=wt,this.events=new Ug,this.initialized=!1,this.storagePrefix=O$1,this.ignoredPayloadTypes=[_$3],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:s})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...s])]},this.create=async()=>{this.isInitialized();const s=Vn$1(),ne=await this.core.crypto.setSymKey(s),o=pt$1(cjs$4.FIVE_MINUTES),we={protocol:ht},ye={topic:ne,expiry:o,relay:we,active:!1},Ee=Rt$1({protocol:this.core.protocol,version:this.core.version,topic:ne,symKey:s,relay:we,expiryTimestamp:o});return await this.pairings.set(ne,ye),await this.core.relayer.subscribe(ne),this.core.expirer.set(ne,o),{topic:ne,uri:Ee}},this.pair=async s=>{this.isInitialized(),this.isValidPair(s);const{topic:ne,symKey:o,relay:we,expiryTimestamp:ye}=Pt$1(s.uri);let Ee;if(this.pairings.keys.includes(ne)&&(Ee=this.pairings.get(ne),Ee.active))throw new Error(`Pairing already exists: ${ne}. Please try again with a new connection URI.`);const me=ye||pt$1(cjs$4.FIVE_MINUTES),fe={topic:ne,relay:we,expiry:me,active:!1};return await this.pairings.set(ne,fe),this.core.expirer.set(ne,me),s.activatePairing&&await this.activate({topic:ne}),this.events.emit(V.create,fe),this.core.crypto.keychain.has(ne)||(await this.core.crypto.setSymKey(o,ne),await this.core.relayer.subscribe(ne,{relay:we})),fe},this.activate=async({topic:s})=>{this.isInitialized();const ne=pt$1(cjs$4.THIRTY_DAYS);await this.pairings.update(s,{active:!0,expiry:ne}),this.core.expirer.set(s,ne)},this.ping=async s=>{this.isInitialized(),await this.isValidPing(s);const{topic:ne}=s;if(this.pairings.keys.includes(ne)){const o=await this.sendRequest(ne,"wc_pairingPing",{}),{done:we,resolve:ye,reject:Ee}=at$1();this.events.once(yt$1("pairing_ping",o),({error:me})=>{me?Ee(me):ye()}),await we()}},this.updateExpiry=async({topic:s,expiry:ne})=>{this.isInitialized(),await this.pairings.update(s,{expiry:ne})},this.updateMetadata=async({topic:s,metadata:ne})=>{this.isInitialized(),await this.pairings.update(s,{peerMetadata:ne})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async s=>{this.isInitialized(),await this.isValidDisconnect(s);const{topic:ne}=s;this.pairings.keys.includes(ne)&&(await this.sendRequest(ne,"wc_pairingDelete",U$2("USER_DISCONNECTED")),await this.deletePairing(ne))},this.sendRequest=async(s,ne,o)=>{const we=formatJsonRpcRequest(ne,o),ye=await this.core.crypto.encode(s,we),Ee=$$1[ne].req;return this.core.history.set(s,we),this.core.relayer.publish(s,ye,Ee),we.id},this.sendResult=async(s,ne,o)=>{const we=formatJsonRpcResult(s,o),ye=await this.core.crypto.encode(ne,we),Ee=await this.core.history.get(ne,s),me=$$1[Ee.request.method].res;await this.core.relayer.publish(ne,ye,me),await this.core.history.resolve(we)},this.sendError=async(s,ne,o)=>{const we=formatJsonRpcError(s,o),ye=await this.core.crypto.encode(ne,we),Ee=await this.core.history.get(ne,s),me=$$1[Ee.request.method]?$$1[Ee.request.method].res:$$1.unregistered_method.res;await this.core.relayer.publish(ne,ye,me),await this.core.history.resolve(we)},this.deletePairing=async(s,ne)=>{await this.core.relayer.unsubscribe(s),await Promise.all([this.pairings.delete(s,U$2("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(s),ne?Promise.resolve():this.core.expirer.del(s)])},this.cleanup=async()=>{const s=this.pairings.getAll().filter(ne=>mt$1(ne.expiry));await Promise.all(s.map(ne=>this.deletePairing(ne.topic)))},this.onRelayEventRequest=s=>{const{topic:ne,payload:o}=s;switch(o.method){case"wc_pairingPing":return this.onPairingPingRequest(ne,o);case"wc_pairingDelete":return this.onPairingDeleteRequest(ne,o);default:return this.onUnknownRpcMethodRequest(ne,o)}},this.onRelayEventResponse=async s=>{const{topic:ne,payload:o}=s,we=(await this.core.history.get(ne,o.id)).request.method;switch(we){case"wc_pairingPing":return this.onPairingPingResponse(ne,o);default:return this.onUnknownRpcMethodResponse(we)}},this.onPairingPingRequest=async(s,ne)=>{const{id:o}=ne;try{this.isValidPing({topic:s}),await this.sendResult(o,s,!0),this.events.emit(V.ping,{id:o,topic:s})}catch(we){await this.sendError(o,s,we),this.logger.error(we)}},this.onPairingPingResponse=(s,ne)=>{const{id:o}=ne;setTimeout(()=>{isJsonRpcResult(ne)?this.events.emit(yt$1("pairing_ping",o),{}):isJsonRpcError(ne)&&this.events.emit(yt$1("pairing_ping",o),{error:ne.error})},500)},this.onPairingDeleteRequest=async(s,ne)=>{const{id:o}=ne;try{this.isValidDisconnect({topic:s}),await this.deletePairing(s),this.events.emit(V.delete,{id:o,topic:s})}catch(we){await this.sendError(o,s,we),this.logger.error(we)}},this.onUnknownRpcMethodRequest=async(s,ne)=>{const{id:o,method:we}=ne;try{if(this.registeredMethods.includes(we))return;const ye=U$2("WC_METHOD_UNSUPPORTED",we);await this.sendError(o,s,ye),this.logger.error(ye)}catch(ye){await this.sendError(o,s,ye),this.logger.error(ye)}},this.onUnknownRpcMethodResponse=s=>{this.registeredMethods.includes(s)||this.logger.error(U$2("WC_METHOD_UNSUPPORTED",s))},this.isValidPair=s=>{var ne;if(!Gt$1(s)){const{message:we}=N$2("MISSING_OR_INVALID",`pair() params: ${s}`);throw new Error(we)}if(!Kt$1(s.uri)){const{message:we}=N$2("MISSING_OR_INVALID",`pair() uri: ${s.uri}`);throw new Error(we)}const o=Pt$1(s.uri);if(!((ne=o==null?void 0:o.relay)!=null&&ne.protocol)){const{message:we}=N$2("MISSING_OR_INVALID","pair() uri#relay-protocol");throw new Error(we)}if(!(o!=null&&o.symKey)){const{message:we}=N$2("MISSING_OR_INVALID","pair() uri#symKey");throw new Error(we)}if(o!=null&&o.expiryTimestamp&&cjs$4.toMiliseconds(o==null?void 0:o.expiryTimestamp)<Date.now()){const{message:we}=N$2("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(we)}},this.isValidPing=async s=>{if(!Gt$1(s)){const{message:o}=N$2("MISSING_OR_INVALID",`ping() params: ${s}`);throw new Error(o)}const{topic:ne}=s;await this.isValidPairingTopic(ne)},this.isValidDisconnect=async s=>{if(!Gt$1(s)){const{message:o}=N$2("MISSING_OR_INVALID",`disconnect() params: ${s}`);throw new Error(o)}const{topic:ne}=s;await this.isValidPairingTopic(ne)},this.isValidPairingTopic=async s=>{if(!g$5(s,!1)){const{message:ne}=N$2("MISSING_OR_INVALID",`pairing topic should be a string: ${s}`);throw new Error(ne)}if(!this.pairings.keys.includes(s)){const{message:ne}=N$2("NO_MATCHING_KEY",`pairing topic doesn't exist: ${s}`);throw new Error(ne)}if(mt$1(this.pairings.get(s).expiry)){await this.deletePairing(s);const{message:ne}=N$2("EXPIRED",`pairing topic: ${s}`);throw new Error(ne)}},this.core=e,this.logger=E$2(t,this.name),this.pairings=new Kt(this.core,this.logger,this.name,this.storagePrefix)}get context(){return y$2(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=N$2("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(D$2.message,async e=>{const{topic:t,message:s}=e;if(!this.pairings.keys.includes(t)||this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(s)))return;const ne=await this.core.crypto.decode(t,s);try{isJsonRpcRequest(ne)?(this.core.history.set(t,ne),this.onRelayEventRequest({topic:t,payload:ne})):isJsonRpcResponse(ne)&&(await this.core.history.resolve(ne),await this.onRelayEventResponse({topic:t,payload:ne}),this.core.history.delete(t,ne.id))}catch(o){this.logger.error(o)}})}registerExpirerEvents(){this.core.expirer.on(v$1.expired,async e=>{const{topic:t}=ft$2(e.target);t&&this.pairings.keys.includes(t)&&(await this.deletePairing(t,!0),this.events.emit(V.expire,{topic:t}))})}}class Vt extends h$1{constructor(e,t){super(e,t),this.core=e,this.logger=t,this.records=new Map,this.events=new eventsExports.EventEmitter,this.name=vt,this.version=It,this.cached=[],this.initialized=!1,this.storagePrefix=O$1,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(s=>this.records.set(s.id,s)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(s,ne,o)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:s,request:ne,chainId:o}),this.records.has(ne.id))return;const we={id:ne.id,topic:s,request:{method:ne.method,params:ne.params||null},chainId:o,expiry:pt$1(cjs$4.THIRTY_DAYS)};this.records.set(we.id,we),this.events.emit(R$1.created,we)},this.resolve=async s=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:s}),!this.records.has(s.id))return;const ne=await this.getRecord(s.id);typeof ne.response>"u"&&(ne.response=isJsonRpcError(s)?{error:s.error}:{result:s.result},this.records.set(ne.id,ne),this.events.emit(R$1.updated,ne))},this.get=async(s,ne)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:s,id:ne}),await this.getRecord(ne)),this.delete=(s,ne)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:ne}),this.values.forEach(o=>{if(o.topic===s){if(typeof ne<"u"&&o.id!==ne)return;this.records.delete(o.id),this.events.emit(R$1.deleted,o)}})},this.exists=async(s,ne)=>(this.isInitialized(),this.records.has(ne)?(await this.getRecord(ne)).topic===s:!1),this.on=(s,ne)=>{this.events.on(s,ne)},this.once=(s,ne)=>{this.events.once(s,ne)},this.off=(s,ne)=>{this.events.off(s,ne)},this.removeListener=(s,ne)=>{this.events.removeListener(s,ne)},this.logger=E$2(t,this.name)}get context(){return y$2(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(t=>{if(typeof t.response<"u")return;const s={topic:t.topic,request:formatJsonRpcRequest(t.request.method,t.request.params,t.id),chainId:t.chainId};return e.push(s)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const t=this.records.get(e);if(!t){const{message:s}=N$2("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(s)}return t}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(R$1.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:t}=N$2("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(R$1.created,e=>{const t=R$1.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()}),this.events.on(R$1.updated,e=>{const t=R$1.updated;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()}),this.events.on(R$1.deleted,e=>{const t=R$1.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()}),this.core.heartbeat.on(cjs$1.HEARTBEAT_EVENTS.pulse,()=>{this.cleanup()})}cleanup(){try{this.records.forEach(e=>{cjs$4.toMiliseconds(e.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${e.id}`),this.delete(e.topic,e.id))})}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=N$2("NOT_INITIALIZED",this.name);throw new Error(e)}}}class qt extends E$1{constructor(e,t){super(e,t),this.core=e,this.logger=t,this.expirations=new Map,this.events=new eventsExports.EventEmitter,this.name=Ct$1,this.version=Rt,this.cached=[],this.initialized=!1,this.storagePrefix=O$1,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(s=>this.expirations.set(s.target,s)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=s=>{try{const ne=this.formatTarget(s);return typeof this.getExpiration(ne)<"u"}catch{return!1}},this.set=(s,ne)=>{this.isInitialized();const o=this.formatTarget(s),we={target:o,expiry:ne};this.expirations.set(o,we),this.checkExpiry(o,we),this.events.emit(v$1.created,{target:o,expiration:we})},this.get=s=>{this.isInitialized();const ne=this.formatTarget(s);return this.getExpiration(ne)},this.del=s=>{if(this.isInitialized(),this.has(s)){const ne=this.formatTarget(s),o=this.getExpiration(ne);this.expirations.delete(ne),this.events.emit(v$1.deleted,{target:ne,expiration:o})}},this.on=(s,ne)=>{this.events.on(s,ne)},this.once=(s,ne)=>{this.events.once(s,ne)},this.off=(s,ne)=>{this.events.off(s,ne)},this.removeListener=(s,ne)=>{this.events.removeListener(s,ne)},this.logger=E$2(t,this.name)}get context(){return y$2(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return lt$1(e);if(typeof e=="number")return dt$1(e);const{message:t}=N$2("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(t)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(v$1.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:t}=N$2("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const t=this.expirations.get(e);if(!t){const{message:s}=N$2("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(s),new Error(s)}return t}checkExpiry(e,t){const{expiry:s}=t;cjs$4.toMiliseconds(s)-Date.now()<=0&&this.expire(e,t)}expire(e,t){this.expirations.delete(e),this.events.emit(v$1.expired,{target:e,expiration:t})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,t)=>this.checkExpiry(t,e))}registerEventListeners(){this.core.heartbeat.on(cjs$1.HEARTBEAT_EVENTS.pulse,()=>this.checkExpirations()),this.events.on(v$1.created,e=>{const t=v$1.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(v$1.expired,e=>{const t=v$1.expired;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(v$1.deleted,e=>{const t=v$1.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=N$2("NOT_INITIALIZED",this.name);throw new Error(e)}}}class jt extends y$1{constructor(e,t){super(e,t),this.projectId=e,this.logger=t,this.name=Z,this.initialized=!1,this.queue=[],this.verifyDisabled=!1,this.init=async s=>{if(this.verifyDisabled||$$2()||!D$4())return;const ne=this.getVerifyUrl(s==null?void 0:s.verifyUrl);this.verifyUrl!==ne&&this.removeIframe(),this.verifyUrl=ne;try{await this.createIframe()}catch(o){this.logger.info(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.info(o)}if(!this.initialized){this.removeIframe(),this.verifyUrl=ee;try{await this.createIframe()}catch(o){this.logger.info(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.info(o),this.verifyDisabled=!0}}},this.register=async s=>{this.initialized?this.sendPost(s.attestationId):(this.addToQueue(s.attestationId),await this.init())},this.resolve=async s=>{if(this.isDevEnv)return"";const ne=this.getVerifyUrl(s==null?void 0:s.verifyUrl);let o;try{o=await this.fetchAttestation(s.attestationId,ne)}catch(we){this.logger.info(`failed to resolve attestation: ${s.attestationId} from url: ${ne}`),this.logger.info(we),o=await this.fetchAttestation(s.attestationId,ee)}return o},this.fetchAttestation=async(s,ne)=>{this.logger.info(`resolving attestation: ${s} from url: ${ne}`);const o=this.startAbortTimer(cjs$4.ONE_SECOND*2),we=await fetch(`${ne}/attestation/${s}`,{signal:this.abortController.signal});return clearTimeout(o),we.status===200?await we.json():void 0},this.addToQueue=s=>{this.queue.push(s)},this.processQueue=()=>{this.queue.length!==0&&(this.queue.forEach(s=>this.sendPost(s)),this.queue=[])},this.sendPost=s=>{var ne;try{if(!this.iframe)return;(ne=this.iframe.contentWindow)==null||ne.postMessage(s,"*"),this.logger.info(`postMessage sent: ${s} ${this.verifyUrl}`)}catch{}},this.createIframe=async()=>{let s;const ne=o=>{o.data==="verify_ready"&&(this.initialized=!0,this.processQueue(),window.removeEventListener("message",ne),s())};await Promise.race([new Promise(o=>{if(document.getElementById(Z))return o();window.addEventListener("message",ne);const we=document.createElement("iframe");we.id=Z,we.src=`${this.verifyUrl}/${this.projectId}`,we.style.display="none",document.body.append(we),this.iframe=we,s=o}),new Promise((o,we)=>setTimeout(()=>{window.removeEventListener("message",ne),we("verify iframe load timeout")},cjs$4.toMiliseconds(cjs$4.FIVE_SECONDS)))])},this.removeIframe=()=>{this.iframe&&(this.iframe.remove(),this.iframe=void 0,this.initialized=!1)},this.getVerifyUrl=s=>{let ne=s||F$1;return _t.includes(ne)||(this.logger.info(`verify url: ${ne}, not included in trusted list, assigning default: ${F$1}`),ne=F$1),ne},this.logger=E$2(t,this.name),this.verifyUrl=F$1,this.abortController=new AbortController,this.isDevEnv=te$1()&&define_process_env_default.IS_VITEST}get context(){return y$2(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),cjs$4.toMiliseconds(e))}}class Gt extends v$2{constructor(e,t){super(e,t),this.projectId=e,this.logger=t,this.context=Tt,this.registerDeviceToken=async s=>{const{clientId:ne,token:o,notificationType:we,enableEncrypted:ye=!1}=s,Ee=`${St}/${this.projectId}/clients`;await Yi(Ee,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:ne,type:we,token:o,always_raw:ye})})},this.logger=E$2(t,this.context)}}var Lr=Object.defineProperty,Yt=Object.getOwnPropertySymbols,$r=Object.prototype.hasOwnProperty,Fr=Object.prototype.propertyIsEnumerable,Ht=(r,e,t)=>e in r?Lr(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Jt=(r,e)=>{for(var t in e||(e={}))$r.call(e,t)&&Ht(r,t,e[t]);if(Yt)for(var t of Yt(e))Fr.call(e,t)&&Ht(r,t,e[t]);return r};class te extends n{constructor(e){super(e),this.protocol=le$1,this.version=We,this.name=Q$2,this.events=new eventsExports.EventEmitter,this.initialized=!1,this.on=(s,ne)=>this.events.on(s,ne),this.once=(s,ne)=>this.events.once(s,ne),this.off=(s,ne)=>this.events.off(s,ne),this.removeListener=(s,ne)=>this.events.removeListener(s,ne),this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||ge$2,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const t=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:Hg(k({level:(e==null?void 0:e.logger)||Qe.logger}));this.logger=E$2(t,this.name),this.heartbeat=new cjs$1.HeartBeat,this.crypto=new xt(this,this.logger,e==null?void 0:e.keychain),this.history=new Vt(this,this.logger),this.expirer=new qt(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new h$2(Jt(Jt({},Ze),e==null?void 0:e.storageOptions)),this.relayer=new $t({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new Bt(this,this.logger),this.verify=new jt(this.projectId||"",this.logger),this.echoClient=new Gt(this.projectId||"",this.logger)}static async init(e){const t=new te(e);await t.initialize();const s=await t.crypto.getClientId();return await t.storage.setItem(yt,s),t}get context(){return y$2(this.logger)}async start(){this.initialized||await this.initialize()}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}}const Mr=te,J="wc",F=2,X="client",G$1=`${J}@${F}:${X}:`,M$1={name:X,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.com"},H="WALLETCONNECT_DEEPLINK_CHOICE",oe="proposal",ae="Proposal expired",ce="session",L$1=cjs$4.SEVEN_DAYS,le="engine",R={wc_sessionPropose:{req:{ttl:cjs$4.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:cjs$4.FIVE_MINUTES,prompt:!1,tag:1101}},wc_sessionSettle:{req:{ttl:cjs$4.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:cjs$4.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:cjs$4.ONE_DAY,prompt:!1,tag:1104},res:{ttl:cjs$4.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:cjs$4.ONE_DAY,prompt:!1,tag:1106},res:{ttl:cjs$4.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:cjs$4.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:cjs$4.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:cjs$4.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:cjs$4.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:cjs$4.ONE_DAY,prompt:!1,tag:1112},res:{ttl:cjs$4.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:cjs$4.THIRTY_SECONDS,prompt:!1,tag:1114},res:{ttl:cjs$4.THIRTY_SECONDS,prompt:!1,tag:1115}}},U$1={min:cjs$4.FIVE_MINUTES,max:cjs$4.SEVEN_DAYS},I={idle:"IDLE",active:"ACTIVE"},pe="request",he=["wc_sessionPropose","wc_sessionRequest","wc_authRequest"];var as=Object.defineProperty,cs=Object.defineProperties,ls=Object.getOwnPropertyDescriptors,de=Object.getOwnPropertySymbols,ps=Object.prototype.hasOwnProperty,hs=Object.prototype.propertyIsEnumerable,ue=(r,e,t)=>e in r?as(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,g$1=(r,e)=>{for(var t in e||(e={}))ps.call(e,t)&&ue(r,t,e[t]);if(de)for(var t of de(e))hs.call(e,t)&&ue(r,t,e[t]);return r},D$1=(r,e)=>cs(r,ls(e));class ds extends w$2{constructor(e){super(e),this.name=le,this.events=new Ug,this.initialized=!1,this.ignoredPayloadTypes=[_$3],this.requestQueue={state:I.idle,queue:[]},this.sessionRequestQueue={state:I.idle,queue:[]},this.requestQueueDelay=cjs$4.ONE_SECOND,this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),this.client.core.pairing.register({methods:Object.keys(R)}),this.initialized=!0,setTimeout(()=>{this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},cjs$4.toMiliseconds(this.requestQueueDelay)))},this.connect=async t=>{await this.isInitialized();const s=D$1(g$1({},t),{requiredNamespaces:t.requiredNamespaces||{},optionalNamespaces:t.optionalNamespaces||{}});await this.isValidConnect(s);const{pairingTopic:ne,requiredNamespaces:o,optionalNamespaces:we,sessionProperties:ye,relays:Ee}=s;let me=ne,fe,xe=!1;if(me&&(xe=this.client.core.pairing.pairings.get(me).active),!me||!xe){const{topic:ei,uri:si}=await this.client.core.pairing.create();me=ei,fe=si}const br=await this.client.core.crypto.generateKeyPair(),wr=R.wc_sessionPropose.req.ttl||cjs$4.FIVE_MINUTES,kr=pt$1(wr),Vr=g$1({requiredNamespaces:o,optionalNamespaces:we,relays:Ee??[{protocol:ht}],proposer:{publicKey:br,metadata:this.client.metadata},expiryTimestamp:kr},ye&&{sessionProperties:ye}),{reject:Zr,resolve:Qr,done:Yr}=at$1(wr,ae);if(this.events.once(yt$1("session_connect"),async({error:ei,session:si})=>{if(ei)Zr(ei);else if(si){si.self.publicKey=br;const ai=D$1(g$1({},si),{requiredNamespaces:Vr.requiredNamespaces,optionalNamespaces:Vr.optionalNamespaces});await this.client.session.set(si.topic,ai),await this.setExpiry(si.topic,si.expiry),me&&await this.client.core.pairing.updateMetadata({topic:me,metadata:si.peer.metadata}),Qr(ai)}}),!me){const{message:ei}=N$2("NO_MATCHING_KEY",`connect() pairing topic: ${me}`);throw new Error(ei)}const ii=await this.sendRequest({topic:me,method:"wc_sessionPropose",params:Vr,throwOnFailedPublish:!0});return await this.setProposal(ii,g$1({id:ii},Vr)),{uri:fe,approval:Yr}},this.pair=async t=>(await this.isInitialized(),await this.client.core.pairing.pair(t)),this.approve=async t=>{await this.isInitialized(),await this.isValidApprove(t);const{id:s,relayProtocol:ne,namespaces:o,sessionProperties:we}=t,ye=this.client.proposal.get(s);let{pairingTopic:Ee,proposer:me,requiredNamespaces:fe,optionalNamespaces:xe}=ye;Ee=Ee||"";const br=await this.client.core.crypto.generateKeyPair(),wr=me.publicKey,kr=await this.client.core.crypto.generateSharedKey(br,wr);Ee&&s&&(await this.client.core.pairing.updateMetadata({topic:Ee,metadata:me.metadata}),await this.sendResult({id:s,topic:Ee,result:{relay:{protocol:ne??"irn"},responderPublicKey:br}}),await this.client.proposal.delete(s,U$2("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:Ee}));const Vr=g$1({relay:{protocol:ne??"irn"},namespaces:o,pairingTopic:Ee,controller:{publicKey:br,metadata:this.client.metadata},expiry:pt$1(L$1)},we&&{sessionProperties:we});await this.client.core.relayer.subscribe(kr);const Zr=D$1(g$1({},Vr),{topic:kr,requiredNamespaces:fe,optionalNamespaces:xe,pairingTopic:Ee,acknowledged:!1,self:Vr.controller,peer:{publicKey:me.publicKey,metadata:me.metadata},controller:br});await this.client.session.set(kr,Zr);try{await this.sendRequest({topic:kr,method:"wc_sessionSettle",params:Vr,throwOnFailedPublish:!0})}catch(Qr){throw this.client.logger.error(Qr),this.client.session.delete(kr,U$2("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(kr),Qr}return await this.setExpiry(kr,pt$1(L$1)),{topic:kr,acknowledged:()=>new Promise(Qr=>setTimeout(()=>Qr(this.client.session.get(kr)),500))}},this.reject=async t=>{await this.isInitialized(),await this.isValidReject(t);const{id:s,reason:ne}=t,{pairingTopic:o}=this.client.proposal.get(s);o&&(await this.sendError(s,o,ne),await this.client.proposal.delete(s,U$2("USER_DISCONNECTED")))},this.update=async t=>{await this.isInitialized(),await this.isValidUpdate(t);const{topic:s,namespaces:ne}=t,o=await this.sendRequest({topic:s,method:"wc_sessionUpdate",params:{namespaces:ne}}),{done:we,resolve:ye,reject:Ee}=at$1();return this.events.once(yt$1("session_update",o),({error:me})=>{me?Ee(me):ye()}),await this.client.session.update(s,{namespaces:ne}),{acknowledged:we}},this.extend=async t=>{await this.isInitialized(),await this.isValidExtend(t);const{topic:s}=t,ne=await this.sendRequest({topic:s,method:"wc_sessionExtend",params:{}}),{done:o,resolve:we,reject:ye}=at$1();return this.events.once(yt$1("session_extend",ne),({error:Ee})=>{Ee?ye(Ee):we()}),await this.setExpiry(s,pt$1(L$1)),{acknowledged:o}},this.request=async t=>{await this.isInitialized(),await this.isValidRequest(t);const{chainId:s,request:ne,topic:o,expiry:we=R.wc_sessionRequest.req.ttl}=t,ye=payloadId(),{done:Ee,resolve:me,reject:fe}=at$1(we,"Request expired. Please try again.");return this.events.once(yt$1("session_request",ye),({error:xe,result:br})=>{xe?fe(xe):me(br)}),await Promise.all([new Promise(async xe=>{await this.sendRequest({clientRpcId:ye,topic:o,method:"wc_sessionRequest",params:{request:D$1(g$1({},ne),{expiryTimestamp:pt$1(we)}),chainId:s},expiry:we,throwOnFailedPublish:!0}).catch(br=>fe(br)),this.client.events.emit("session_request_sent",{topic:o,request:ne,chainId:s,id:ye}),xe()}),new Promise(async xe=>{const br=await ht$1(this.client.core.storage,H);gt$1({id:ye,topic:o,wcDeepLink:br}),xe()}),Ee()]).then(xe=>xe[2])},this.respond=async t=>{await this.isInitialized(),await this.isValidRespond(t);const{topic:s,response:ne}=t,{id:o}=ne;isJsonRpcResult(ne)?await this.sendResult({id:o,topic:s,result:ne.result,throwOnFailedPublish:!0}):isJsonRpcError(ne)&&await this.sendError(o,s,ne.error),this.cleanupAfterResponse(t)},this.ping=async t=>{await this.isInitialized(),await this.isValidPing(t);const{topic:s}=t;if(this.client.session.keys.includes(s)){const ne=await this.sendRequest({topic:s,method:"wc_sessionPing",params:{}}),{done:o,resolve:we,reject:ye}=at$1();this.events.once(yt$1("session_ping",ne),({error:Ee})=>{Ee?ye(Ee):we()}),await o()}else this.client.core.pairing.pairings.keys.includes(s)&&await this.client.core.pairing.ping({topic:s})},this.emit=async t=>{await this.isInitialized(),await this.isValidEmit(t);const{topic:s,event:ne,chainId:o}=t;await this.sendRequest({topic:s,method:"wc_sessionEvent",params:{event:ne,chainId:o}})},this.disconnect=async t=>{await this.isInitialized(),await this.isValidDisconnect(t);const{topic:s}=t;if(this.client.session.keys.includes(s))await this.sendRequest({topic:s,method:"wc_sessionDelete",params:U$2("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:s,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(s))await this.client.core.pairing.disconnect({topic:s});else{const{message:ne}=N$2("MISMATCHED_TOPIC",`Session or pairing topic not found: ${s}`);throw new Error(ne)}},this.find=t=>(this.isInitialized(),this.client.session.getAll().filter(s=>Mt$1(s,t))),this.getPendingSessionRequests=()=>this.client.pendingRequest.getAll(),this.cleanupDuplicatePairings=async t=>{if(t.pairingTopic)try{const s=this.client.core.pairing.pairings.get(t.pairingTopic),ne=this.client.core.pairing.pairings.getAll().filter(o=>{var we,ye;return((we=o.peerMetadata)==null?void 0:we.url)&&((ye=o.peerMetadata)==null?void 0:ye.url)===t.peer.metadata.url&&o.topic&&o.topic!==s.topic});if(ne.length===0)return;this.client.logger.info(`Cleaning up ${ne.length} duplicate pairing(s)`),await Promise.all(ne.map(o=>this.client.core.pairing.disconnect({topic:o.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(s){this.client.logger.error(s)}},this.deleteSession=async t=>{const{topic:s,expirerHasDeleted:ne=!1,emitEvent:o=!0,id:we=0}=t,{self:ye}=this.client.session.get(s);await this.client.core.relayer.unsubscribe(s),await this.client.session.delete(s,U$2("USER_DISCONNECTED")),this.client.core.crypto.keychain.has(ye.publicKey)&&await this.client.core.crypto.deleteKeyPair(ye.publicKey),this.client.core.crypto.keychain.has(s)&&await this.client.core.crypto.deleteSymKey(s),ne||this.client.core.expirer.del(s),this.client.core.storage.removeItem(H).catch(Ee=>this.client.logger.warn(Ee)),this.getPendingSessionRequests().forEach(Ee=>{Ee.topic===s&&this.deletePendingSessionRequest(Ee.id,U$2("USER_DISCONNECTED"))}),o&&this.client.events.emit("session_delete",{id:we,topic:s})},this.deleteProposal=async(t,s)=>{await Promise.all([this.client.proposal.delete(t,U$2("USER_DISCONNECTED")),s?Promise.resolve():this.client.core.expirer.del(t)])},this.deletePendingSessionRequest=async(t,s,ne=!1)=>{await Promise.all([this.client.pendingRequest.delete(t,s),ne?Promise.resolve():this.client.core.expirer.del(t)]),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(o=>o.id!==t),ne&&(this.sessionRequestQueue.state=I.idle,this.client.events.emit("session_request_expire",{id:t}))},this.setExpiry=async(t,s)=>{this.client.session.keys.includes(t)&&await this.client.session.update(t,{expiry:s}),this.client.core.expirer.set(t,s)},this.setProposal=async(t,s)=>{await this.client.proposal.set(t,s),this.client.core.expirer.set(t,pt$1(R.wc_sessionPropose.req.ttl))},this.setPendingSessionRequest=async t=>{const{id:s,topic:ne,params:o,verifyContext:we}=t,ye=o.request.expiryTimestamp||pt$1(R.wc_sessionRequest.req.ttl);await this.client.pendingRequest.set(s,{id:s,topic:ne,params:o,verifyContext:we}),ye&&this.client.core.expirer.set(s,ye)},this.sendRequest=async t=>{const{topic:s,method:ne,params:o,expiry:we,relayRpcId:ye,clientRpcId:Ee,throwOnFailedPublish:me}=t,fe=formatJsonRpcRequest(ne,o,Ee);if(D$4()&&he.includes(ne)){const wr=Ln(JSON.stringify(fe));this.client.core.verify.register({attestationId:wr})}const xe=await this.client.core.crypto.encode(s,fe),br=R[ne].req;return we&&(br.ttl=we),ye&&(br.id=ye),this.client.core.history.set(s,fe),me?(br.internal=D$1(g$1({},br.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(s,xe,br)):this.client.core.relayer.publish(s,xe,br).catch(wr=>this.client.logger.error(wr)),fe.id},this.sendResult=async t=>{const{id:s,topic:ne,result:o,throwOnFailedPublish:we}=t,ye=formatJsonRpcResult(s,o),Ee=await this.client.core.crypto.encode(ne,ye),me=await this.client.core.history.get(ne,s),fe=R[me.request.method].res;we?(fe.internal=D$1(g$1({},fe.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(ne,Ee,fe)):this.client.core.relayer.publish(ne,Ee,fe).catch(xe=>this.client.logger.error(xe)),await this.client.core.history.resolve(ye)},this.sendError=async(t,s,ne)=>{const o=formatJsonRpcError(t,ne),we=await this.client.core.crypto.encode(s,o),ye=await this.client.core.history.get(s,t),Ee=R[ye.request.method].res;this.client.core.relayer.publish(s,we,Ee),await this.client.core.history.resolve(o)},this.cleanup=async()=>{const t=[],s=[];this.client.session.getAll().forEach(ne=>{let o=!1;mt$1(ne.expiry)&&(o=!0),this.client.core.crypto.keychain.has(ne.topic)||(o=!0),o&&t.push(ne.topic)}),this.client.proposal.getAll().forEach(ne=>{mt$1(ne.expiryTimestamp)&&s.push(ne.id)}),await Promise.all([...t.map(ne=>this.deleteSession({topic:ne})),...s.map(ne=>this.deleteProposal(ne))])},this.onRelayEventRequest=async t=>{this.requestQueue.queue.push(t),await this.processRequestsQueue()},this.processRequestsQueue=async()=>{if(this.requestQueue.state===I.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=I.active;const t=this.requestQueue.queue.shift();if(t)try{this.processRequest(t),await new Promise(s=>setTimeout(s,300))}catch(s){this.client.logger.warn(s)}}this.requestQueue.state=I.idle},this.processRequest=t=>{const{topic:s,payload:ne}=t,o=ne.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeRequest(s,ne);case"wc_sessionSettle":return this.onSessionSettleRequest(s,ne);case"wc_sessionUpdate":return this.onSessionUpdateRequest(s,ne);case"wc_sessionExtend":return this.onSessionExtendRequest(s,ne);case"wc_sessionPing":return this.onSessionPingRequest(s,ne);case"wc_sessionDelete":return this.onSessionDeleteRequest(s,ne);case"wc_sessionRequest":return this.onSessionRequest(s,ne);case"wc_sessionEvent":return this.onSessionEventRequest(s,ne);default:return this.client.logger.info(`Unsupported request method ${o}`)}},this.onRelayEventResponse=async t=>{const{topic:s,payload:ne}=t,o=(await this.client.core.history.get(s,ne.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(s,ne);case"wc_sessionSettle":return this.onSessionSettleResponse(s,ne);case"wc_sessionUpdate":return this.onSessionUpdateResponse(s,ne);case"wc_sessionExtend":return this.onSessionExtendResponse(s,ne);case"wc_sessionPing":return this.onSessionPingResponse(s,ne);case"wc_sessionRequest":return this.onSessionRequestResponse(s,ne);default:return this.client.logger.info(`Unsupported response method ${o}`)}},this.onRelayEventUnknownPayload=t=>{const{topic:s}=t,{message:ne}=N$2("MISSING_OR_INVALID",`Decoded payload on topic ${s} is not identifiable as a JSON-RPC request or a response.`);throw new Error(ne)},this.onSessionProposeRequest=async(t,s)=>{const{params:ne,id:o}=s;try{this.isValidConnect(g$1({},s.params));const we=ne.expiryTimestamp||pt$1(R.wc_sessionPropose.req.ttl),ye=g$1({id:o,pairingTopic:t,expiryTimestamp:we},ne);await this.setProposal(o,ye);const Ee=Ln(JSON.stringify(s)),me=await this.getVerifyContext(Ee,ye.proposer.metadata);this.client.events.emit("session_proposal",{id:o,params:ye,verifyContext:me})}catch(we){await this.sendError(o,t,we),this.client.logger.error(we)}},this.onSessionProposeResponse=async(t,s)=>{const{id:ne}=s;if(isJsonRpcResult(s)){const{result:o}=s;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const we=this.client.proposal.get(ne);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:we});const ye=we.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:ye});const Ee=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:Ee});const me=await this.client.core.crypto.generateSharedKey(ye,Ee);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:me});const fe=await this.client.core.relayer.subscribe(me);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:fe}),await this.client.core.pairing.activate({topic:t})}else isJsonRpcError(s)&&(await this.client.proposal.delete(ne,U$2("USER_DISCONNECTED")),this.events.emit(yt$1("session_connect"),{error:s.error}))},this.onSessionSettleRequest=async(t,s)=>{const{id:ne,params:o}=s;try{this.isValidSessionSettleRequest(o);const{relay:we,controller:ye,expiry:Ee,namespaces:me,sessionProperties:fe,pairingTopic:xe}=s.params,br=g$1({topic:t,relay:we,expiry:Ee,namespaces:me,acknowledged:!0,pairingTopic:xe,requiredNamespaces:{},optionalNamespaces:{},controller:ye.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:ye.publicKey,metadata:ye.metadata}},fe&&{sessionProperties:fe});await this.sendResult({id:s.id,topic:t,result:!0}),this.events.emit(yt$1("session_connect"),{session:br}),this.cleanupDuplicatePairings(br)}catch(we){await this.sendError(ne,t,we),this.client.logger.error(we)}},this.onSessionSettleResponse=async(t,s)=>{const{id:ne}=s;isJsonRpcResult(s)?(await this.client.session.update(t,{acknowledged:!0}),this.events.emit(yt$1("session_approve",ne),{})):isJsonRpcError(s)&&(await this.client.session.delete(t,U$2("USER_DISCONNECTED")),this.events.emit(yt$1("session_approve",ne),{error:s.error}))},this.onSessionUpdateRequest=async(t,s)=>{const{params:ne,id:o}=s;try{const we=`${t}_session_update`,ye=sr$1.get(we);if(ye&&this.isRequestOutOfSync(ye,o)){this.client.logger.info(`Discarding out of sync request - ${o}`);return}this.isValidUpdate(g$1({topic:t},ne)),await this.client.session.update(t,{namespaces:ne.namespaces}),await this.sendResult({id:o,topic:t,result:!0}),this.client.events.emit("session_update",{id:o,topic:t,params:ne}),sr$1.set(we,o)}catch(we){await this.sendError(o,t,we),this.client.logger.error(we)}},this.isRequestOutOfSync=(t,s)=>parseInt(s.toString().slice(0,-3))<=parseInt(t.toString().slice(0,-3)),this.onSessionUpdateResponse=(t,s)=>{const{id:ne}=s;isJsonRpcResult(s)?this.events.emit(yt$1("session_update",ne),{}):isJsonRpcError(s)&&this.events.emit(yt$1("session_update",ne),{error:s.error})},this.onSessionExtendRequest=async(t,s)=>{const{id:ne}=s;try{this.isValidExtend({topic:t}),await this.setExpiry(t,pt$1(L$1)),await this.sendResult({id:ne,topic:t,result:!0}),this.client.events.emit("session_extend",{id:ne,topic:t})}catch(o){await this.sendError(ne,t,o),this.client.logger.error(o)}},this.onSessionExtendResponse=(t,s)=>{const{id:ne}=s;isJsonRpcResult(s)?this.events.emit(yt$1("session_extend",ne),{}):isJsonRpcError(s)&&this.events.emit(yt$1("session_extend",ne),{error:s.error})},this.onSessionPingRequest=async(t,s)=>{const{id:ne}=s;try{this.isValidPing({topic:t}),await this.sendResult({id:ne,topic:t,result:!0}),this.client.events.emit("session_ping",{id:ne,topic:t})}catch(o){await this.sendError(ne,t,o),this.client.logger.error(o)}},this.onSessionPingResponse=(t,s)=>{const{id:ne}=s;setTimeout(()=>{isJsonRpcResult(s)?this.events.emit(yt$1("session_ping",ne),{}):isJsonRpcError(s)&&this.events.emit(yt$1("session_ping",ne),{error:s.error})},500)},this.onSessionDeleteRequest=async(t,s)=>{const{id:ne}=s;try{this.isValidDisconnect({topic:t,reason:s.params}),await Promise.all([new Promise(o=>{this.client.core.relayer.once(D$2.publish,async()=>{o(await this.deleteSession({topic:t,id:ne}))})}),this.sendResult({id:ne,topic:t,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:t,error:U$2("USER_DISCONNECTED")})])}catch(o){this.client.logger.error(o)}},this.onSessionRequest=async(t,s)=>{const{id:ne,params:o}=s;try{this.isValidRequest(g$1({topic:t},o));const we=Ln(JSON.stringify(formatJsonRpcRequest("wc_sessionRequest",o,ne))),ye=this.client.session.get(t),Ee=await this.getVerifyContext(we,ye.peer.metadata),me={id:ne,topic:t,params:o,verifyContext:Ee};await this.setPendingSessionRequest(me),this.addSessionRequestToSessionRequestQueue(me),this.processSessionRequestQueue()}catch(we){await this.sendError(ne,t,we),this.client.logger.error(we)}},this.onSessionRequestResponse=(t,s)=>{const{id:ne}=s;isJsonRpcResult(s)?this.events.emit(yt$1("session_request",ne),{result:s.result}):isJsonRpcError(s)&&this.events.emit(yt$1("session_request",ne),{error:s.error})},this.onSessionEventRequest=async(t,s)=>{const{id:ne,params:o}=s;try{const we=`${t}_session_event_${o.event.name}`,ye=sr$1.get(we);if(ye&&this.isRequestOutOfSync(ye,ne)){this.client.logger.info(`Discarding out of sync request - ${ne}`);return}this.isValidEmit(g$1({topic:t},o)),this.client.events.emit("session_event",{id:ne,topic:t,params:o}),sr$1.set(we,ne)}catch(we){await this.sendError(ne,t,we),this.client.logger.error(we)}},this.addSessionRequestToSessionRequestQueue=t=>{this.sessionRequestQueue.queue.push(t)},this.cleanupAfterResponse=t=>{this.deletePendingSessionRequest(t.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=I.idle,this.processSessionRequestQueue()},cjs$4.toMiliseconds(this.requestQueueDelay))},this.cleanupPendingSentRequestsForTopic=({topic:t,error:s})=>{const ne=this.client.core.history.pending;ne.length>0&&ne.filter(o=>o.topic===t&&o.request.method==="wc_sessionRequest").forEach(o=>{this.events.emit(yt$1("session_request",o.request.id),{error:s})})},this.processSessionRequestQueue=()=>{if(this.sessionRequestQueue.state===I.active){this.client.logger.info("session request queue is already active.");return}const t=this.sessionRequestQueue.queue[0];if(!t){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=I.active,this.client.events.emit("session_request",t)}catch(s){this.client.logger.error(s)}},this.onPairingCreated=t=>{if(t.active)return;const s=this.client.proposal.getAll().find(ne=>ne.pairingTopic===t.topic);s&&this.onSessionProposeRequest(t.topic,formatJsonRpcRequest("wc_sessionPropose",{requiredNamespaces:s.requiredNamespaces,optionalNamespaces:s.optionalNamespaces,relays:s.relays,proposer:s.proposer,sessionProperties:s.sessionProperties},s.id))},this.isValidConnect=async t=>{if(!Gt$1(t)){const{message:Ee}=N$2("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(t)}`);throw new Error(Ee)}const{pairingTopic:s,requiredNamespaces:ne,optionalNamespaces:o,sessionProperties:we,relays:ye}=t;if(w$4(s)||await this.isValidPairingTopic(s),!qt$1(ye,!0)){const{message:Ee}=N$2("MISSING_OR_INVALID",`connect() relays: ${ye}`);throw new Error(Ee)}!w$4(ne)&&B$1(ne)!==0&&this.validateNamespaces(ne,"requiredNamespaces"),!w$4(o)&&B$1(o)!==0&&this.validateNamespaces(o,"optionalNamespaces"),w$4(we)||this.validateSessionProps(we,"sessionProperties")},this.validateNamespaces=(t,s)=>{const ne=Ht$1(t,"connect()",s);if(ne)throw new Error(ne.message)},this.isValidApprove=async t=>{if(!Gt$1(t))throw new Error(N$2("MISSING_OR_INVALID",`approve() params: ${t}`).message);const{id:s,namespaces:ne,relayProtocol:o,sessionProperties:we}=t;await this.isValidProposalId(s);const ye=this.client.proposal.get(s),Ee=ln(ne,"approve()");if(Ee)throw new Error(Ee.message);const me=fn(ye.requiredNamespaces,ne,"approve()");if(me)throw new Error(me.message);if(!g$5(o,!0)){const{message:fe}=N$2("MISSING_OR_INVALID",`approve() relayProtocol: ${o}`);throw new Error(fe)}w$4(we)||this.validateSessionProps(we,"sessionProperties")},this.isValidReject=async t=>{if(!Gt$1(t)){const{message:o}=N$2("MISSING_OR_INVALID",`reject() params: ${t}`);throw new Error(o)}const{id:s,reason:ne}=t;if(await this.isValidProposalId(s),!Wt(ne)){const{message:o}=N$2("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(ne)}`);throw new Error(o)}},this.isValidSessionSettleRequest=t=>{if(!Gt$1(t)){const{message:me}=N$2("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${t}`);throw new Error(me)}const{relay:s,controller:ne,namespaces:o,expiry:we}=t;if(!dn(s)){const{message:me}=N$2("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(me)}const ye=Ft$1(ne,"onSessionSettleRequest()");if(ye)throw new Error(ye.message);const Ee=ln(o,"onSessionSettleRequest()");if(Ee)throw new Error(Ee.message);if(mt$1(we)){const{message:me}=N$2("EXPIRED","onSessionSettleRequest()");throw new Error(me)}},this.isValidUpdate=async t=>{if(!Gt$1(t)){const{message:Ee}=N$2("MISSING_OR_INVALID",`update() params: ${t}`);throw new Error(Ee)}const{topic:s,namespaces:ne}=t;await this.isValidSessionTopic(s);const o=this.client.session.get(s),we=ln(ne,"update()");if(we)throw new Error(we.message);const ye=fn(o.requiredNamespaces,ne,"update()");if(ye)throw new Error(ye.message)},this.isValidExtend=async t=>{if(!Gt$1(t)){const{message:ne}=N$2("MISSING_OR_INVALID",`extend() params: ${t}`);throw new Error(ne)}const{topic:s}=t;await this.isValidSessionTopic(s)},this.isValidRequest=async t=>{if(!Gt$1(t)){const{message:Ee}=N$2("MISSING_OR_INVALID",`request() params: ${t}`);throw new Error(Ee)}const{topic:s,request:ne,chainId:o,expiry:we}=t;await this.isValidSessionTopic(s);const{namespaces:ye}=this.client.session.get(s);if(!Qt(ye,o)){const{message:Ee}=N$2("MISSING_OR_INVALID",`request() chainId: ${o}`);throw new Error(Ee)}if(!zt$1(ne)){const{message:Ee}=N$2("MISSING_OR_INVALID",`request() ${JSON.stringify(ne)}`);throw new Error(Ee)}if(!Zt(ye,o,ne.method)){const{message:Ee}=N$2("MISSING_OR_INVALID",`request() method: ${ne.method}`);throw new Error(Ee)}if(we&&!tr$1(we,U$1)){const{message:Ee}=N$2("MISSING_OR_INVALID",`request() expiry: ${we}. Expiry must be a number (in seconds) between ${U$1.min} and ${U$1.max}`);throw new Error(Ee)}},this.isValidRespond=async t=>{var s;if(!Gt$1(t)){const{message:we}=N$2("MISSING_OR_INVALID",`respond() params: ${t}`);throw new Error(we)}const{topic:ne,response:o}=t;try{await this.isValidSessionTopic(ne)}catch(we){throw(s=t==null?void 0:t.response)!=null&&s.id&&this.cleanupAfterResponse(t),we}if(!Yt$1(o)){const{message:we}=N$2("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(o)}`);throw new Error(we)}},this.isValidPing=async t=>{if(!Gt$1(t)){const{message:ne}=N$2("MISSING_OR_INVALID",`ping() params: ${t}`);throw new Error(ne)}const{topic:s}=t;await this.isValidSessionOrPairingTopic(s)},this.isValidEmit=async t=>{if(!Gt$1(t)){const{message:ye}=N$2("MISSING_OR_INVALID",`emit() params: ${t}`);throw new Error(ye)}const{topic:s,event:ne,chainId:o}=t;await this.isValidSessionTopic(s);const{namespaces:we}=this.client.session.get(s);if(!Qt(we,o)){const{message:ye}=N$2("MISSING_OR_INVALID",`emit() chainId: ${o}`);throw new Error(ye)}if(!Jt$1(ne)){const{message:ye}=N$2("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(ne)}`);throw new Error(ye)}if(!Xt(we,o,ne.name)){const{message:ye}=N$2("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(ne)}`);throw new Error(ye)}},this.isValidDisconnect=async t=>{if(!Gt$1(t)){const{message:ne}=N$2("MISSING_OR_INVALID",`disconnect() params: ${t}`);throw new Error(ne)}const{topic:s}=t;await this.isValidSessionOrPairingTopic(s)},this.getVerifyContext=async(t,s)=>{const ne={verified:{verifyUrl:s.verifyUrl||F$1,validation:"UNKNOWN",origin:s.url||""}};try{const o=await this.client.core.verify.resolve({attestationId:t,verifyUrl:s.verifyUrl});o&&(ne.verified.origin=o.origin,ne.verified.isScam=o.isScam,ne.verified.validation=o.origin===new URL(s.url).origin?"VALID":"INVALID")}catch(o){this.client.logger.info(o)}return this.client.logger.info(`Verify context: ${JSON.stringify(ne)}`),ne},this.validateSessionProps=(t,s)=>{Object.values(t).forEach(ne=>{if(!g$5(ne,!1)){const{message:o}=N$2("MISSING_OR_INVALID",`${s} must be in Record<string, string> format. Received: ${JSON.stringify(ne)}`);throw new Error(o)}})}}async isInitialized(){if(!this.initialized){const{message:e}=N$2("NOT_INITIALIZED",this.name);throw new Error(e)}await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(D$2.message,async e=>{const{topic:t,message:s}=e;if(this.ignoredPayloadTypes.includes(this.client.core.crypto.getPayloadType(s)))return;const ne=await this.client.core.crypto.decode(t,s);try{isJsonRpcRequest(ne)?(this.client.core.history.set(t,ne),this.onRelayEventRequest({topic:t,payload:ne})):isJsonRpcResponse(ne)?(await this.client.core.history.resolve(ne),await this.onRelayEventResponse({topic:t,payload:ne}),this.client.core.history.delete(t,ne.id)):this.onRelayEventUnknownPayload({topic:t,payload:ne})}catch(o){this.client.logger.error(o)}})}registerExpirerEvents(){this.client.core.expirer.on(v$1.expired,async e=>{const{topic:t,id:s}=ft$2(e.target);if(s&&this.client.pendingRequest.keys.includes(s))return await this.deletePendingSessionRequest(s,N$2("EXPIRED"),!0);t?this.client.session.keys.includes(t)&&(await this.deleteSession({topic:t,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:t})):s&&(await this.deleteProposal(s,!0),this.client.events.emit("proposal_expire",{id:s}))})}registerPairingEvents(){this.client.core.pairing.events.on(V.create,e=>this.onPairingCreated(e))}isValidPairingTopic(e){if(!g$5(e,!1)){const{message:t}=N$2("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(t)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:t}=N$2("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(t)}if(mt$1(this.client.core.pairing.pairings.get(e).expiry)){const{message:t}=N$2("EXPIRED",`pairing topic: ${e}`);throw new Error(t)}}async isValidSessionTopic(e){if(!g$5(e,!1)){const{message:t}=N$2("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(t)}if(!this.client.session.keys.includes(e)){const{message:t}=N$2("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(t)}if(mt$1(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:t}=N$2("EXPIRED",`session topic: ${e}`);throw new Error(t)}if(!this.client.core.crypto.keychain.has(e)){const{message:t}=N$2("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(t)}}async isValidSessionOrPairingTopic(e){if(this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(g$5(e,!1)){const{message:t}=N$2("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(t)}else{const{message:t}=N$2("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(t)}}async isValidProposalId(e){if(!Bt$1(e)){const{message:t}=N$2("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(t)}if(!this.client.proposal.keys.includes(e)){const{message:t}=N$2("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(t)}if(mt$1(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:t}=N$2("EXPIRED",`proposal id: ${e}`);throw new Error(t)}}}class us extends Kt{constructor(e,t){super(e,t,oe,G$1),this.core=e,this.logger=t}}let ge$1=class extends Kt{constructor(e,t){super(e,t,ce,G$1),this.core=e,this.logger=t}};class gs extends Kt{constructor(e,t){super(e,t,pe,G$1,s=>s.id),this.core=e,this.logger=t}}let Q$1=class Vd extends b$1{constructor(e){super(e),this.protocol=J,this.version=F,this.name=M$1.name,this.events=new eventsExports.EventEmitter,this.on=(s,ne)=>this.events.on(s,ne),this.once=(s,ne)=>this.events.once(s,ne),this.off=(s,ne)=>this.events.off(s,ne),this.removeListener=(s,ne)=>this.events.removeListener(s,ne),this.removeAllListeners=s=>this.events.removeAllListeners(s),this.connect=async s=>{try{return await this.engine.connect(s)}catch(ne){throw this.logger.error(ne.message),ne}},this.pair=async s=>{try{return await this.engine.pair(s)}catch(ne){throw this.logger.error(ne.message),ne}},this.approve=async s=>{try{return await this.engine.approve(s)}catch(ne){throw this.logger.error(ne.message),ne}},this.reject=async s=>{try{return await this.engine.reject(s)}catch(ne){throw this.logger.error(ne.message),ne}},this.update=async s=>{try{return await this.engine.update(s)}catch(ne){throw this.logger.error(ne.message),ne}},this.extend=async s=>{try{return await this.engine.extend(s)}catch(ne){throw this.logger.error(ne.message),ne}},this.request=async s=>{try{return await this.engine.request(s)}catch(ne){throw this.logger.error(ne.message),ne}},this.respond=async s=>{try{return await this.engine.respond(s)}catch(ne){throw this.logger.error(ne.message),ne}},this.ping=async s=>{try{return await this.engine.ping(s)}catch(ne){throw this.logger.error(ne.message),ne}},this.emit=async s=>{try{return await this.engine.emit(s)}catch(ne){throw this.logger.error(ne.message),ne}},this.disconnect=async s=>{try{return await this.engine.disconnect(s)}catch(ne){throw this.logger.error(ne.message),ne}},this.find=s=>{try{return this.engine.find(s)}catch(ne){throw this.logger.error(ne.message),ne}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(s){throw this.logger.error(s.message),s}},this.name=(e==null?void 0:e.name)||M$1.name,this.metadata=(e==null?void 0:e.metadata)||Qn();const t=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:Hg(k({level:(e==null?void 0:e.logger)||M$1.logger}));this.core=(e==null?void 0:e.core)||new Mr(e),this.logger=E$2(t,this.name),this.session=new ge$1(this.core,this.logger),this.proposal=new us(this.core,this.logger),this.pendingRequest=new gs(this.core,this.logger),this.engine=new ds(this)}static async init(e){const t=new Vd(e);return await t.initialize(),t}get context(){return y$2(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.engine.init(),this.core.verify.init({verifyUrl:this.metadata.verifyUrl}),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};var browserPonyfill={exports:{}};(function(r,e){var t=typeof self<"u"?self:commonjsGlobal,s=function(){function o(){this.fetch=!1,this.DOMException=t.DOMException}return o.prototype=t,new o}();(function(o){(function(we){var ye={searchParams:"URLSearchParams"in o,iterable:"Symbol"in o&&"iterator"in Symbol,blob:"FileReader"in o&&"Blob"in o&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in o,arrayBuffer:"ArrayBuffer"in o};function Ee(C){return C&&DataView.prototype.isPrototypeOf(C)}if(ye.arrayBuffer)var me=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],fe=ArrayBuffer.isView||function(C){return C&&me.indexOf(Object.prototype.toString.call(C))>-1};function xe(C){if(typeof C!="string"&&(C=String(C)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(C))throw new TypeError("Invalid character in header field name");return C.toLowerCase()}function br(C){return typeof C!="string"&&(C=String(C)),C}function wr(C){var be={next:function(){var Oe=C.shift();return{done:Oe===void 0,value:Oe}}};return ye.iterable&&(be[Symbol.iterator]=function(){return be}),be}function kr(C){this.map={},C instanceof kr?C.forEach(function(be,Oe){this.append(Oe,be)},this):Array.isArray(C)?C.forEach(function(be){this.append(be[0],be[1])},this):C&&Object.getOwnPropertyNames(C).forEach(function(be){this.append(be,C[be])},this)}kr.prototype.append=function(C,be){C=xe(C),be=br(be);var Oe=this.map[C];this.map[C]=Oe?Oe+", "+be:be},kr.prototype.delete=function(C){delete this.map[xe(C)]},kr.prototype.get=function(C){return C=xe(C),this.has(C)?this.map[C]:null},kr.prototype.has=function(C){return this.map.hasOwnProperty(xe(C))},kr.prototype.set=function(C,be){this.map[xe(C)]=br(be)},kr.prototype.forEach=function(C,be){for(var Oe in this.map)this.map.hasOwnProperty(Oe)&&C.call(be,this.map[Oe],Oe,this)},kr.prototype.keys=function(){var C=[];return this.forEach(function(be,Oe){C.push(Oe)}),wr(C)},kr.prototype.values=function(){var C=[];return this.forEach(function(be){C.push(be)}),wr(C)},kr.prototype.entries=function(){var C=[];return this.forEach(function(be,Oe){C.push([Oe,be])}),wr(C)},ye.iterable&&(kr.prototype[Symbol.iterator]=kr.prototype.entries);function Vr(C){if(C.bodyUsed)return Promise.reject(new TypeError("Already read"));C.bodyUsed=!0}function Zr(C){return new Promise(function(be,Oe){C.onload=function(){be(C.result)},C.onerror=function(){Oe(C.error)}})}function Qr(C){var be=new FileReader,Oe=Zr(be);return be.readAsArrayBuffer(C),Oe}function Yr(C){var be=new FileReader,Oe=Zr(be);return be.readAsText(C),Oe}function ii(C){for(var be=new Uint8Array(C),Oe=new Array(be.length),fr=0;fr<be.length;fr++)Oe[fr]=String.fromCharCode(be[fr]);return Oe.join("")}function ei(C){if(C.slice)return C.slice(0);var be=new Uint8Array(C.byteLength);return be.set(new Uint8Array(C)),be.buffer}function si(){return this.bodyUsed=!1,this._initBody=function(C){this._bodyInit=C,C?typeof C=="string"?this._bodyText=C:ye.blob&&Blob.prototype.isPrototypeOf(C)?this._bodyBlob=C:ye.formData&&FormData.prototype.isPrototypeOf(C)?this._bodyFormData=C:ye.searchParams&&URLSearchParams.prototype.isPrototypeOf(C)?this._bodyText=C.toString():ye.arrayBuffer&&ye.blob&&Ee(C)?(this._bodyArrayBuffer=ei(C.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):ye.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(C)||fe(C))?this._bodyArrayBuffer=ei(C):this._bodyText=C=Object.prototype.toString.call(C):this._bodyText="",this.headers.get("content-type")||(typeof C=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):ye.searchParams&&URLSearchParams.prototype.isPrototypeOf(C)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},ye.blob&&(this.blob=function(){var C=Vr(this);if(C)return C;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?Vr(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(Qr)}),this.text=function(){var C=Vr(this);if(C)return C;if(this._bodyBlob)return Yr(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(ii(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},ye.formData&&(this.formData=function(){return this.text().then(gi)}),this.json=function(){return this.text().then(JSON.parse)},this}var ai=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Gr(C){var be=C.toUpperCase();return ai.indexOf(be)>-1?be:C}function fi(C,be){be=be||{};var Oe=be.body;if(C instanceof fi){if(C.bodyUsed)throw new TypeError("Already read");this.url=C.url,this.credentials=C.credentials,be.headers||(this.headers=new kr(C.headers)),this.method=C.method,this.mode=C.mode,this.signal=C.signal,!Oe&&C._bodyInit!=null&&(Oe=C._bodyInit,C.bodyUsed=!0)}else this.url=String(C);if(this.credentials=be.credentials||this.credentials||"same-origin",(be.headers||!this.headers)&&(this.headers=new kr(be.headers)),this.method=Gr(be.method||this.method||"GET"),this.mode=be.mode||this.mode||null,this.signal=be.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&Oe)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(Oe)}fi.prototype.clone=function(){return new fi(this,{body:this._bodyInit})};function gi(C){var be=new FormData;return C.trim().split("&").forEach(function(Oe){if(Oe){var fr=Oe.split("="),qr=fr.shift().replace(/\+/g," "),Hr=fr.join("=").replace(/\+/g," ");be.append(decodeURIComponent(qr),decodeURIComponent(Hr))}}),be}function Si(C){var be=new kr,Oe=C.replace(/\r?\n[\t ]+/g," ");return Oe.split(/\r?\n/).forEach(function(fr){var qr=fr.split(":"),Hr=qr.shift().trim();if(Hr){var Er=qr.join(":").trim();be.append(Hr,Er)}}),be}si.call(fi.prototype);function oi(C,be){be||(be={}),this.type="default",this.status=be.status===void 0?200:be.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in be?be.statusText:"OK",this.headers=new kr(be.headers),this.url=be.url||"",this._initBody(C)}si.call(oi.prototype),oi.prototype.clone=function(){return new oi(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new kr(this.headers),url:this.url})},oi.error=function(){var C=new oi(null,{status:0,statusText:""});return C.type="error",C};var Kr=[301,302,303,307,308];oi.redirect=function(C,be){if(Kr.indexOf(be)===-1)throw new RangeError("Invalid status code");return new oi(null,{status:be,headers:{location:C}})},we.DOMException=o.DOMException;try{new we.DOMException}catch{we.DOMException=function(be,Oe){this.message=be,this.name=Oe;var fr=Error(be);this.stack=fr.stack},we.DOMException.prototype=Object.create(Error.prototype),we.DOMException.prototype.constructor=we.DOMException}function Ie(C,be){return new Promise(function(Oe,fr){var qr=new fi(C,be);if(qr.signal&&qr.signal.aborted)return fr(new we.DOMException("Aborted","AbortError"));var Hr=new XMLHttpRequest;function Er(){Hr.abort()}Hr.onload=function(){var jr={status:Hr.status,statusText:Hr.statusText,headers:Si(Hr.getAllResponseHeaders()||"")};jr.url="responseURL"in Hr?Hr.responseURL:jr.headers.get("X-Request-URL");var Se="response"in Hr?Hr.response:Hr.responseText;Oe(new oi(Se,jr))},Hr.onerror=function(){fr(new TypeError("Network request failed"))},Hr.ontimeout=function(){fr(new TypeError("Network request failed"))},Hr.onabort=function(){fr(new we.DOMException("Aborted","AbortError"))},Hr.open(qr.method,qr.url,!0),qr.credentials==="include"?Hr.withCredentials=!0:qr.credentials==="omit"&&(Hr.withCredentials=!1),"responseType"in Hr&&ye.blob&&(Hr.responseType="blob"),qr.headers.forEach(function(jr,Se){Hr.setRequestHeader(Se,jr)}),qr.signal&&(qr.signal.addEventListener("abort",Er),Hr.onreadystatechange=function(){Hr.readyState===4&&qr.signal.removeEventListener("abort",Er)}),Hr.send(typeof qr._bodyInit>"u"?null:qr._bodyInit)})}return Ie.polyfill=!0,o.fetch||(o.fetch=Ie,o.Headers=kr,o.Request=fi,o.Response=oi),we.Headers=kr,we.Request=fi,we.Response=oi,we.fetch=Ie,Object.defineProperty(we,"__esModule",{value:!0}),we})({})})(s),s.fetch.ponyfill=!0,delete s.fetch.polyfill;var ne=s;e=ne.fetch,e.default=ne.fetch,e.fetch=ne.fetch,e.Headers=ne.Headers,e.Request=ne.Request,e.Response=ne.Response,r.exports=e})(browserPonyfill,browserPonyfill.exports);var browserPonyfillExports=browserPonyfill.exports;const fetch$1=getDefaultExportFromCjs(browserPonyfillExports),DEFAULT_HTTP_HEADERS={Accept:"application/json","Content-Type":"application/json"},DEFAULT_HTTP_METHOD="POST",DEFAULT_FETCH_OPTS={headers:DEFAULT_HTTP_HEADERS,method:DEFAULT_HTTP_METHOD},EVENT_EMITTER_MAX_LISTENERS_DEFAULT=10;class HttpConnection{constructor(e,t=!1){if(this.url=e,this.disableProviderPing=t,this.events=new eventsExports.EventEmitter,this.isAvailable=!1,this.registering=!1,!isHttpUrl(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=t}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e,t){this.isAvailable||await this.register();try{const s=safeJsonStringify(e),o=await(await fetch$1(this.url,Object.assign(Object.assign({},DEFAULT_FETCH_OPTS),{body:s}))).json();this.onPayload({data:o})}catch(s){this.onError(e.id,s)}}async register(e=this.url){if(!isHttpUrl(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const t=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=t||this.events.listenerCount("open")>=t)&&this.events.setMaxListeners(t+1),new Promise((s,ne)=>{this.events.once("register_error",o=>{this.resetMaxListeners(),ne(o)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return ne(new Error("HTTP connection is missing or invalid"));s()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const t=safeJsonStringify({id:1,jsonrpc:"2.0",method:"test",params:[]});await fetch$1(e,Object.assign(Object.assign({},DEFAULT_FETCH_OPTS),{body:t}))}this.onOpen()}catch(t){const s=this.parseError(t);throw this.events.emit("register_error",s),this.onClose(),s}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const t=typeof e.data=="string"?safeJsonParse(e.data):e.data;this.events.emit("payload",t)}onError(e,t){const s=this.parseError(t),ne=s.message||s.toString(),o=formatJsonRpcError(e,ne);this.events.emit("payload",o)}parseError(e,t=this.url){return parseConnectionError(e,t,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>EVENT_EMITTER_MAX_LISTENERS_DEFAULT&&this.events.setMaxListeners(EVENT_EMITTER_MAX_LISTENERS_DEFAULT)}}const Ia="error",Fg="wss://relay.walletconnect.com",Mg="wc",qg="universal_provider",xa=`${Mg}@2:${qg}:`,Bg="https://rpc.walletconnect.com/v1/",Vn={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};var ge=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ui={exports:{}};/**
* @license
* Lodash <https://lodash.com/>
* Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
* Released under MIT license <https://lodash.com/license>
* Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
* Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
*/(function(r,e){(function(){var t,s="4.17.21",ne=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",we="Expected a function",ye="Invalid `variable` option passed into `_.template`",Ee="__lodash_hash_undefined__",me=500,fe="__lodash_placeholder__",xe=1,br=2,wr=4,kr=1,Vr=2,Zr=1,Qr=2,Yr=4,ii=8,ei=16,si=32,ai=64,Gr=128,fi=256,gi=512,Si=30,oi="...",Kr=800,Ie=16,C=1,be=2,Oe=3,fr=1/0,qr=9007199254740991,Hr=17976931348623157e292,Er=NaN,jr=4294967295,Se=jr-1,Wr=jr>>>1,bi=[["ary",Gr],["bind",Zr],["bindKey",Qr],["curry",ii],["curryRight",ei],["flip",gi],["partial",si],["partialRight",ai],["rearg",fi]],vi="[object Arguments]",Ei="[object Array]",ti="[object AsyncFunction]",ri="[object Boolean]",ci="[object Date]",Jr="[object DOMException]",li="[object Error]",yi="[object Function]",$i="[object GeneratorFunction]",Ni="[object Map]",Bi="[object Number]",zn="[object Null]",zi="[object Object]",Ki="[object Promise]",la="[object Proxy]",Vi="[object RegExp]",Ii="[object Set]",Nn="[object String]",ki="[object Symbol]",Ai="[object Undefined]",In="[object WeakMap]",wn="[object WeakSet]",qi="[object ArrayBuffer]",Yn="[object DataView]",$n="[object Float32Array]",Oi="[object Float64Array]",fa="[object Int8Array]",Pn="[object Int16Array]",Li="[object Int32Array]",ca="[object Uint8Array]",Cn="[object Uint8ClampedArray]",On="[object Uint16Array]",Ua="[object Uint32Array]",da=/\b__p \+= '';/g,Tn=/\b(__p \+=) '' \+/g,Ha=/(__e\(.*?\)|\b__t\)) \+\n'';/g,pa=/&(?:amp|lt|gt|quot|#39);/g,ea=/[&<>"']/g,wa=RegExp(pa.source),ta=RegExp(ea.source),En=/<%-([\s\S]+?)%>/g,_a=/<%([\s\S]+?)%>/g,ra=/<%=([\s\S]+?)%>/g,_n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Aa=/^\w*$/,oa=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Sn=/[\\^$.*+?()[\]{}|]/g,qa=RegExp(Sn.source),na=/^\s+/,Rn=/\s/,Ma=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Zn=/\{\n\/\* \[wrapped with (.+)\] \*/,An=/,? & /,Pa=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Da=/[()=,{}\[\]\/\s]/,aa=/\\(\\)?/g,Ja=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ha=/\w*$/,$a=/^[-+]0x[0-9a-f]+$/i,Do=/^0b[01]+$/i,Io=/^\[object .+?Constructor\]$/,Ao=/^0o[0-7]+$/i,qo=/^(?:0|[1-9]\d*)$/,co=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,mo=/($^)/,Po=/['\n\r\u2028\u2029\\]/g,yo="\\ud800-\\udfff",Co="\\u0300-\\u036f",Bo="\\ufe20-\\ufe2f",wo="\\u20d0-\\u20ff",So=Co+Bo+wo,Mo="\\u2700-\\u27bf",ao="a-z\\xdf-\\xf6\\xf8-\\xff",Oo="\\xac\\xb1\\xd7\\xf7",To="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",No="\\u2000-\\u206f",cf=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Qo="A-Z\\xc0-\\xd6\\xd8-\\xde",Tc="\\ufe0e\\ufe0f",Lf=Oo+To+No+cf,gc="['’]",kf="["+yo+"]",mc="["+Lf+"]",zf="["+So+"]",Nc="\\d+",Nu="["+Mo+"]",Uc="["+ao+"]",jc="[^"+yo+Lf+Nc+Mo+ao+Qo+"]",Qf="\\ud83c[\\udffb-\\udfff]",Uu="(?:"+zf+"|"+Qf+")",Lc="[^"+yo+"]",tc="(?:\\ud83c[\\udde6-\\uddff]){2}",Af="[\\ud800-\\udbff][\\udc00-\\udfff]",Go="["+Qo+"]",kc="\\u200d",zc="(?:"+Uc+"|"+jc+")",vf="(?:"+Go+"|"+jc+")",Fc="(?:"+gc+"(?:d|ll|m|re|s|t|ve))?",Hc="(?:"+gc+"(?:D|LL|M|RE|S|T|VE))?",Kc=Uu+"?",Vc="["+Tc+"]?",ju="(?:"+kc+"(?:"+[Lc,tc,Af].join("|")+")"+Vc+Kc+")*",wf="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Gc="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Wc=Vc+Kc+ju,rc="(?:"+[Nu,tc,Af].join("|")+")"+Wc,Lu="(?:"+[Lc+zf+"?",zf,tc,Af,kf].join("|")+")",yc=RegExp(gc,"g"),ku=RegExp(zf,"g"),ic=RegExp(Qf+"(?="+Qf+")|"+Lu+Wc,"g"),Jc=RegExp([Go+"?"+Uc+"+"+Fc+"(?="+[mc,Go,"$"].join("|")+")",vf+"+"+Hc+"(?="+[mc,Go+zc,"$"].join("|")+")",Go+"?"+zc+"+"+Fc,Go+"+"+Hc,Gc,wf,Nc,rc].join("|"),"g"),Xc=RegExp("["+kc+yo+So+Tc+"]"),Ff=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Yc=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],zu=-1,Qa={};Qa[$n]=Qa[Oi]=Qa[fa]=Qa[Pn]=Qa[Li]=Qa[ca]=Qa[Cn]=Qa[On]=Qa[Ua]=!0,Qa[vi]=Qa[Ei]=Qa[qi]=Qa[ri]=Qa[Yn]=Qa[ci]=Qa[li]=Qa[yi]=Qa[Ni]=Qa[Bi]=Qa[zi]=Qa[Vi]=Qa[Ii]=Qa[Nn]=Qa[In]=!1;var Za={};Za[vi]=Za[Ei]=Za[qi]=Za[Yn]=Za[ri]=Za[ci]=Za[$n]=Za[Oi]=Za[fa]=Za[Pn]=Za[Li]=Za[Ni]=Za[Bi]=Za[zi]=Za[Vi]=Za[Ii]=Za[Nn]=Za[ki]=Za[ca]=Za[Cn]=Za[On]=Za[Ua]=!0,Za[li]=Za[yi]=Za[In]=!1;var di={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},wi={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ti={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},ia={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},eo=parseFloat,Ba=parseInt,io=typeof ge=="object"&&ge&&ge.Object===Object&&ge,po=typeof self=="object"&&self&&self.Object===Object&&self,Va=io||po||Function("return this")(),to=e&&!e.nodeType&&e,uo=to&&!0&&r&&!r.nodeType&&r,zo=uo&&uo.exports===to,vo=zo&&io.process,no=function(){try{var _i=uo&&uo.require&&uo.require("util").types;return _i||vo&&vo.binding&&vo.binding("util")}catch{}}(),Uo=no&&no.isArrayBuffer,uf=no&&no.isDate,ef=no&&no.isMap,bf=no&&no.isRegExp,wc=no&&no.isSet,Hf=no&&no.isTypedArray;function _o(_i,Di,Ri){switch(Ri.length){case 0:return _i.call(Di);case 1:return _i.call(Di,Ri[0]);case 2:return _i.call(Di,Ri[0],Ri[1]);case 3:return _i.call(Di,Ri[0],Ri[1],Ri[2])}return _i.apply(Di,Ri)}function Gd(_i,Di,Ri,sa){for(var Ca=-1,Wa=_i==null?0:_i.length;++Ca<Wa;){var bo=_i[Ca];Di(sa,bo,Ri(bo),_i)}return sa}function tf(_i,Di){for(var Ri=-1,sa=_i==null?0:_i.length;++Ri<sa&&Di(_i[Ri],Ri,_i)!==!1;);return _i}function Wd(_i,Di){for(var Ri=_i==null?0:_i.length;Ri--&&Di(_i[Ri],Ri,_i)!==!1;);return _i}function Gh(_i,Di){for(var Ri=-1,sa=_i==null?0:_i.length;++Ri<sa;)if(!Di(_i[Ri],Ri,_i))return!1;return!0}function qf(_i,Di){for(var Ri=-1,sa=_i==null?0:_i.length,Ca=0,Wa=[];++Ri<sa;){var bo=_i[Ri];Di(bo,Ri,_i)&&(Wa[Ca++]=bo)}return Wa}function Zc(_i,Di){var Ri=_i==null?0:_i.length;return!!Ri&&nc(_i,Di,0)>-1}function Fu(_i,Di,Ri){for(var sa=-1,Ca=_i==null?0:_i.length;++sa<Ca;)if(Ri(Di,_i[sa]))return!0;return!1}function so(_i,Di){for(var Ri=-1,sa=_i==null?0:_i.length,Ca=Array(sa);++Ri<sa;)Ca[Ri]=Di(_i[Ri],Ri,_i);return Ca}function Pf(_i,Di){for(var Ri=-1,sa=Di.length,Ca=_i.length;++Ri<sa;)_i[Ca+Ri]=Di[Ri];return _i}function Hu(_i,Di,Ri,sa){var Ca=-1,Wa=_i==null?0:_i.length;for(sa&&Wa&&(Ri=_i[++Ca]);++Ca<Wa;)Ri=Di(Ri,_i[Ca],Ca,_i);return Ri}function Jd(_i,Di,Ri,sa){var Ca=_i==null?0:_i.length;for(sa&&Ca&&(Ri=_i[--Ca]);Ca--;)Ri=Di(Ri,_i[Ca],Ca,_i);return Ri}function Ku(_i,Di){for(var Ri=-1,sa=_i==null?0:_i.length;++Ri<sa;)if(Di(_i[Ri],Ri,_i))return!0;return!1}var Xd=Vu("length");function Yd(_i){return _i.split("")}function Zd(_i){return _i.match(Pa)||[]}function Wh(_i,Di,Ri){var sa;return Ri(_i,function(Ca,Wa,bo){if(Di(Ca,Wa,bo))return sa=Wa,!1}),sa}function Qc(_i,Di,Ri,sa){for(var Ca=_i.length,Wa=Ri+(sa?1:-1);sa?Wa--:++Wa<Ca;)if(Di(_i[Wa],Wa,_i))return Wa;return-1}function nc(_i,Di,Ri){return Di===Di?u0(_i,Di,Ri):Qc(_i,Jh,Ri)}function Qd(_i,Di,Ri,sa){for(var Ca=Ri-1,Wa=_i.length;++Ca<Wa;)if(sa(_i[Ca],Di))return Ca;return-1}function Jh(_i){return _i!==_i}function Xh(_i,Di){var Ri=_i==null?0:_i.length;return Ri?Wu(_i,Di)/Ri:Er}function Vu(_i){return function(Di){return Di==null?t:Di[_i]}}function Gu(_i){return function(Di){return _i==null?t:_i[Di]}}function Yh(_i,Di,Ri,sa,Ca){return Ca(_i,function(Wa,bo,ro){Ri=sa?(sa=!1,Wa):Di(Ri,Wa,bo,ro)}),Ri}function e0(_i,Di){var Ri=_i.length;for(_i.sort(Di);Ri--;)_i[Ri]=_i[Ri].value;return _i}function Wu(_i,Di){for(var Ri,sa=-1,Ca=_i.length;++sa<Ca;){var Wa=Di(_i[sa]);Wa!==t&&(Ri=Ri===t?Wa:Ri+Wa)}return Ri}function Ju(_i,Di){for(var Ri=-1,sa=Array(_i);++Ri<_i;)sa[Ri]=Di(Ri);return sa}function t0(_i,Di){return so(Di,function(Ri){return[Ri,_i[Ri]]})}function Zh(_i){return _i&&_i.slice(0,rl(_i)+1).replace(na,"")}function Wo(_i){return function(Di){return _i(Di)}}function Xu(_i,Di){return so(Di,function(Ri){return _i[Ri]})}function _c(_i,Di){return _i.has(Di)}function Qh(_i,Di){for(var Ri=-1,sa=_i.length;++Ri<sa&&nc(Di,_i[Ri],0)>-1;);return Ri}function el(_i,Di){for(var Ri=_i.length;Ri--&&nc(Di,_i[Ri],0)>-1;);return Ri}function r0(_i,Di){for(var Ri=_i.length,sa=0;Ri--;)_i[Ri]===Di&&++sa;return sa}var i0=Gu(di),n0=Gu(wi);function s0(_i){return"\\"+ia[_i]}function a0(_i,Di){return _i==null?t:_i[Di]}function sc(_i){return Xc.test(_i)}function o0(_i){return Ff.test(_i)}function f0(_i){for(var Di,Ri=[];!(Di=_i.next()).done;)Ri.push(Di.value);return Ri}function Yu(_i){var Di=-1,Ri=Array(_i.size);return _i.forEach(function(sa,Ca){Ri[++Di]=[Ca,sa]}),Ri}function tl(_i,Di){return function(Ri){return _i(Di(Ri))}}function Cf(_i,Di){for(var Ri=-1,sa=_i.length,Ca=0,Wa=[];++Ri<sa;){var bo=_i[Ri];(bo===Di||bo===fe)&&(_i[Ri]=fe,Wa[Ca++]=Ri)}return Wa}function eu(_i){var Di=-1,Ri=Array(_i.size);return _i.forEach(function(sa){Ri[++Di]=sa}),Ri}function c0(_i){var Di=-1,Ri=Array(_i.size);return _i.forEach(function(sa){Ri[++Di]=[sa,sa]}),Ri}function u0(_i,Di,Ri){for(var sa=Ri-1,Ca=_i.length;++sa<Ca;)if(_i[sa]===Di)return sa;return-1}function h0(_i,Di,Ri){for(var sa=Ri+1;sa--;)if(_i[sa]===Di)return sa;return sa}function ac(_i){return sc(_i)?d0(_i):Xd(_i)}function hf(_i){return sc(_i)?p0(_i):Yd(_i)}function rl(_i){for(var Di=_i.length;Di--&&Rn.test(_i.charAt(Di)););return Di}var l0=Gu(Ti);function d0(_i){for(var Di=ic.lastIndex=0;ic.test(_i);)++Di;return Di}function p0(_i){return _i.match(ic)||[]}function v0(_i){return _i.match(Jc)||[]}var b0=function _i(Di){Di=Di==null?Va:oc.defaults(Va.Object(),Di,oc.pick(Va,Yc));var Ri=Di.Array,sa=Di.Date,Ca=Di.Error,Wa=Di.Function,bo=Di.Math,ro=Di.Object,Zu=Di.RegExp,g0=Di.String,rf=Di.TypeError,tu=Ri.prototype,m0=Wa.prototype,fc=ro.prototype,ru=Di["__core-js_shared__"],iu=m0.toString,Ya=fc.hasOwnProperty,y0=0,il=function(){var Y=/[^.]+$/.exec(ru&&ru.keys&&ru.keys.IE_PROTO||"");return Y?"Symbol(src)_1."+Y:""}(),nu=fc.toString,w0=iu.call(ro),_0=Va._,E0=Zu("^"+iu.call(Ya).replace(Sn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),su=zo?Di.Buffer:t,Bf=Di.Symbol,au=Di.Uint8Array,nl=su?su.allocUnsafe:t,ou=tl(ro.getPrototypeOf,ro),sl=ro.create,al=fc.propertyIsEnumerable,fu=tu.splice,ol=Bf?Bf.isConcatSpreadable:t,Ec=Bf?Bf.iterator:t,Kf=Bf?Bf.toStringTag:t,cu=function(){try{var Y=Xf(ro,"defineProperty");return Y({},"",{}),Y}catch{}}(),x0=Di.clearTimeout!==Va.clearTimeout&&Di.clearTimeout,S0=sa&&sa.now!==Va.Date.now&&sa.now,M0=Di.setTimeout!==Va.setTimeout&&Di.setTimeout,uu=bo.ceil,hu=bo.floor,Qu=ro.getOwnPropertySymbols,$0=su?su.isBuffer:t,fl=Di.isFinite,R0=tu.join,D0=tl(ro.keys,ro),go=bo.max,$o=bo.min,I0=sa.now,A0=Di.parseInt,cl=bo.random,q0=tu.reverse,eh=Xf(Di,"DataView"),xc=Xf(Di,"Map"),th=Xf(Di,"Promise"),cc=Xf(Di,"Set"),Sc=Xf(Di,"WeakMap"),Mc=Xf(ro,"create"),lu=Sc&&new Sc,uc={},P0=Yf(eh),C0=Yf(xc),B0=Yf(th),O0=Yf(cc),T0=Yf(Sc),du=Bf?Bf.prototype:t,$c=du?du.valueOf:t,ul=du?du.toString:t;function ui(Y){if(fo(Y)&&!Na(Y)&&!(Y instanceof Ka)){if(Y instanceof nf)return Y;if(Ya.call(Y,"__wrapped__"))return hd(Y)}return new nf(Y)}var hc=function(){function Y(){}return function(se){if(!oo(se))return{};if(sl)return sl(se);Y.prototype=se;var Br=new Y;return Y.prototype=t,Br}}();function pu(){}function nf(Y,se){this.__wrapped__=Y,this.__actions__=[],this.__chain__=!!se,this.__index__=0,this.__values__=t}ui.templateSettings={escape:En,evaluate:_a,interpolate:ra,variable:"",imports:{_:ui}},ui.prototype=pu.prototype,ui.prototype.constructor=ui,nf.prototype=hc(pu.prototype),nf.prototype.constructor=nf;function Ka(Y){this.__wrapped__=Y,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=jr,this.__views__=[]}function N0(){var Y=new Ka(this.__wrapped__);return Y.__actions__=Fo(this.__actions__),Y.__dir__=this.__dir__,Y.__filtered__=this.__filtered__,Y.__iteratees__=Fo(this.__iteratees__),Y.__takeCount__=this.__takeCount__,Y.__views__=Fo(this.__views__),Y}function U0(){if(this.__filtered__){var Y=new Ka(this);Y.__dir__=-1,Y.__filtered__=!0}else Y=this.clone(),Y.__dir__*=-1;return Y}function j0(){var Y=this.__wrapped__.value(),se=this.__dir__,Br=Na(Y),Xr=se<0,ni=Br?Y.length:0,hi=Yp(0,ni,this.__views__),pi=hi.start,mi=hi.end,xi=mi-pi,Pi=Xr?mi:pi-1,Ci=this.__iteratees__,ji=Ci.length,jn=0,ua=$o(xi,this.__takeCount__);if(!Br||!Xr&&ni==xi&&ua==xi)return Bl(Y,this.__actions__);var ga=[];e:for(;xi--&&jn<ua;){Pi+=se;for(var ka=-1,ma=Y[Pi];++ka<ji;){var Fa=Ci[ka],Ga=Fa.iteratee,Yo=Fa.type,ko=Ga(ma);if(Yo==be)ma=ko;else if(!ko){if(Yo==C)continue e;break e}}ga[jn++]=ma}return ga}Ka.prototype=hc(pu.prototype),Ka.prototype.constructor=Ka;function Vf(Y){var se=-1,Br=Y==null?0:Y.length;for(this.clear();++se<Br;){var Xr=Y[se];this.set(Xr[0],Xr[1])}}function L0(){this.__data__=Mc?Mc(null):{},this.size=0}function k0(Y){var se=this.has(Y)&&delete this.__data__[Y];return this.size-=se?1:0,se}function z0(Y){var se=this.__data__;if(Mc){var Br=se[Y];return Br===Ee?t:Br}return Ya.call(se,Y)?se[Y]:t}function F0(Y){var se=this.__data__;return Mc?se[Y]!==t:Ya.call(se,Y)}function H0(Y,se){var Br=this.__data__;return this.size+=this.has(Y)?0:1,Br[Y]=Mc&&se===t?Ee:se,this}Vf.prototype.clear=L0,Vf.prototype.delete=k0,Vf.prototype.get=z0,Vf.prototype.has=F0,Vf.prototype.set=H0;function _f(Y){var se=-1,Br=Y==null?0:Y.length;for(this.clear();++se<Br;){var Xr=Y[se];this.set(Xr[0],Xr[1])}}function K0(){this.__data__=[],this.size=0}function V0(Y){var se=this.__data__,Br=vu(se,Y);if(Br<0)return!1;var Xr=se.length-1;return Br==Xr?se.pop():fu.call(se,Br,1),--this.size,!0}function G0(Y){var se=this.__data__,Br=vu(se,Y);return Br<0?t:se[Br][1]}function W0(Y){return vu(this.__data__,Y)>-1}function J0(Y,se){var Br=this.__data__,Xr=vu(Br,Y);return Xr<0?(++this.size,Br.push([Y,se])):Br[Xr][1]=se,this}_f.prototype.clear=K0,_f.prototype.delete=V0,_f.prototype.get=G0,_f.prototype.has=W0,_f.prototype.set=J0;function Ef(Y){var se=-1,Br=Y==null?0:Y.length;for(this.clear();++se<Br;){var Xr=Y[se];this.set(Xr[0],Xr[1])}}function X0(){this.size=0,this.__data__={hash:new Vf,map:new(xc||_f),string:new Vf}}function Y0(Y){var se=Ru(this,Y).delete(Y);return this.size-=se?1:0,se}function Z0(Y){return Ru(this,Y).get(Y)}function Q0(Y){return Ru(this,Y).has(Y)}function ep(Y,se){var Br=Ru(this,Y),Xr=Br.size;return Br.set(Y,se),this.size+=Br.size==Xr?0:1,this}Ef.prototype.clear=X0,Ef.prototype.delete=Y0,Ef.prototype.get=Z0,Ef.prototype.has=Q0,Ef.prototype.set=ep;function Gf(Y){var se=-1,Br=Y==null?0:Y.length;for(this.__data__=new Ef;++se<Br;)this.add(Y[se])}function tp(Y){return this.__data__.set(Y,Ee),this}function rp(Y){return this.__data__.has(Y)}Gf.prototype.add=Gf.prototype.push=tp,Gf.prototype.has=rp;function lf(Y){var se=this.__data__=new _f(Y);this.size=se.size}function ip(){this.__data__=new _f,this.size=0}function np(Y){var se=this.__data__,Br=se.delete(Y);return this.size=se.size,Br}function sp(Y){return this.__data__.get(Y)}function ap(Y){return this.__data__.has(Y)}function op(Y,se){var Br=this.__data__;if(Br instanceof _f){var Xr=Br.__data__;if(!xc||Xr.length<ne-1)return Xr.push([Y,se]),this.size=++Br.size,this;Br=this.__data__=new Ef(Xr)}return Br.set(Y,se),this.size=Br.size,this}lf.prototype.clear=ip,lf.prototype.delete=np,lf.prototype.get=sp,lf.prototype.has=ap,lf.prototype.set=op;function hl(Y,se){var Br=Na(Y),Xr=!Br&&Zf(Y),ni=!Br&&!Xr&&jf(Y),hi=!Br&&!Xr&&!ni&&vc(Y),pi=Br||Xr||ni||hi,mi=pi?Ju(Y.length,g0):[],xi=mi.length;for(var Pi in Y)(se||Ya.call(Y,Pi))&&!(pi&&(Pi=="length"||ni&&(Pi=="offset"||Pi=="parent")||hi&&(Pi=="buffer"||Pi=="byteLength"||Pi=="byteOffset")||$f(Pi,xi)))&&mi.push(Pi);return mi}function ll(Y){var se=Y.length;return se?Y[lh(0,se-1)]:t}function fp(Y,se){return Du(Fo(Y),Wf(se,0,Y.length))}function cp(Y){return Du(Fo(Y))}function rh(Y,se,Br){(Br!==t&&!df(Y[se],Br)||Br===t&&!(se in Y))&&xf(Y,se,Br)}function Rc(Y,se,Br){var Xr=Y[se];(!(Ya.call(Y,se)&&df(Xr,Br))||Br===t&&!(se in Y))&&xf(Y,se,Br)}function vu(Y,se){for(var Br=Y.length;Br--;)if(df(Y[Br][0],se))return Br;return-1}function up(Y,se,Br,Xr){return Of(Y,function(ni,hi,pi){se(Xr,ni,Br(ni),pi)}),Xr}function dl(Y,se){return Y&&mf(se,Eo(se),Y)}function hp(Y,se){return Y&&mf(se,Ko(se),Y)}function xf(Y,se,Br){se=="__proto__"&&cu?cu(Y,se,{configurable:!0,enumerable:!0,value:Br,writable:!0}):Y[se]=Br}function ih(Y,se){for(var Br=-1,Xr=se.length,ni=Ri(Xr),hi=Y==null;++Br<Xr;)ni[Br]=hi?t:Uh(Y,se[Br]);return ni}function Wf(Y,se,Br){return Y===Y&&(Br!==t&&(Y=Y<=Br?Y:Br),se!==t&&(Y=Y>=se?Y:se)),Y}function sf(Y,se,Br,Xr,ni,hi){var pi,mi=se&xe,xi=se&br,Pi=se&wr;if(Br&&(pi=ni?Br(Y,Xr,ni,hi):Br(Y)),pi!==t)return pi;if(!oo(Y))return Y;var Ci=Na(Y);if(Ci){if(pi=Qp(Y),!mi)return Fo(Y,pi)}else{var ji=Ro(Y),jn=ji==yi||ji==$i;if(jf(Y))return Nl(Y,mi);if(ji==zi||ji==vi||jn&&!ni){if(pi=xi||jn?{}:rd(Y),!mi)return xi?zp(Y,hp(pi,Y)):kp(Y,dl(pi,Y))}else{if(!Za[ji])return ni?Y:{};pi=e1(Y,ji,mi)}}hi||(hi=new lf);var ua=hi.get(Y);if(ua)return ua;hi.set(Y,pi),qd(Y)?Y.forEach(function(ma){pi.add(sf(ma,se,Br,ma,Y,hi))}):Id(Y)&&Y.forEach(function(ma,Fa){pi.set(Fa,sf(ma,se,Br,Fa,Y,hi))});var ga=Pi?xi?Sh:xh:xi?Ko:Eo,ka=Ci?t:ga(Y);return tf(ka||Y,function(ma,Fa){ka&&(Fa=ma,ma=Y[Fa]),Rc(pi,Fa,sf(ma,se,Br,Fa,Y,hi))}),pi}function lp(Y){var se=Eo(Y);return function(Br){return pl(Br,Y,se)}}function pl(Y,se,Br){var Xr=Br.length;if(Y==null)return!Xr;for(Y=ro(Y);Xr--;){var ni=Br[Xr],hi=se[ni],pi=Y[ni];if(pi===t&&!(ni in Y)||!hi(pi))return!1}return!0}function vl(Y,se,Br){if(typeof Y!="function")throw new rf(we);return Bc(function(){Y.apply(t,Br)},se)}function Dc(Y,se,Br,Xr){var ni=-1,hi=Zc,pi=!0,mi=Y.length,xi=[],Pi=se.length;if(!mi)return xi;Br&&(se=so(se,Wo(Br))),Xr?(hi=Fu,pi=!1):se.length>=ne&&(hi=_c,pi=!1,se=new Gf(se));e:for(;++ni<mi;){var Ci=Y[ni],ji=Br==null?Ci:Br(Ci);if(Ci=Xr||Ci!==0?Ci:0,pi&&ji===ji){for(var jn=Pi;jn--;)if(se[jn]===ji)continue e;xi.push(Ci)}else hi(se,ji,Xr)||xi.push(Ci)}return xi}var Of=zl(gf),bl=zl(sh,!0);function dp(Y,se){var Br=!0;return Of(Y,function(Xr,ni,hi){return Br=!!se(Xr,ni,hi),Br}),Br}function bu(Y,se,Br){for(var Xr=-1,ni=Y.length;++Xr<ni;){var hi=Y[Xr],pi=se(hi);if(pi!=null&&(mi===t?pi===pi&&!Xo(pi):Br(pi,mi)))var mi=pi,xi=hi}return xi}function pp(Y,se,Br,Xr){var ni=Y.length;for(Br=ja(Br),Br<0&&(Br=-Br>ni?0:ni+Br),Xr=Xr===t||Xr>ni?ni:ja(Xr),Xr<0&&(Xr+=ni),Xr=Br>Xr?0:Cd(Xr);Br<Xr;)Y[Br++]=se;return Y}function gl(Y,se){var Br=[];return Of(Y,function(Xr,ni,hi){se(Xr,ni,hi)&&Br.push(Xr)}),Br}function xo(Y,se,Br,Xr,ni){var hi=-1,pi=Y.length;for(Br||(Br=r1),ni||(ni=[]);++hi<pi;){var mi=Y[hi];se>0&&Br(mi)?se>1?xo(mi,se-1,Br,Xr,ni):Pf(ni,mi):Xr||(ni[ni.length]=mi)}return ni}var nh=Fl(),ml=Fl(!0);function gf(Y,se){return Y&&nh(Y,se,Eo)}function sh(Y,se){return Y&&ml(Y,se,Eo)}function gu(Y,se){return qf(se,function(Br){return Rf(Y[Br])})}function Jf(Y,se){se=Nf(se,Y);for(var Br=0,Xr=se.length;Y!=null&&Br<Xr;)Y=Y[yf(se[Br++])];return Br&&Br==Xr?Y:t}function yl(Y,se,Br){var Xr=se(Y);return Na(Y)?Xr:Pf(Xr,Br(Y))}function jo(Y){return Y==null?Y===t?Ai:zn:Kf&&Kf in ro(Y)?Xp(Y):c1(Y)}function ah(Y,se){return Y>se}function vp(Y,se){return Y!=null&&Ya.call(Y,se)}function bp(Y,se){return Y!=null&&se in ro(Y)}function gp(Y,se,Br){return Y>=$o(se,Br)&&Y<go(se,Br)}function oh(Y,se,Br){for(var Xr=Br?Fu:Zc,ni=Y[0].length,hi=Y.length,pi=hi,mi=Ri(hi),xi=1/0,Pi=[];pi--;){var Ci=Y[pi];pi&&se&&(Ci=so(Ci,Wo(se))),xi=$o(Ci.length,xi),mi[pi]=!Br&&(se||ni>=120&&Ci.length>=120)?new Gf(pi&&Ci):t}Ci=Y[0];var ji=-1,jn=mi[0];e:for(;++ji<ni&&Pi.length<xi;){var ua=Ci[ji],ga=se?se(ua):ua;if(ua=Br||ua!==0?ua:0,!(jn?_c(jn,ga):Xr(Pi,ga,Br))){for(pi=hi;--pi;){var ka=mi[pi];if(!(ka?_c(ka,ga):Xr(Y[pi],ga,Br)))continue e}jn&&jn.push(ga),Pi.push(ua)}}return Pi}function mp(Y,se,Br,Xr){return gf(Y,function(ni,hi,pi){se(Xr,Br(ni),hi,pi)}),Xr}function Ic(Y,se,Br){se=Nf(se,Y),Y=ad(Y,se);var Xr=Y==null?Y:Y[yf(of(se))];return Xr==null?t:_o(Xr,Y,Br)}function wl(Y){return fo(Y)&&jo(Y)==vi}function yp(Y){return fo(Y)&&jo(Y)==qi}function wp(Y){return fo(Y)&&jo(Y)==ci}function Ac(Y,se,Br,Xr,ni){return Y===se?!0:Y==null||se==null||!fo(Y)&&!fo(se)?Y!==Y&&se!==se:_p(Y,se,Br,Xr,Ac,ni)}function _p(Y,se,Br,Xr,ni,hi){var pi=Na(Y),mi=Na(se),xi=pi?Ei:Ro(Y),Pi=mi?Ei:Ro(se);xi=xi==vi?zi:xi,Pi=Pi==vi?zi:Pi;var Ci=xi==zi,ji=Pi==zi,jn=xi==Pi;if(jn&&jf(Y)){if(!jf(se))return!1;pi=!0,Ci=!1}if(jn&&!Ci)return hi||(hi=new lf),pi||vc(Y)?Ql(Y,se,Br,Xr,ni,hi):Wp(Y,se,xi,Br,Xr,ni,hi);if(!(Br&kr)){var ua=Ci&&Ya.call(Y,"__wrapped__"),ga=ji&&Ya.call(se,"__wrapped__");if(ua||ga){var ka=ua?Y.value():Y,ma=ga?se.value():se;return hi||(hi=new lf),ni(ka,ma,Br,Xr,hi)}}return jn?(hi||(hi=new lf),Jp(Y,se,Br,Xr,ni,hi)):!1}function Ep(Y){return fo(Y)&&Ro(Y)==Ni}function fh(Y,se,Br,Xr){var ni=Br.length,hi=ni,pi=!Xr;if(Y==null)return!hi;for(Y=ro(Y);ni--;){var mi=Br[ni];if(pi&&mi[2]?mi[1]!==Y[mi[0]]:!(mi[0]in Y))return!1}for(;++ni<hi;){mi=Br[ni];var xi=mi[0],Pi=Y[xi],Ci=mi[1];if(pi&&mi[2]){if(Pi===t&&!(xi in Y))return!1}else{var ji=new lf;if(Xr)var jn=Xr(Pi,Ci,xi,Y,se,ji);if(!(jn===t?Ac(Ci,Pi,kr|Vr,Xr,ji):jn))return!1}}return!0}function _l(Y){if(!oo(Y)||n1(Y))return!1;var se=Rf(Y)?E0:Io;return se.test(Yf(Y))}function xp(Y){return fo(Y)&&jo(Y)==Vi}function Sp(Y){return fo(Y)&&Ro(Y)==Ii}function Mp(Y){return fo(Y)&&Bu(Y.length)&&!!Qa[jo(Y)]}function El(Y){return typeof Y=="function"?Y:Y==null?Vo:typeof Y=="object"?Na(Y)?Ml(Y[0],Y[1]):Sl(Y):Hd(Y)}function ch(Y){if(!Cc(Y))return D0(Y);var se=[];for(var Br in ro(Y))Ya.call(Y,Br)&&Br!="constructor"&&se.push(Br);return se}function $p(Y){if(!oo(Y))return f1(Y);var se=Cc(Y),Br=[];for(var Xr in Y)Xr=="constructor"&&(se||!Ya.call(Y,Xr))||Br.push(Xr);return Br}function uh(Y,se){return Y<se}function xl(Y,se){var Br=-1,Xr=Ho(Y)?Ri(Y.length):[];return Of(Y,function(ni,hi,pi){Xr[++Br]=se(ni,hi,pi)}),Xr}function Sl(Y){var se=$h(Y);return se.length==1&&se[0][2]?nd(se[0][0],se[0][1]):function(Br){return Br===Y||fh(Br,Y,se)}}function Ml(Y,se){return Dh(Y)&&id(se)?nd(yf(Y),se):function(Br){var Xr=Uh(Br,Y);return Xr===t&&Xr===se?jh(Br,Y):Ac(se,Xr,kr|Vr)}}function mu(Y,se,Br,Xr,ni){Y!==se&&nh(se,function(hi,pi){if(ni||(ni=new lf),oo(hi))Rp(Y,se,pi,Br,mu,Xr,ni);else{var mi=Xr?Xr(Ah(Y,pi),hi,pi+"",Y,se,ni):t;mi===t&&(mi=hi),rh(Y,pi,mi)}},Ko)}function Rp(Y,se,Br,Xr,ni,hi,pi){var mi=Ah(Y,Br),xi=Ah(se,Br),Pi=pi.get(xi);if(Pi){rh(Y,Br,Pi);return}var Ci=hi?hi(mi,xi,Br+"",Y,se,pi):t,ji=Ci===t;if(ji){var jn=Na(xi),ua=!jn&&jf(xi),ga=!jn&&!ua&&vc(xi);Ci=xi,jn||ua||ga?Na(mi)?Ci=mi:ho(mi)?Ci=Fo(mi):ua?(ji=!1,Ci=Nl(xi,!0)):ga?(ji=!1,Ci=Ul(xi,!0)):Ci=[]:Oc(xi)||Zf(xi)?(Ci=mi,Zf(mi)?Ci=Bd(mi):(!oo(mi)||Rf(mi))&&(Ci=rd(xi))):ji=!1}ji&&(pi.set(xi,Ci),ni(Ci,xi,Xr,hi,pi),pi.delete(xi)),rh(Y,Br,Ci)}function $l(Y,se){var Br=Y.length;if(Br)return se+=se<0?Br:0,$f(se,Br)?Y[se]:t}function Rl(Y,se,Br){se.length?se=so(se,function(hi){return Na(hi)?function(pi){return Jf(pi,hi.length===1?hi[0]:hi)}:hi}):se=[Vo];var Xr=-1;se=so(se,Wo(va()));var ni=xl(Y,function(hi,pi,mi){var xi=so(se,function(Pi){return Pi(hi)});return{criteria:xi,index:++Xr,value:hi}});return e0(ni,function(hi,pi){return Lp(hi,pi,Br)})}function Dp(Y,se){return Dl(Y,se,function(Br,Xr){return jh(Y,Xr)})}function Dl(Y,se,Br){for(var Xr=-1,ni=se.length,hi={};++Xr<ni;){var pi=se[Xr],mi=Jf(Y,pi);Br(mi,pi)&&qc(hi,Nf(pi,Y),mi)}return hi}function Ip(Y){return function(se){return Jf(se,Y)}}function hh(Y,se,Br,Xr){var ni=Xr?Qd:nc,hi=-1,pi=se.length,mi=Y;for(Y===se&&(se=Fo(se)),Br&&(mi=so(Y,Wo(Br)));++hi<pi;)for(var xi=0,Pi=se[hi],Ci=Br?Br(Pi):Pi;(xi=ni(mi,Ci,xi,Xr))>-1;)mi!==Y&&fu.call(mi,xi,1),fu.call(Y,xi,1);return Y}function Il(Y,se){for(var Br=Y?se.length:0,Xr=Br-1;Br--;){var ni=se[Br];if(Br==Xr||ni!==hi){var hi=ni;$f(ni)?fu.call(Y,ni,1):bh(Y,ni)}}return Y}function lh(Y,se){return Y+hu(cl()*(se-Y+1))}function Ap(Y,se,Br,Xr){for(var ni=-1,hi=go(uu((se-Y)/(Br||1)),0),pi=Ri(hi);hi--;)pi[Xr?hi:++ni]=Y,Y+=Br;return pi}function ph(Y,se){var Br="";if(!Y||se<1||se>qr)return Br;do se%2&&(Br+=Y),se=hu(se/2),se&&(Y+=Y);while(se);return Br}function za(Y,se){return qh(sd(Y,se,Vo),Y+"")}function qp(Y){return ll(bc(Y))}function Pp(Y,se){var Br=bc(Y);return Du(Br,Wf(se,0,Br.length))}function qc(Y,se,Br,Xr){if(!oo(Y))return Y;se=Nf(se,Y);for(var ni=-1,hi=se.length,pi=hi-1,mi=Y;mi!=null&&++ni<hi;){var xi=yf(se[ni]),Pi=Br;if(xi==="__proto__"||xi==="constructor"||xi==="prototype")return Y;if(ni!=pi){var Ci=mi[xi];Pi=Xr?Xr(Ci,xi,mi):t,Pi===t&&(Pi=oo(Ci)?Ci:$f(se[ni+1])?[]:{})}Rc(mi,xi,Pi),mi=mi[xi]}return Y}var Al=lu?function(Y,se){return lu.set(Y,se),Y}:Vo,Cp=cu?function(Y,se){return cu(Y,"toString",{configurable:!0,enumerable:!1,value:kh(se),writable:!0})}:Vo;function Bp(Y){return Du(bc(Y))}function af(Y,se,Br){var Xr=-1,ni=Y.length;se<0&&(se=-se>ni?0:ni+se),Br=Br>ni?ni:Br,Br<0&&(Br+=ni),ni=se>Br?0:Br-se>>>0,se>>>=0;for(var hi=Ri(ni);++Xr<ni;)hi[Xr]=Y[Xr+se];return hi}function Op(Y,se){var Br;return Of(Y,function(Xr,ni,hi){return Br=se(Xr,ni,hi),!Br}),!!Br}function yu(Y,se,Br){var Xr=0,ni=Y==null?Xr:Y.length;if(typeof se=="number"&&se===se&&ni<=Wr){for(;Xr<ni;){var hi=Xr+ni>>>1,pi=Y[hi];pi!==null&&!Xo(pi)&&(Br?pi<=se:pi<se)?Xr=hi+1:ni=hi}return ni}return vh(Y,se,Vo,Br)}function vh(Y,se,Br,Xr){var ni=0,hi=Y==null?0:Y.length;if(hi===0)return 0;se=Br(se);for(var pi=se!==se,mi=se===null,xi=Xo(se),Pi=se===t;ni<hi;){var Ci=hu((ni+hi)/2),ji=Br(Y[Ci]),jn=ji!==t,ua=ji===null,ga=ji===ji,ka=Xo(ji);if(pi)var ma=Xr||ga;else Pi?ma=ga&&(Xr||jn):mi?ma=ga&&jn&&(Xr||!ua):xi?ma=ga&&jn&&!ua&&(Xr||!ka):ua||ka?ma=!1:ma=Xr?ji<=se:ji<se;ma?ni=Ci+1:hi=Ci}return $o(hi,Se)}function ql(Y,se){for(var Br=-1,Xr=Y.length,ni=0,hi=[];++Br<Xr;){var pi=Y[Br],mi=se?se(pi):pi;if(!Br||!df(mi,xi)){var xi=mi;hi[ni++]=pi===0?0:pi}}return hi}function Pl(Y){return typeof Y=="number"?Y:Xo(Y)?Er:+Y}function Jo(Y){if(typeof Y=="string")return Y;if(Na(Y))return so(Y,Jo)+"";if(Xo(Y))return ul?ul.call(Y):"";var se=Y+"";return se=="0"&&1/Y==-fr?"-0":se}function Tf(Y,se,Br){var Xr=-1,ni=Zc,hi=Y.length,pi=!0,mi=[],xi=mi;if(Br)pi=!1,ni=Fu;else if(hi>=ne){var Pi=se?null:Vp(Y);if(Pi)return eu(Pi);pi=!1,ni=_c,xi=new Gf}else xi=se?[]:mi;e:for(;++Xr<hi;){var Ci=Y[Xr],ji=se?se(Ci):Ci;if(Ci=Br||Ci!==0?Ci:0,pi&&ji===ji){for(var jn=xi.length;jn--;)if(xi[jn]===ji)continue e;se&&xi.push(ji),mi.push(Ci)}else ni(xi,ji,Br)||(xi!==mi&&xi.push(ji),mi.push(Ci))}return mi}function bh(Y,se){return se=Nf(se,Y),Y=ad(Y,se),Y==null||delete Y[yf(of(se))]}function Cl(Y,se,Br,Xr){return qc(Y,se,Br(Jf(Y,se)),Xr)}function wu(Y,se,Br,Xr){for(var ni=Y.length,hi=Xr?ni:-1;(Xr?hi--:++hi<ni)&&se(Y[hi],hi,Y););return Br?af(Y,Xr?0:hi,Xr?hi+1:ni):af(Y,Xr?hi+1:0,Xr?ni:hi)}function Bl(Y,se){var Br=Y;return Br instanceof Ka&&(Br=Br.value()),Hu(se,function(Xr,ni){return ni.func.apply(ni.thisArg,Pf([Xr],ni.args))},Br)}function gh(Y,se,Br){var Xr=Y.length;if(Xr<2)return Xr?Tf(Y[0]):[];for(var ni=-1,hi=Ri(Xr);++ni<Xr;)for(var pi=Y[ni],mi=-1;++mi<Xr;)mi!=ni&&(hi[ni]=Dc(hi[ni]||pi,Y[mi],se,Br));return Tf(xo(hi,1),se,Br)}function Ol(Y,se,Br){for(var Xr=-1,ni=Y.length,hi=se.length,pi={};++Xr<ni;){var mi=Xr<hi?se[Xr]:t;Br(pi,Y[Xr],mi)}return pi}function mh(Y){return ho(Y)?Y:[]}function yh(Y){return typeof Y=="function"?Y:Vo}function Nf(Y,se){return Na(Y)?Y:Dh(Y,se)?[Y]:ud(Xa(Y))}var Tp=za;function Uf(Y,se,Br){var Xr=Y.length;return Br=Br===t?Xr:Br,!se&&Br>=Xr?Y:af(Y,se,Br)}var Tl=x0||function(Y){return Va.clearTimeout(Y)};function Nl(Y,se){if(se)return Y.slice();var Br=Y.length,Xr=nl?nl(Br):new Y.constructor(Br);return Y.copy(Xr),Xr}function wh(Y){var se=new Y.constructor(Y.byteLength);return new au(se).set(new au(Y)),se}function Np(Y,se){var Br=se?wh(Y.buffer):Y.buffer;return new Y.constructor(Br,Y.byteOffset,Y.byteLength)}function Up(Y){var se=new Y.constructor(Y.source,ha.exec(Y));return se.lastIndex=Y.lastIndex,se}function jp(Y){return $c?ro($c.call(Y)):{}}function Ul(Y,se){var Br=se?wh(Y.buffer):Y.buffer;return new Y.constructor(Br,Y.byteOffset,Y.length)}function jl(Y,se){if(Y!==se){var Br=Y!==t,Xr=Y===null,ni=Y===Y,hi=Xo(Y),pi=se!==t,mi=se===null,xi=se===se,Pi=Xo(se);if(!mi&&!Pi&&!hi&&Y>se||hi&&pi&&xi&&!mi&&!Pi||Xr&&pi&&xi||!Br&&xi||!ni)return 1;if(!Xr&&!hi&&!Pi&&Y<se||Pi&&Br&&ni&&!Xr&&!hi||mi&&Br&&ni||!pi&&ni||!xi)return-1}return 0}function Lp(Y,se,Br){for(var Xr=-1,ni=Y.criteria,hi=se.criteria,pi=ni.length,mi=Br.length;++Xr<pi;){var xi=jl(ni[Xr],hi[Xr]);if(xi){if(Xr>=mi)return xi;var Pi=Br[Xr];return xi*(Pi=="desc"?-1:1)}}return Y.index-se.index}function Ll(Y,se,Br,Xr){for(var ni=-1,hi=Y.length,pi=Br.length,mi=-1,xi=se.length,Pi=go(hi-pi,0),Ci=Ri(xi+Pi),ji=!Xr;++mi<xi;)Ci[mi]=se[mi];for(;++ni<pi;)(ji||ni<hi)&&(Ci[Br[ni]]=Y[ni]);for(;Pi--;)Ci[mi++]=Y[ni++];return Ci}function kl(Y,se,Br,Xr){for(var ni=-1,hi=Y.length,pi=-1,mi=Br.length,xi=-1,Pi=se.length,Ci=go(hi-mi,0),ji=Ri(Ci+Pi),jn=!Xr;++ni<Ci;)ji[ni]=Y[ni];for(var ua=ni;++xi<Pi;)ji[ua+xi]=se[xi];for(;++pi<mi;)(jn||ni<hi)&&(ji[ua+Br[pi]]=Y[ni++]);return ji}function Fo(Y,se){var Br=-1,Xr=Y.length;for(se||(se=Ri(Xr));++Br<Xr;)se[Br]=Y[Br];return se}function mf(Y,se,Br,Xr){var ni=!Br;Br||(Br={});for(var hi=-1,pi=se.length;++hi<pi;){var mi=se[hi],xi=Xr?Xr(Br[mi],Y[mi],mi,Br,Y):t;xi===t&&(xi=Y[mi]),ni?xf(Br,mi,xi):Rc(Br,mi,xi)}return Br}function kp(Y,se){return mf(Y,Rh(Y),se)}function zp(Y,se){return mf(Y,ed(Y),se)}function _u(Y,se){return function(Br,Xr){var ni=Na(Br)?Gd:up,hi=se?se():{};return ni(Br,Y,va(Xr,2),hi)}}function lc(Y){return za(function(se,Br){var Xr=-1,ni=Br.length,hi=ni>1?Br[ni-1]:t,pi=ni>2?Br[2]:t;for(hi=Y.length>3&&typeof hi=="function"?(ni--,hi):t,pi&&Lo(Br[0],Br[1],pi)&&(hi=ni<3?t:hi,ni=1),se=ro(se);++Xr<ni;){var mi=Br[Xr];mi&&Y(se,mi,Xr,hi)}return se})}function zl(Y,se){return function(Br,Xr){if(Br==null)return Br;if(!Ho(Br))return Y(Br,Xr);for(var ni=Br.length,hi=se?ni:-1,pi=ro(Br);(se?hi--:++hi<ni)&&Xr(pi[hi],hi,pi)!==!1;);return Br}}function Fl(Y){return function(se,Br,Xr){for(var ni=-1,hi=ro(se),pi=Xr(se),mi=pi.length;mi--;){var xi=pi[Y?mi:++ni];if(Br(hi[xi],xi,hi)===!1)break}return se}}function Fp(Y,se,Br){var Xr=se&Zr,ni=Pc(Y);function hi(){var pi=this&&this!==Va&&this instanceof hi?ni:Y;return pi.apply(Xr?Br:this,arguments)}return hi}function Hl(Y){return function(se){se=Xa(se);var Br=sc(se)?hf(se):t,Xr=Br?Br[0]:se.charAt(0),ni=Br?Uf(Br,1).join(""):se.slice(1);return Xr[Y]()+ni}}function dc(Y){return function(se){return Hu(zd(kd(se).replace(yc,"")),Y,"")}}function Pc(Y){return function(){var se=arguments;switch(se.length){case 0:return new Y;case 1:return new Y(se[0]);case 2:return new Y(se[0],se[1]);case 3:return new Y(se[0],se[1],se[2]);case 4:return new Y(se[0],se[1],se[2],se[3]);case 5:return new Y(se[0],se[1],se[2],se[3],se[4]);case 6:return new Y(se[0],se[1],se[2],se[3],se[4],se[5]);case 7:return new Y(se[0],se[1],se[2],se[3],se[4],se[5],se[6])}var Br=hc(Y.prototype),Xr=Y.apply(Br,se);return oo(Xr)?Xr:Br}}function Hp(Y,se,Br){var Xr=Pc(Y);function ni(){for(var hi=arguments.length,pi=Ri(hi),mi=hi,xi=pc(ni);mi--;)pi[mi]=arguments[mi];var Pi=hi<3&&pi[0]!==xi&&pi[hi-1]!==xi?[]:Cf(pi,xi);if(hi-=Pi.length,hi<Br)return Jl(Y,se,Eu,ni.placeholder,t,pi,Pi,t,t,Br-hi);var Ci=this&&this!==Va&&this instanceof ni?Xr:Y;return _o(Ci,this,pi)}return ni}function Kl(Y){return function(se,Br,Xr){var ni=ro(se);if(!Ho(se)){var hi=va(Br,3);se=Eo(se),Br=function(mi){return hi(ni[mi],mi,ni)}}var pi=Y(se,Br,Xr);return pi>-1?ni[hi?se[pi]:pi]:t}}function Vl(Y){return Mf(function(se){var Br=se.length,Xr=Br,ni=nf.prototype.thru;for(Y&&se.reverse();Xr--;){var hi=se[Xr];if(typeof hi!="function")throw new rf(we);if(ni&&!pi&&$u(hi)=="wrapper")var pi=new nf([],!0)}for(Xr=pi?Xr:Br;++Xr<Br;){hi=se[Xr];var mi=$u(hi),xi=mi=="wrapper"?Mh(hi):t;xi&&Ih(xi[0])&&xi[1]==(Gr|ii|si|fi)&&!xi[4].length&&xi[9]==1?pi=pi[$u(xi[0])].apply(pi,xi[3]):pi=hi.length==1&&Ih(hi)?pi[mi]():pi.thru(hi)}return function(){var Pi=arguments,Ci=Pi[0];if(pi&&Pi.length==1&&Na(Ci))return pi.plant(Ci).value();for(var ji=0,jn=Br?se[ji].apply(this,Pi):Ci;++ji<Br;)jn=se[ji].call(this,jn);return jn}})}function Eu(Y,se,Br,Xr,ni,hi,pi,mi,xi,Pi){var Ci=se&Gr,ji=se&Zr,jn=se&Qr,ua=se&(ii|ei),ga=se&gi,ka=jn?t:Pc(Y);function ma(){for(var Fa=arguments.length,Ga=Ri(Fa),Yo=Fa;Yo--;)Ga[Yo]=arguments[Yo];if(ua)var ko=pc(ma),Zo=r0(Ga,ko);if(Xr&&(Ga=Ll(Ga,Xr,ni,ua)),hi&&(Ga=kl(Ga,hi,pi,ua)),Fa-=Zo,ua&&Fa<Pi){var lo=Cf(Ga,ko);return Jl(Y,se,Eu,ma.placeholder,Br,Ga,lo,mi,xi,Pi-Fa)}var pf=ji?Br:this,If=jn?pf[Y]:Y;return Fa=Ga.length,mi?Ga=u1(Ga,mi):ga&&Fa>1&&Ga.reverse(),Ci&&xi<Fa&&(Ga.length=xi),this&&this!==Va&&this instanceof ma&&(If=ka||Pc(If)),If.apply(pf,Ga)}return ma}function Gl(Y,se){return function(Br,Xr){return mp(Br,Y,se(Xr),{})}}function xu(Y,se){return function(Br,Xr){var ni;if(Br===t&&Xr===t)return se;if(Br!==t&&(ni=Br),Xr!==t){if(ni===t)return Xr;typeof Br=="string"||typeof Xr=="string"?(Br=Jo(Br),Xr=Jo(Xr)):(Br=Pl(Br),Xr=Pl(Xr)),ni=Y(Br,Xr)}return ni}}function _h(Y){return Mf(function(se){return se=so(se,Wo(va())),za(function(Br){var Xr=this;return Y(se,function(ni){return _o(ni,Xr,Br)})})})}function Su(Y,se){se=se===t?" ":Jo(se);var Br=se.length;if(Br<2)return Br?ph(se,Y):se;var Xr=ph(se,uu(Y/ac(se)));return sc(se)?Uf(hf(Xr),0,Y).join(""):Xr.slice(0,Y)}function Kp(Y,se,Br,Xr){var ni=se&Zr,hi=Pc(Y);function pi(){for(var mi=-1,xi=arguments.length,Pi=-1,Ci=Xr.length,ji=Ri(Ci+xi),jn=this&&this!==Va&&this instanceof pi?hi:Y;++Pi<Ci;)ji[Pi]=Xr[Pi];for(;xi--;)ji[Pi++]=arguments[++mi];return _o(jn,ni?Br:this,ji)}return pi}function Wl(Y){return function(se,Br,Xr){return Xr&&typeof Xr!="number"&&Lo(se,Br,Xr)&&(Br=Xr=t),se=Df(se),Br===t?(Br=se,se=0):Br=Df(Br),Xr=Xr===t?se<Br?1:-1:Df(Xr),Ap(se,Br,Xr,Y)}}function Mu(Y){return function(se,Br){return typeof se=="string"&&typeof Br=="string"||(se=ff(se),Br=ff(Br)),Y(se,Br)}}function Jl(Y,se,Br,Xr,ni,hi,pi,mi,xi,Pi){var Ci=se&ii,ji=Ci?pi:t,jn=Ci?t:pi,ua=Ci?hi:t,ga=Ci?t:hi;se|=Ci?si:ai,se&=~(Ci?ai:si),se&Yr||(se&=~(Zr|Qr));var ka=[Y,se,ni,ua,ji,ga,jn,mi,xi,Pi],ma=Br.apply(t,ka);return Ih(Y)&&od(ma,ka),ma.placeholder=Xr,fd(ma,Y,se)}function Eh(Y){var se=bo[Y];return function(Br,Xr){if(Br=ff(Br),Xr=Xr==null?0:$o(ja(Xr),292),Xr&&fl(Br)){var ni=(Xa(Br)+"e").split("e"),hi=se(ni[0]+"e"+(+ni[1]+Xr));return ni=(Xa(hi)+"e").split("e"),+(ni[0]+"e"+(+ni[1]-Xr))}return se(Br)}}var Vp=cc&&1/eu(new cc([,-0]))[1]==fr?function(Y){return new cc(Y)}:Hh;function Xl(Y){return function(se){var Br=Ro(se);return Br==Ni?Yu(se):Br==Ii?c0(se):t0(se,Y(se))}}function Sf(Y,se,Br,Xr,ni,hi,pi,mi){var xi=se&Qr;if(!xi&&typeof Y!="function")throw new rf(we);var Pi=Xr?Xr.length:0;if(Pi||(se&=~(si|ai),Xr=ni=t),pi=pi===t?pi:go(ja(pi),0),mi=mi===t?mi:ja(mi),Pi-=ni?ni.length:0,se&ai){var Ci=Xr,ji=ni;Xr=ni=t}var jn=xi?t:Mh(Y),ua=[Y,se,Br,Xr,ni,Ci,ji,hi,pi,mi];if(jn&&o1(ua,jn),Y=ua[0],se=ua[1],Br=ua[2],Xr=ua[3],ni=ua[4],mi=ua[9]=ua[9]===t?xi?0:Y.length:go(ua[9]-Pi,0),!mi&&se&(ii|ei)&&(se&=~(ii|ei)),!se||se==Zr)var ga=Fp(Y,se,Br);else se==ii||se==ei?ga=Hp(Y,se,mi):(se==si||se==(Zr|si))&&!ni.length?ga=Kp(Y,se,Br,Xr):ga=Eu.apply(t,ua);var ka=jn?Al:od;return fd(ka(ga,ua),Y,se)}function Yl(Y,se,Br,Xr){return Y===t||df(Y,fc[Br])&&!Ya.call(Xr,Br)?se:Y}function Zl(Y,se,Br,Xr,ni,hi){return oo(Y)&&oo(se)&&(hi.set(se,Y),mu(Y,se,t,Zl,hi),hi.delete(se)),Y}function Gp(Y){return Oc(Y)?t:Y}function Ql(Y,se,Br,Xr,ni,hi){var pi=Br&kr,mi=Y.length,xi=se.length;if(mi!=xi&&!(pi&&xi>mi))return!1;var Pi=hi.get(Y),Ci=hi.get(se);if(Pi&&Ci)return Pi==se&&Ci==Y;var ji=-1,jn=!0,ua=Br&Vr?new Gf:t;for(hi.set(Y,se),hi.set(se,Y);++ji<mi;){var ga=Y[ji],ka=se[ji];if(Xr)var ma=pi?Xr(ka,ga,ji,se,Y,hi):Xr(ga,ka,ji,Y,se,hi);if(ma!==t){if(ma)continue;jn=!1;break}if(ua){if(!Ku(se,function(Fa,Ga){if(!_c(ua,Ga)&&(ga===Fa||ni(ga,Fa,Br,Xr,hi)))return ua.push(Ga)})){jn=!1;break}}else if(!(ga===ka||ni(ga,ka,Br,Xr,hi))){jn=!1;break}}return hi.delete(Y),hi.delete(se),jn}function Wp(Y,se,Br,Xr,ni,hi,pi){switch(Br){case Yn:if(Y.byteLength!=se.byteLength||Y.byteOffset!=se.byteOffset)return!1;Y=Y.buffer,se=se.buffer;case qi:return!(Y.byteLength!=se.byteLength||!hi(new au(Y),new au(se)));case ri:case ci:case Bi:return df(+Y,+se);case li:return Y.name==se.name&&Y.message==se.message;case Vi:case Nn:return Y==se+"";case Ni:var mi=Yu;case Ii:var xi=Xr&kr;if(mi||(mi=eu),Y.size!=se.size&&!xi)return!1;var Pi=pi.get(Y);if(Pi)return Pi==se;Xr|=Vr,pi.set(Y,se);var Ci=Ql(mi(Y),mi(se),Xr,ni,hi,pi);return pi.delete(Y),Ci;case ki:if($c)return $c.call(Y)==$c.call(se)}return!1}function Jp(Y,se,Br,Xr,ni,hi){var pi=Br&kr,mi=xh(Y),xi=mi.length,Pi=xh(se),Ci=Pi.length;if(xi!=Ci&&!pi)return!1;for(var ji=xi;ji--;){var jn=mi[ji];if(!(pi?jn in se:Ya.call(se,jn)))return!1}var ua=hi.get(Y),ga=hi.get(se);if(ua&&ga)return ua==se&&ga==Y;var ka=!0;hi.set(Y,se),hi.set(se,Y);for(var ma=pi;++ji<xi;){jn=mi[ji];var Fa=Y[jn],Ga=se[jn];if(Xr)var Yo=pi?Xr(Ga,Fa,jn,se,Y,hi):Xr(Fa,Ga,jn,Y,se,hi);if(!(Yo===t?Fa===Ga||ni(Fa,Ga,Br,Xr,hi):Yo)){ka=!1;break}ma||(ma=jn=="constructor")}if(ka&&!ma){var ko=Y.constructor,Zo=se.constructor;ko!=Zo&&"constructor"in Y&&"constructor"in se&&!(typeof ko=="function"&&ko instanceof ko&&typeof Zo=="function"&&Zo instanceof Zo)&&(ka=!1)}return hi.delete(Y),hi.delete(se),ka}function Mf(Y){return qh(sd(Y,t,pd),Y+"")}function xh(Y){return yl(Y,Eo,Rh)}function Sh(Y){return yl(Y,Ko,ed)}var Mh=lu?function(Y){return lu.get(Y)}:Hh;function $u(Y){for(var se=Y.name+"",Br=uc[se],Xr=Ya.call(uc,se)?Br.length:0;Xr--;){var ni=Br[Xr],hi=ni.func;if(hi==null||hi==Y)return ni.name}return se}function pc(Y){var se=Ya.call(ui,"placeholder")?ui:Y;return se.placeholder}function va(){var Y=ui.iteratee||zh;return Y=Y===zh?El:Y,arguments.length?Y(arguments[0],arguments[1]):Y}function Ru(Y,se){var Br=Y.__data__;return i1(se)?Br[typeof se=="string"?"string":"hash"]:Br.map}function $h(Y){for(var se=Eo(Y),Br=se.length;Br--;){var Xr=se[Br],ni=Y[Xr];se[Br]=[Xr,ni,id(ni)]}return se}function Xf(Y,se){var Br=a0(Y,se);return _l(Br)?Br:t}function Xp(Y){var se=Ya.call(Y,Kf),Br=Y[Kf];try{Y[Kf]=t;var Xr=!0}catch{}var ni=nu.call(Y);return Xr&&(se?Y[Kf]=Br:delete Y[Kf]),ni}var Rh=Qu?function(Y){return Y==null?[]:(Y=ro(Y),qf(Qu(Y),function(se){return al.call(Y,se)}))}:Kh,ed=Qu?function(Y){for(var se=[];Y;)Pf(se,Rh(Y)),Y=ou(Y);return se}:Kh,Ro=jo;(eh&&Ro(new eh(new ArrayBuffer(1)))!=Yn||xc&&Ro(new xc)!=Ni||th&&Ro(th.resolve())!=Ki||cc&&Ro(new cc)!=Ii||Sc&&Ro(new Sc)!=In)&&(Ro=function(Y){var se=jo(Y),Br=se==zi?Y.constructor:t,Xr=Br?Yf(Br):"";if(Xr)switch(Xr){case P0:return Yn;case C0:return Ni;case B0:return Ki;case O0:return Ii;case T0:return In}return se});function Yp(Y,se,Br){for(var Xr=-1,ni=Br.length;++Xr<ni;){var hi=Br[Xr],pi=hi.size;switch(hi.type){case"drop":Y+=pi;break;case"dropRight":se-=pi;break;case"take":se=$o(se,Y+pi);break;case"takeRight":Y=go(Y,se-pi);break}}return{start:Y,end:se}}function Zp(Y){var se=Y.match(Zn);return se?se[1].split(An):[]}function td(Y,se,Br){se=Nf(se,Y);for(var Xr=-1,ni=se.length,hi=!1;++Xr<ni;){var pi=yf(se[Xr]);if(!(hi=Y!=null&&Br(Y,pi)))break;Y=Y[pi]}return hi||++Xr!=ni?hi:(ni=Y==null?0:Y.length,!!ni&&Bu(ni)&&$f(pi,ni)&&(Na(Y)||Zf(Y)))}function Qp(Y){var se=Y.length,Br=new Y.constructor(se);return se&&typeof Y[0]=="string"&&Ya.call(Y,"index")&&(Br.index=Y.index,Br.input=Y.input),Br}function rd(Y){return typeof Y.constructor=="function"&&!Cc(Y)?hc(ou(Y)):{}}function e1(Y,se,Br){var Xr=Y.constructor;switch(se){case qi:return wh(Y);case ri:case ci:return new Xr(+Y);case Yn:return Np(Y,Br);case $n:case Oi:case fa:case Pn:case Li:case ca:case Cn:case On:case Ua:return Ul(Y,Br);case Ni:return new Xr;case Bi:case Nn:return new Xr(Y);case Vi:return Up(Y);case Ii:return new Xr;case ki:return jp(Y)}}function t1(Y,se){var Br=se.length;if(!Br)return Y;var Xr=Br-1;return se[Xr]=(Br>1?"& ":"")+se[Xr],se=se.join(Br>2?", ":" "),Y.replace(Ma,`{
/* [wrapped with `+se+`] */
`)}function r1(Y){return Na(Y)||Zf(Y)||!!(ol&&Y&&Y[ol])}function $f(Y,se){var Br=typeof Y;return se=se??qr,!!se&&(Br=="number"||Br!="symbol"&&qo.test(Y))&&Y>-1&&Y%1==0&&Y<se}function Lo(Y,se,Br){if(!oo(Br))return!1;var Xr=typeof se;return(Xr=="number"?Ho(Br)&&$f(se,Br.length):Xr=="string"&&se in Br)?df(Br[se],Y):!1}function Dh(Y,se){if(Na(Y))return!1;var Br=typeof Y;return Br=="number"||Br=="symbol"||Br=="boolean"||Y==null||Xo(Y)?!0:Aa.test(Y)||!_n.test(Y)||se!=null&&Y in ro(se)}function i1(Y){var se=typeof Y;return se=="string"||se=="number"||se=="symbol"||se=="boolean"?Y!=="__proto__":Y===null}function Ih(Y){var se=$u(Y),Br=ui[se];if(typeof Br!="function"||!(se in Ka.prototype))return!1;if(Y===Br)return!0;var Xr=Mh(Br);return!!Xr&&Y===Xr[0]}function n1(Y){return!!il&&il in Y}var s1=ru?Rf:Vh;function Cc(Y){var se=Y&&Y.constructor,Br=typeof se=="function"&&se.prototype||fc;return Y===Br}function id(Y){return Y===Y&&!oo(Y)}function nd(Y,se){return function(Br){return Br==null?!1:Br[Y]===se&&(se!==t||Y in ro(Br))}}function a1(Y){var se=Pu(Y,function(Xr){return Br.size===me&&Br.clear(),Xr}),Br=se.cache;return se}function o1(Y,se){var Br=Y[1],Xr=se[1],ni=Br|Xr,hi=ni<(Zr|Qr|Gr),pi=Xr==Gr&&Br==ii||Xr==Gr&&Br==fi&&Y[7].length<=se[8]||Xr==(Gr|fi)&&se[7].length<=se[8]&&Br==ii;if(!(hi||pi))return Y;Xr&Zr&&(Y[2]=se[2],ni|=Br&Zr?0:Yr);var mi=se[3];if(mi){var xi=Y[3];Y[3]=xi?Ll(xi,mi,se[4]):mi,Y[4]=xi?Cf(Y[3],fe):se[4]}return mi=se[5],mi&&(xi=Y[5],Y[5]=xi?kl(xi,mi,se[6]):mi,Y[6]=xi?Cf(Y[5],fe):se[6]),mi=se[7],mi&&(Y[7]=mi),Xr&Gr&&(Y[8]=Y[8]==null?se[8]:$o(Y[8],se[8])),Y[9]==null&&(Y[9]=se[9]),Y[0]=se[0],Y[1]=ni,Y}function f1(Y){var se=[];if(Y!=null)for(var Br in ro(Y))se.push(Br);return se}function c1(Y){return nu.call(Y)}function sd(Y,se,Br){return se=go(se===t?Y.length-1:se,0),function(){for(var Xr=arguments,ni=-1,hi=go(Xr.length-se,0),pi=Ri(hi);++ni<hi;)pi[ni]=Xr[se+ni];ni=-1;for(var mi=Ri(se+1);++ni<se;)mi[ni]=Xr[ni];return mi[se]=Br(pi),_o(Y,this,mi)}}function ad(Y,se){return se.length<2?Y:Jf(Y,af(se,0,-1))}function u1(Y,se){for(var Br=Y.length,Xr=$o(se.length,Br),ni=Fo(Y);Xr--;){var hi=se[Xr];Y[Xr]=$f(hi,Br)?ni[hi]:t}return Y}function Ah(Y,se){if(!(se==="constructor"&&typeof Y[se]=="function")&&se!="__proto__")return Y[se]}var od=cd(Al),Bc=M0||function(Y,se){return Va.setTimeout(Y,se)},qh=cd(Cp);function fd(Y,se,Br){var Xr=se+"";return qh(Y,t1(Xr,h1(Zp(Xr),Br)))}function cd(Y){var se=0,Br=0;return function(){var Xr=I0(),ni=Ie-(Xr-Br);if(Br=Xr,ni>0){if(++se>=Kr)return arguments[0]}else se=0;return Y.apply(t,arguments)}}function Du(Y,se){var Br=-1,Xr=Y.length,ni=Xr-1;for(se=se===t?Xr:se;++Br<se;){var hi=lh(Br,ni),pi=Y[hi];Y[hi]=Y[Br],Y[Br]=pi}return Y.length=se,Y}var ud=a1(function(Y){var se=[];return Y.charCodeAt(0)===46&&se.push(""),Y.replace(oa,function(Br,Xr,ni,hi){se.push(ni?hi.replace(aa,"$1"):Xr||Br)}),se});function yf(Y){if(typeof Y=="string"||Xo(Y))return Y;var se=Y+"";return se=="0"&&1/Y==-fr?"-0":se}function Yf(Y){if(Y!=null){try{return iu.call(Y)}catch{}try{return Y+""}catch{}}return""}function h1(Y,se){return tf(bi,function(Br){var Xr="_."+Br[0];se&Br[1]&&!Zc(Y,Xr)&&Y.push(Xr)}),Y.sort()}function hd(Y){if(Y instanceof Ka)return Y.clone();var se=new nf(Y.__wrapped__,Y.__chain__);return se.__actions__=Fo(Y.__actions__),se.__index__=Y.__index__,se.__values__=Y.__values__,se}function l1(Y,se,Br){(Br?Lo(Y,se,Br):se===t)?se=1:se=go(ja(se),0);var Xr=Y==null?0:Y.length;if(!Xr||se<1)return[];for(var ni=0,hi=0,pi=Ri(uu(Xr/se));ni<Xr;)pi[hi++]=af(Y,ni,ni+=se);return pi}function d1(Y){for(var se=-1,Br=Y==null?0:Y.length,Xr=0,ni=[];++se<Br;){var hi=Y[se];hi&&(ni[Xr++]=hi)}return ni}function p1(){var Y=arguments.length;if(!Y)return[];for(var se=Ri(Y-1),Br=arguments[0],Xr=Y;Xr--;)se[Xr-1]=arguments[Xr];return Pf(Na(Br)?Fo(Br):[Br],xo(se,1))}var v1=za(function(Y,se){return ho(Y)?Dc(Y,xo(se,1,ho,!0)):[]}),b1=za(function(Y,se){var Br=of(se);return ho(Br)&&(Br=t),ho(Y)?Dc(Y,xo(se,1,ho,!0),va(Br,2)):[]}),g1=za(function(Y,se){var Br=of(se);return ho(Br)&&(Br=t),ho(Y)?Dc(Y,xo(se,1,ho,!0),t,Br):[]});function m1(Y,se,Br){var Xr=Y==null?0:Y.length;return Xr?(se=Br||se===t?1:ja(se),af(Y,se<0?0:se,Xr)):[]}function y1(Y,se,Br){var Xr=Y==null?0:Y.length;return Xr?(se=Br||se===t?1:ja(se),se=Xr-se,af(Y,0,se<0?0:se)):[]}function w1(Y,se){return Y&&Y.length?wu(Y,va(se,3),!0,!0):[]}function E1(Y,se){return Y&&Y.length?wu(Y,va(se,3),!0):[]}function x1(Y,se,Br,Xr){var ni=Y==null?0:Y.length;return ni?(Br&&typeof Br!="number"&&Lo(Y,se,Br)&&(Br=0,Xr=ni),pp(Y,se,Br,Xr)):[]}function ld(Y,se,Br){var Xr=Y==null?0:Y.length;if(!Xr)return-1;var ni=Br==null?0:ja(Br);return ni<0&&(ni=go(Xr+ni,0)),Qc(Y,va(se,3),ni)}function dd(Y,se,Br){var Xr=Y==null?0:Y.length;if(!Xr)return-1;var ni=Xr-1;return Br!==t&&(ni=ja(Br),ni=Br<0?go(Xr+ni,0):$o(ni,Xr-1)),Qc(Y,va(se,3),ni,!0)}function pd(Y){var se=Y==null?0:Y.length;return se?xo(Y,1):[]}function S1(Y){var se=Y==null?0:Y.length;return se?xo(Y,fr):[]}function M1(Y,se){var Br=Y==null?0:Y.length;return Br?(se=se===t?1:ja(se),xo(Y,se)):[]}function $1(Y){for(var se=-1,Br=Y==null?0:Y.length,Xr={};++se<Br;){var ni=Y[se];Xr[ni[0]]=ni[1]}return Xr}function vd(Y){return Y&&Y.length?Y[0]:t}function R1(Y,se,Br){var Xr=Y==null?0:Y.length;if(!Xr)return-1;var ni=Br==null?0:ja(Br);return ni<0&&(ni=go(Xr+ni,0)),nc(Y,se,ni)}function D1(Y){var se=Y==null?0:Y.length;return se?af(Y,0,-1):[]}var I1=za(function(Y){var se=so(Y,mh);return se.length&&se[0]===Y[0]?oh(se):[]}),A1=za(function(Y){var se=of(Y),Br=so(Y,mh);return se===of(Br)?se=t:Br.pop(),Br.length&&Br[0]===Y[0]?oh(Br,va(se,2)):[]}),q1=za(function(Y){var se=of(Y),Br=so(Y,mh);return se=typeof se=="function"?se:t,se&&Br.pop(),Br.length&&Br[0]===Y[0]?oh(Br,t,se):[]});function P1(Y,se){return Y==null?"":R0.call(Y,se)}function of(Y){var se=Y==null?0:Y.length;return se?Y[se-1]:t}function C1(Y,se,Br){var Xr=Y==null?0:Y.length;if(!Xr)return-1;var ni=Xr;return Br!==t&&(ni=ja(Br),ni=ni<0?go(Xr+ni,0):$o(ni,Xr-1)),se===se?h0(Y,se,ni):Qc(Y,Jh,ni,!0)}function B1(Y,se){return Y&&Y.length?$l(Y,ja(se)):t}var O1=za(bd);function bd(Y,se){return Y&&Y.length&&se&&se.length?hh(Y,se):Y}function T1(Y,se,Br){return Y&&Y.length&&se&&se.length?hh(Y,se,va(Br,2)):Y}function N1(Y,se,Br){return Y&&Y.length&&se&&se.length?hh(Y,se,t,Br):Y}var U1=Mf(function(Y,se){var Br=Y==null?0:Y.length,Xr=ih(Y,se);return Il(Y,so(se,function(ni){return $f(ni,Br)?+ni:ni}).sort(jl)),Xr});function j1(Y,se){var Br=[];if(!(Y&&Y.length))return Br;var Xr=-1,ni=[],hi=Y.length;for(se=va(se,3);++Xr<hi;){var pi=Y[Xr];se(pi,Xr,Y)&&(Br.push(pi),ni.push(Xr))}return Il(Y,ni),Br}function Ph(Y){return Y==null?Y:q0.call(Y)}function L1(Y,se,Br){var Xr=Y==null?0:Y.length;return Xr?(Br&&typeof Br!="number"&&Lo(Y,se,Br)?(se=0,Br=Xr):(se=se==null?0:ja(se),Br=Br===t?Xr:ja(Br)),af(Y,se,Br)):[]}function k1(Y,se){return yu(Y,se)}function z1(Y,se,Br){return vh(Y,se,va(Br,2))}function F1(Y,se){var Br=Y==null?0:Y.length;if(Br){var Xr=yu(Y,se);if(Xr<Br&&df(Y[Xr],se))return Xr}return-1}function H1(Y,se){return yu(Y,se,!0)}function K1(Y,se,Br){return vh(Y,se,va(Br,2),!0)}function V1(Y,se){var Br=Y==null?0:Y.length;if(Br){var Xr=yu(Y,se,!0)-1;if(df(Y[Xr],se))return Xr}return-1}function G1(Y){return Y&&Y.length?ql(Y):[]}function W1(Y,se){return Y&&Y.length?ql(Y,va(se,2)):[]}function J1(Y){var se=Y==null?0:Y.length;return se?af(Y,1,se):[]}function X1(Y,se,Br){return Y&&Y.length?(se=Br||se===t?1:ja(se),af(Y,0,se<0?0:se)):[]}function Y1(Y,se,Br){var Xr=Y==null?0:Y.length;return Xr?(se=Br||se===t?1:ja(se),se=Xr-se,af(Y,se<0?0:se,Xr)):[]}function Z1(Y,se){return Y&&Y.length?wu(Y,va(se,3),!1,!0):[]}function Q1(Y,se){return Y&&Y.length?wu(Y,va(se,3)):[]}var lv=za(function(Y){return Tf(xo(Y,1,ho,!0))}),dv=za(function(Y){var se=of(Y);return ho(se)&&(se=t),Tf(xo(Y,1,ho,!0),va(se,2))}),pv=za(function(Y){var se=of(Y);return se=typeof se=="function"?se:t,Tf(xo(Y,1,ho,!0),t,se)});function vv(Y){return Y&&Y.length?Tf(Y):[]}function bv(Y,se){return Y&&Y.length?Tf(Y,va(se,2)):[]}function gv(Y,se){return se=typeof se=="function"?se:t,Y&&Y.length?Tf(Y,t,se):[]}function Ch(Y){if(!(Y&&Y.length))return[];var se=0;return Y=qf(Y,function(Br){if(ho(Br))return se=go(Br.length,se),!0}),Ju(se,function(Br){return so(Y,Vu(Br))})}function gd(Y,se){if(!(Y&&Y.length))return[];var Br=Ch(Y);return se==null?Br:so(Br,function(Xr){return _o(se,t,Xr)})}var mv=za(function(Y,se){return ho(Y)?Dc(Y,se):[]}),yv=za(function(Y){return gh(qf(Y,ho))}),wv=za(function(Y){var se=of(Y);return ho(se)&&(se=t),gh(qf(Y,ho),va(se,2))}),_v=za(function(Y){var se=of(Y);return se=typeof se=="function"?se:t,gh(qf(Y,ho),t,se)}),Ev=za(Ch);function xv(Y,se){return Ol(Y||[],se||[],Rc)}function Sv(Y,se){return Ol(Y||[],se||[],qc)}var Mv=za(function(Y){var se=Y.length,Br=se>1?Y[se-1]:t;return Br=typeof Br=="function"?(Y.pop(),Br):t,gd(Y,Br)});function md(Y){var se=ui(Y);return se.__chain__=!0,se}function $v(Y,se){return se(Y),Y}function Iu(Y,se){return se(Y)}var Rv=Mf(function(Y){var se=Y.length,Br=se?Y[0]:0,Xr=this.__wrapped__,ni=function(hi){return ih(hi,Y)};return se>1||this.__actions__.length||!(Xr instanceof Ka)||!$f(Br)?this.thru(ni):(Xr=Xr.slice(Br,+Br+(se?1:0)),Xr.__actions__.push({func:Iu,args:[ni],thisArg:t}),new nf(Xr,this.__chain__).thru(function(hi){return se&&!hi.length&&hi.push(t),hi}))});function Dv(){return md(this)}function Iv(){return new nf(this.value(),this.__chain__)}function Av(){this.__values__===t&&(this.__values__=Pd(this.value()));var Y=this.__index__>=this.__values__.length,se=Y?t:this.__values__[this.__index__++];return{done:Y,value:se}}function qv(){return this}function Pv(Y){for(var se,Br=this;Br instanceof pu;){var Xr=hd(Br);Xr.__index__=0,Xr.__values__=t,se?ni.__wrapped__=Xr:se=Xr;var ni=Xr;Br=Br.__wrapped__}return ni.__wrapped__=Y,se}function Cv(){var Y=this.__wrapped__;if(Y instanceof Ka){var se=Y;return this.__actions__.length&&(se=new Ka(this)),se=se.reverse(),se.__actions__.push({func:Iu,args:[Ph],thisArg:t}),new nf(se,this.__chain__)}return this.thru(Ph)}function Bv(){return Bl(this.__wrapped__,this.__actions__)}var Ov=_u(function(Y,se,Br){Ya.call(Y,Br)?++Y[Br]:xf(Y,Br,1)});function Tv(Y,se,Br){var Xr=Na(Y)?Gh:dp;return Br&&Lo(Y,se,Br)&&(se=t),Xr(Y,va(se,3))}function Nv(Y,se){var Br=Na(Y)?qf:gl;return Br(Y,va(se,3))}var Uv=Kl(ld),jv=Kl(dd);function Lv(Y,se){return xo(Au(Y,se),1)}function kv(Y,se){return xo(Au(Y,se),fr)}function zv(Y,se,Br){return Br=Br===t?1:ja(Br),xo(Au(Y,se),Br)}function yd(Y,se){var Br=Na(Y)?tf:Of;return Br(Y,va(se,3))}function wd(Y,se){var Br=Na(Y)?Wd:bl;return Br(Y,va(se,3))}var Fv=_u(function(Y,se,Br){Ya.call(Y,Br)?Y[Br].push(se):xf(Y,Br,[se])});function Hv(Y,se,Br,Xr){Y=Ho(Y)?Y:bc(Y),Br=Br&&!Xr?ja(Br):0;var ni=Y.length;return Br<0&&(Br=go(ni+Br,0)),Ou(Y)?Br<=ni&&Y.indexOf(se,Br)>-1:!!ni&&nc(Y,se,Br)>-1}var Kv=za(function(Y,se,Br){var Xr=-1,ni=typeof se=="function",hi=Ho(Y)?Ri(Y.length):[];return Of(Y,function(pi){hi[++Xr]=ni?_o(se,pi,Br):Ic(pi,se,Br)}),hi}),Vv=_u(function(Y,se,Br){xf(Y,Br,se)});function Au(Y,se){var Br=Na(Y)?so:xl;return Br(Y,va(se,3))}function Gv(Y,se,Br,Xr){return Y==null?[]:(Na(se)||(se=se==null?[]:[se]),Br=Xr?t:Br,Na(Br)||(Br=Br==null?[]:[Br]),Rl(Y,se,Br))}var Wv=_u(function(Y,se,Br){Y[Br?0:1].push(se)},function(){return[[],[]]});function Jv(Y,se,Br){var Xr=Na(Y)?Hu:Yh,ni=arguments.length<3;return Xr(Y,va(se,4),Br,ni,Of)}function Xv(Y,se,Br){var Xr=Na(Y)?Jd:Yh,ni=arguments.length<3;return Xr(Y,va(se,4),Br,ni,bl)}function Yv(Y,se){var Br=Na(Y)?qf:gl;return Br(Y,Cu(va(se,3)))}function Zv(Y){var se=Na(Y)?ll:qp;return se(Y)}function Qv(Y,se,Br){(Br?Lo(Y,se,Br):se===t)?se=1:se=ja(se);var Xr=Na(Y)?fp:Pp;return Xr(Y,se)}function eb(Y){var se=Na(Y)?cp:Bp;return se(Y)}function tb(Y){if(Y==null)return 0;if(Ho(Y))return Ou(Y)?ac(Y):Y.length;var se=Ro(Y);return se==Ni||se==Ii?Y.size:ch(Y).length}function rb(Y,se,Br){var Xr=Na(Y)?Ku:Op;return Br&&Lo(Y,se,Br)&&(se=t),Xr(Y,va(se,3))}var ib=za(function(Y,se){if(Y==null)return[];var Br=se.length;return Br>1&&Lo(Y,se[0],se[1])?se=[]:Br>2&&Lo(se[0],se[1],se[2])&&(se=[se[0]]),Rl(Y,xo(se,1),[])}),qu=S0||function(){return Va.Date.now()};function nb(Y,se){if(typeof se!="function")throw new rf(we);return Y=ja(Y),function(){if(--Y<1)return se.apply(this,arguments)}}function _d(Y,se,Br){return se=Br?t:se,se=Y&&se==null?Y.length:se,Sf(Y,Gr,t,t,t,t,se)}function Ed(Y,se){var Br;if(typeof se!="function")throw new rf(we);return Y=ja(Y),function(){return--Y>0&&(Br=se.apply(this,arguments)),Y<=1&&(se=t),Br}}var Bh=za(function(Y,se,Br){var Xr=Zr;if(Br.length){var ni=Cf(Br,pc(Bh));Xr|=si}return Sf(Y,Xr,se,Br,ni)}),xd=za(function(Y,se,Br){var Xr=Zr|Qr;if(Br.length){var ni=Cf(Br,pc(xd));Xr|=si}return Sf(se,Xr,Y,Br,ni)});function Sd(Y,se,Br){se=Br?t:se;var Xr=Sf(Y,ii,t,t,t,t,t,se);return Xr.placeholder=Sd.placeholder,Xr}function Md(Y,se,Br){se=Br?t:se;var Xr=Sf(Y,ei,t,t,t,t,t,se);return Xr.placeholder=Md.placeholder,Xr}function $d(Y,se,Br){var Xr,ni,hi,pi,mi,xi,Pi=0,Ci=!1,ji=!1,jn=!0;if(typeof Y!="function")throw new rf(we);se=ff(se)||0,oo(Br)&&(Ci=!!Br.leading,ji="maxWait"in Br,hi=ji?go(ff(Br.maxWait)||0,se):hi,jn="trailing"in Br?!!Br.trailing:jn);function ua(lo){var pf=Xr,If=ni;return Xr=ni=t,Pi=lo,pi=Y.apply(If,pf),pi}function ga(lo){return Pi=lo,mi=Bc(Fa,se),Ci?ua(lo):pi}function ka(lo){var pf=lo-xi,If=lo-Pi,Kd=se-pf;return ji?$o(Kd,hi-If):Kd}function ma(lo){var pf=lo-xi,If=lo-Pi;return xi===t||pf>=se||pf<0||ji&&If>=hi}function Fa(){var lo=qu();if(ma(lo))return Ga(lo);mi=Bc(Fa,ka(lo))}function Ga(lo){return mi=t,jn&&Xr?ua(lo):(Xr=ni=t,pi)}function Yo(){mi!==t&&Tl(mi),Pi=0,Xr=xi=ni=mi=t}function ko(){return mi===t?pi:Ga(qu())}function Zo(){var lo=qu(),pf=ma(lo);if(Xr=arguments,ni=this,xi=lo,pf){if(mi===t)return ga(xi);if(ji)return Tl(mi),mi=Bc(Fa,se),ua(xi)}return mi===t&&(mi=Bc(Fa,se)),pi}return Zo.cancel=Yo,Zo.flush=ko,Zo}var sb=za(function(Y,se){return vl(Y,1,se)}),ab=za(function(Y,se,Br){return vl(Y,ff(se)||0,Br)});function ob(Y){return Sf(Y,gi)}function Pu(Y,se){if(typeof Y!="function"||se!=null&&typeof se!="function")throw new rf(we);var Br=function(){var Xr=arguments,ni=se?se.apply(this,Xr):Xr[0],hi=Br.cache;if(hi.has(ni))return hi.get(ni);var pi=Y.apply(this,Xr);return Br.cache=hi.set(ni,pi)||hi,pi};return Br.cache=new(Pu.Cache||Ef),Br}Pu.Cache=Ef;function Cu(Y){if(typeof Y!="function")throw new rf(we);return function(){var se=arguments;switch(se.length){case 0:return!Y.call(this);case 1:return!Y.call(this,se[0]);case 2:return!Y.call(this,se[0],se[1]);case 3:return!Y.call(this,se[0],se[1],se[2])}return!Y.apply(this,se)}}function fb(Y){return Ed(2,Y)}var cb=Tp(function(Y,se){se=se.length==1&&Na(se[0])?so(se[0],Wo(va())):so(xo(se,1),Wo(va()));var Br=se.length;return za(function(Xr){for(var ni=-1,hi=$o(Xr.length,Br);++ni<hi;)Xr[ni]=se[ni].call(this,Xr[ni]);return _o(Y,this,Xr)})}),Oh=za(function(Y,se){var Br=Cf(se,pc(Oh));return Sf(Y,si,t,se,Br)}),Rd=za(function(Y,se){var Br=Cf(se,pc(Rd));return Sf(Y,ai,t,se,Br)}),ub=Mf(function(Y,se){return Sf(Y,fi,t,t,t,se)});function hb(Y,se){if(typeof Y!="function")throw new rf(we);return se=se===t?se:ja(se),za(Y,se)}function lb(Y,se){if(typeof Y!="function")throw new rf(we);return se=se==null?0:go(ja(se),0),za(function(Br){var Xr=Br[se],ni=Uf(Br,0,se);return Xr&&Pf(ni,Xr),_o(Y,this,ni)})}function db(Y,se,Br){var Xr=!0,ni=!0;if(typeof Y!="function")throw new rf(we);return oo(Br)&&(Xr="leading"in Br?!!Br.leading:Xr,ni="trailing"in Br?!!Br.trailing:ni),$d(Y,se,{leading:Xr,maxWait:se,trailing:ni})}function pb(Y){return _d(Y,1)}function vb(Y,se){return Oh(yh(se),Y)}function bb(){if(!arguments.length)return[];var Y=arguments[0];return Na(Y)?Y:[Y]}function gb(Y){return sf(Y,wr)}function mb(Y,se){return se=typeof se=="function"?se:t,sf(Y,wr,se)}function yb(Y){return sf(Y,xe|wr)}function wb(Y,se){return se=typeof se=="function"?se:t,sf(Y,xe|wr,se)}function _b(Y,se){return se==null||pl(Y,se,Eo(se))}function df(Y,se){return Y===se||Y!==Y&&se!==se}var Eb=Mu(ah),xb=Mu(function(Y,se){return Y>=se}),Zf=wl(function(){return arguments}())?wl:function(Y){return fo(Y)&&Ya.call(Y,"callee")&&!al.call(Y,"callee")},Na=Ri.isArray,Sb=Uo?Wo(Uo):yp;function Ho(Y){return Y!=null&&Bu(Y.length)&&!Rf(Y)}function ho(Y){return fo(Y)&&Ho(Y)}function Mb(Y){return Y===!0||Y===!1||fo(Y)&&jo(Y)==ri}var jf=$0||Vh,$b=uf?Wo(uf):wp;function Rb(Y){return fo(Y)&&Y.nodeType===1&&!Oc(Y)}function Db(Y){if(Y==null)return!0;if(Ho(Y)&&(Na(Y)||typeof Y=="string"||typeof Y.splice=="function"||jf(Y)||vc(Y)||Zf(Y)))return!Y.length;var se=Ro(Y);if(se==Ni||se==Ii)return!Y.size;if(Cc(Y))return!ch(Y).length;for(var Br in Y)if(Ya.call(Y,Br))return!1;return!0}function Ib(Y,se){return Ac(Y,se)}function Ab(Y,se,Br){Br=typeof Br=="function"?Br:t;var Xr=Br?Br(Y,se):t;return Xr===t?Ac(Y,se,t,Br):!!Xr}function Th(Y){if(!fo(Y))return!1;var se=jo(Y);return se==li||se==Jr||typeof Y.message=="string"&&typeof Y.name=="string"&&!Oc(Y)}function qb(Y){return typeof Y=="number"&&fl(Y)}function Rf(Y){if(!oo(Y))return!1;var se=jo(Y);return se==yi||se==$i||se==ti||se==la}function Dd(Y){return typeof Y=="number"&&Y==ja(Y)}function Bu(Y){return typeof Y=="number"&&Y>-1&&Y%1==0&&Y<=qr}function oo(Y){var se=typeof Y;return Y!=null&&(se=="object"||se=="function")}function fo(Y){return Y!=null&&typeof Y=="object"}var Id=ef?Wo(ef):Ep;function Pb(Y,se){return Y===se||fh(Y,se,$h(se))}function Cb(Y,se,Br){return Br=typeof Br=="function"?Br:t,fh(Y,se,$h(se),Br)}function Bb(Y){return Ad(Y)&&Y!=+Y}function Ob(Y){if(s1(Y))throw new Ca(o);return _l(Y)}function Tb(Y){return Y===null}function Nb(Y){return Y==null}function Ad(Y){return typeof Y=="number"||fo(Y)&&jo(Y)==Bi}function Oc(Y){if(!fo(Y)||jo(Y)!=zi)return!1;var se=ou(Y);if(se===null)return!0;var Br=Ya.call(se,"constructor")&&se.constructor;return typeof Br=="function"&&Br instanceof Br&&iu.call(Br)==w0}var Nh=bf?Wo(bf):xp;function Ub(Y){return Dd(Y)&&Y>=-qr&&Y<=qr}var qd=wc?Wo(wc):Sp;function Ou(Y){return typeof Y=="string"||!Na(Y)&&fo(Y)&&jo(Y)==Nn}function Xo(Y){return typeof Y=="symbol"||fo(Y)&&jo(Y)==ki}var vc=Hf?Wo(Hf):Mp;function jb(Y){return Y===t}function Lb(Y){return fo(Y)&&Ro(Y)==In}function kb(Y){return fo(Y)&&jo(Y)==wn}var zb=Mu(uh),Fb=Mu(function(Y,se){return Y<=se});function Pd(Y){if(!Y)return[];if(Ho(Y))return Ou(Y)?hf(Y):Fo(Y);if(Ec&&Y[Ec])return f0(Y[Ec]());var se=Ro(Y),Br=se==Ni?Yu:se==Ii?eu:bc;return Br(Y)}function Df(Y){if(!Y)return Y===0?Y:0;if(Y=ff(Y),Y===fr||Y===-fr){var se=Y<0?-1:1;return se*Hr}return Y===Y?Y:0}function ja(Y){var se=Df(Y),Br=se%1;return se===se?Br?se-Br:se:0}function Cd(Y){return Y?Wf(ja(Y),0,jr):0}function ff(Y){if(typeof Y=="number")return Y;if(Xo(Y))return Er;if(oo(Y)){var se=typeof Y.valueOf=="function"?Y.valueOf():Y;Y=oo(se)?se+"":se}if(typeof Y!="string")return Y===0?Y:+Y;Y=Zh(Y);var Br=Do.test(Y);return Br||Ao.test(Y)?Ba(Y.slice(2),Br?2:8):$a.test(Y)?Er:+Y}function Bd(Y){return mf(Y,Ko(Y))}function Hb(Y){return Y?Wf(ja(Y),-qr,qr):Y===0?Y:0}function Xa(Y){return Y==null?"":Jo(Y)}var Kb=lc(function(Y,se){if(Cc(se)||Ho(se)){mf(se,Eo(se),Y);return}for(var Br in se)Ya.call(se,Br)&&Rc(Y,Br,se[Br])}),Od=lc(function(Y,se){mf(se,Ko(se),Y)}),Tu=lc(function(Y,se,Br,Xr){mf(se,Ko(se),Y,Xr)}),Vb=lc(function(Y,se,Br,Xr){mf(se,Eo(se),Y,Xr)}),Gb=Mf(ih);function Wb(Y,se){var Br=hc(Y);return se==null?Br:dl(Br,se)}var Jb=za(function(Y,se){Y=ro(Y);var Br=-1,Xr=se.length,ni=Xr>2?se[2]:t;for(ni&&Lo(se[0],se[1],ni)&&(Xr=1);++Br<Xr;)for(var hi=se[Br],pi=Ko(hi),mi=-1,xi=pi.length;++mi<xi;){var Pi=pi[mi],Ci=Y[Pi];(Ci===t||df(Ci,fc[Pi])&&!Ya.call(Y,Pi))&&(Y[Pi]=hi[Pi])}return Y}),Xb=za(function(Y){return Y.push(t,Zl),_o(Td,t,Y)});function Yb(Y,se){return Wh(Y,va(se,3),gf)}function Zb(Y,se){return Wh(Y,va(se,3),sh)}function Qb(Y,se){return Y==null?Y:nh(Y,va(se,3),Ko)}function eg(Y,se){return Y==null?Y:ml(Y,va(se,3),Ko)}function tg(Y,se){return Y&&gf(Y,va(se,3))}function rg(Y,se){return Y&&sh(Y,va(se,3))}function ig(Y){return Y==null?[]:gu(Y,Eo(Y))}function ng(Y){return Y==null?[]:gu(Y,Ko(Y))}function Uh(Y,se,Br){var Xr=Y==null?t:Jf(Y,se);return Xr===t?Br:Xr}function sg(Y,se){return Y!=null&&td(Y,se,vp)}function jh(Y,se){return Y!=null&&td(Y,se,bp)}var ag=Gl(function(Y,se,Br){se!=null&&typeof se.toString!="function"&&(se=nu.call(se)),Y[se]=Br},kh(Vo)),og=Gl(function(Y,se,Br){se!=null&&typeof se.toString!="function"&&(se=nu.call(se)),Ya.call(Y,se)?Y[se].push(Br):Y[se]=[Br]},va),fg=za(Ic);function Eo(Y){return Ho(Y)?hl(Y):ch(Y)}function Ko(Y){return Ho(Y)?hl(Y,!0):$p(Y)}function cg(Y,se){var Br={};return se=va(se,3),gf(Y,function(Xr,ni,hi){xf(Br,se(Xr,ni,hi),Xr)}),Br}function ug(Y,se){var Br={};return se=va(se,3),gf(Y,function(Xr,ni,hi){xf(Br,ni,se(Xr,ni,hi))}),Br}var hg=lc(function(Y,se,Br){mu(Y,se,Br)}),Td=lc(function(Y,se,Br,Xr){mu(Y,se,Br,Xr)}),lg=Mf(function(Y,se){var Br={};if(Y==null)return Br;var Xr=!1;se=so(se,function(hi){return hi=Nf(hi,Y),Xr||(Xr=hi.length>1),hi}),mf(Y,Sh(Y),Br),Xr&&(Br=sf(Br,xe|br|wr,Gp));for(var ni=se.length;ni--;)bh(Br,se[ni]);return Br});function dg(Y,se){return Nd(Y,Cu(va(se)))}var pg=Mf(function(Y,se){return Y==null?{}:Dp(Y,se)});function Nd(Y,se){if(Y==null)return{};var Br=so(Sh(Y),function(Xr){return[Xr]});return se=va(se),Dl(Y,Br,function(Xr,ni){return se(Xr,ni[0])})}function vg(Y,se,Br){se=Nf(se,Y);var Xr=-1,ni=se.length;for(ni||(ni=1,Y=t);++Xr<ni;){var hi=Y==null?t:Y[yf(se[Xr])];hi===t&&(Xr=ni,hi=Br),Y=Rf(hi)?hi.call(Y):hi}return Y}function bg(Y,se,Br){return Y==null?Y:qc(Y,se,Br)}function gg(Y,se,Br,Xr){return Xr=typeof Xr=="function"?Xr:t,Y==null?Y:qc(Y,se,Br,Xr)}var Ud=Xl(Eo),jd=Xl(Ko);function mg(Y,se,Br){var Xr=Na(Y),ni=Xr||jf(Y)||vc(Y);if(se=va(se,4),Br==null){var hi=Y&&Y.constructor;ni?Br=Xr?new hi:[]:oo(Y)?Br=Rf(hi)?hc(ou(Y)):{}:Br={}}return(ni?tf:gf)(Y,function(pi,mi,xi){return se(Br,pi,mi,xi)}),Br}function yg(Y,se){return Y==null?!0:bh(Y,se)}function wg(Y,se,Br){return Y==null?Y:Cl(Y,se,yh(Br))}function _g(Y,se,Br,Xr){return Xr=typeof Xr=="function"?Xr:t,Y==null?Y:Cl(Y,se,yh(Br),Xr)}function bc(Y){return Y==null?[]:Xu(Y,Eo(Y))}function Eg(Y){return Y==null?[]:Xu(Y,Ko(Y))}function xg(Y,se,Br){return Br===t&&(Br=se,se=t),Br!==t&&(Br=ff(Br),Br=Br===Br?Br:0),se!==t&&(se=ff(se),se=se===se?se:0),Wf(ff(Y),se,Br)}function Sg(Y,se,Br){return se=Df(se),Br===t?(Br=se,se=0):Br=Df(Br),Y=ff(Y),gp(Y,se,Br)}function $g(Y,se,Br){if(Br&&typeof Br!="boolean"&&Lo(Y,se,Br)&&(se=Br=t),Br===t&&(typeof se=="boolean"?(Br=se,se=t):typeof Y=="boolean"&&(Br=Y,Y=t)),Y===t&&se===t?(Y=0,se=1):(Y=Df(Y),se===t?(se=Y,Y=0):se=Df(se)),Y>se){var Xr=Y;Y=se,se=Xr}if(Br||Y%1||se%1){var ni=cl();return $o(Y+ni*(se-Y+eo("1e-"+((ni+"").length-1))),se)}return lh(Y,se)}var Rg=dc(function(Y,se,Br){return se=se.toLowerCase(),Y+(Br?Ld(se):se)});function Ld(Y){return Lh(Xa(Y).toLowerCase())}function kd(Y){return Y=Xa(Y),Y&&Y.replace(co,i0).replace(ku,"")}function Dg(Y,se,Br){Y=Xa(Y),se=Jo(se);var Xr=Y.length;Br=Br===t?Xr:Wf(ja(Br),0,Xr);var ni=Br;return Br-=se.length,Br>=0&&Y.slice(Br,ni)==se}function Ig(Y){return Y=Xa(Y),Y&&ta.test(Y)?Y.replace(ea,n0):Y}function Ag(Y){return Y=Xa(Y),Y&&qa.test(Y)?Y.replace(Sn,"\\$&"):Y}var Pg=dc(function(Y,se,Br){return Y+(Br?"-":"")+se.toLowerCase()}),Cg=dc(function(Y,se,Br){return Y+(Br?" ":"")+se.toLowerCase()}),Og=Hl("toLowerCase");function Tg(Y,se,Br){Y=Xa(Y),se=ja(se);var Xr=se?ac(Y):0;if(!se||Xr>=se)return Y;var ni=(se-Xr)/2;return Su(hu(ni),Br)+Y+Su(uu(ni),Br)}function Ng(Y,se,Br){Y=Xa(Y),se=ja(se);var Xr=se?ac(Y):0;return se&&Xr<se?Y+Su(se-Xr,Br):Y}function Lg(Y,se,Br){Y=Xa(Y),se=ja(se);var Xr=se?ac(Y):0;return se&&Xr<se?Su(se-Xr,Br)+Y:Y}function Wg(Y,se,Br){return Br||se==null?se=0:se&&(se=+se),A0(Xa(Y).replace(na,""),se||0)}function em(Y,se,Br){return(Br?Lo(Y,se,Br):se===t)?se=1:se=ja(se),ph(Xa(Y),se)}function tm(){var Y=arguments,se=Xa(Y[0]);return Y.length<3?se:se.replace(Y[1],Y[2])}var rm=dc(function(Y,se,Br){return Y+(Br?"_":"")+se.toLowerCase()});function im(Y,se,Br){return Br&&typeof Br!="number"&&Lo(Y,se,Br)&&(se=Br=t),Br=Br===t?jr:Br>>>0,Br?(Y=Xa(Y),Y&&(typeof se=="string"||se!=null&&!Nh(se))&&(se=Jo(se),!se&&sc(Y))?Uf(hf(Y),0,Br):Y.split(se,Br)):[]}var nm=dc(function(Y,se,Br){return Y+(Br?" ":"")+Lh(se)});function sm(Y,se,Br){return Y=Xa(Y),Br=Br==null?0:Wf(ja(Br),0,Y.length),se=Jo(se),Y.slice(Br,Br+se.length)==se}function am(Y,se,Br){var Xr=ui.templateSettings;Br&&Lo(Y,se,Br)&&(se=t),Y=Xa(Y),se=Tu({},se,Xr,Yl);var ni=Tu({},se.imports,Xr.imports,Yl),hi=Eo(ni),pi=Xu(ni,hi),mi,xi,Pi=0,Ci=se.interpolate||mo,ji="__p += '",jn=Zu((se.escape||mo).source+"|"+Ci.source+"|"+(Ci===ra?Ja:mo).source+"|"+(se.evaluate||mo).source+"|$","g"),ua="//# sourceURL="+(Ya.call(se,"sourceURL")?(se.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++zu+"]")+`
`;Y.replace(jn,function(ma,Fa,Ga,Yo,ko,Zo){return Ga||(Ga=Yo),ji+=Y.slice(Pi,Zo).replace(Po,s0),Fa&&(mi=!0,ji+=`' +
__e(`+Fa+`) +
'`),ko&&(xi=!0,ji+=`';
`+ko+`;
__p += '`),Ga&&(ji+=`' +
((__t = (`+Ga+`)) == null ? '' : __t) +
'`),Pi=Zo+ma.length,ma}),ji+=`';
`;var ga=Ya.call(se,"variable")&&se.variable;if(!ga)ji=`with (obj) {
`+ji+`
}
`;else if(Da.test(ga))throw new Ca(ye);ji=(xi?ji.replace(da,""):ji).replace(Tn,"$1").replace(Ha,"$1;"),ji="function("+(ga||"obj")+`) {
`+(ga?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(mi?", __e = _.escape":"")+(xi?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ji+`return __p
}`;var ka=Fd(function(){return Wa(hi,ua+"return "+ji).apply(t,pi)});if(ka.source=ji,Th(ka))throw ka;return ka}function om(Y){return Xa(Y).toLowerCase()}function fm(Y){return Xa(Y).toUpperCase()}function cm(Y,se,Br){if(Y=Xa(Y),Y&&(Br||se===t))return Zh(Y);if(!Y||!(se=Jo(se)))return Y;var Xr=hf(Y),ni=hf(se),hi=Qh(Xr,ni),pi=el(Xr,ni)+1;return Uf(Xr,hi,pi).join("")}function um(Y,se,Br){if(Y=Xa(Y),Y&&(Br||se===t))return Y.slice(0,rl(Y)+1);if(!Y||!(se=Jo(se)))return Y;var Xr=hf(Y),ni=el(Xr,hf(se))+1;return Uf(Xr,0,ni).join("")}function hm(Y,se,Br){if(Y=Xa(Y),Y&&(Br||se===t))return Y.replace(na,"");if(!Y||!(se=Jo(se)))return Y;var Xr=hf(Y),ni=Qh(Xr,hf(se));return Uf(Xr,ni).join("")}function lm(Y,se){var Br=Si,Xr=oi;if(oo(se)){var ni="separator"in se?se.separator:ni;Br="length"in se?ja(se.length):Br,Xr="omission"in se?Jo(se.omission):Xr}Y=Xa(Y);var hi=Y.length;if(sc(Y)){var pi=hf(Y);hi=pi.length}if(Br>=hi)return Y;var mi=Br-ac(Xr);if(mi<1)return Xr;var xi=pi?Uf(pi,0,mi).join(""):Y.slice(0,mi);if(ni===t)return xi+Xr;if(pi&&(mi+=xi.length-mi),Nh(ni)){if(Y.slice(mi).search(ni)){var Pi,Ci=xi;for(ni.global||(ni=Zu(ni.source,Xa(ha.exec(ni))+"g")),ni.lastIndex=0;Pi=ni.exec(Ci);)var ji=Pi.index;xi=xi.slice(0,ji===t?mi:ji)}}else if(Y.indexOf(Jo(ni),mi)!=mi){var jn=xi.lastIndexOf(ni);jn>-1&&(xi=xi.slice(0,jn))}return xi+Xr}function dm(Y){return Y=Xa(Y),Y&&wa.test(Y)?Y.replace(pa,l0):Y}var pm=dc(function(Y,se,Br){return Y+(Br?" ":"")+se.toUpperCase()}),Lh=Hl("toUpperCase");function zd(Y,se,Br){return Y=Xa(Y),se=Br?t:se,se===t?o0(Y)?v0(Y):Zd(Y):Y.match(se)||[]}var Fd=za(function(Y,se){try{return _o(Y,t,se)}catch(Br){return Th(Br)?Br:new Ca(Br)}}),vm=Mf(function(Y,se){return tf(se,function(Br){Br=yf(Br),xf(Y,Br,Bh(Y[Br],Y))}),Y});function bm(Y){var se=Y==null?0:Y.length,Br=va();return Y=se?so(Y,function(Xr){if(typeof Xr[1]!="function")throw new rf(we);return[Br(Xr[0]),Xr[1]]}):[],za(function(Xr){for(var ni=-1;++ni<se;){var hi=Y[ni];if(_o(hi[0],this,Xr))return _o(hi[1],this,Xr)}})}function gm(Y){return lp(sf(Y,xe))}function kh(Y){return function(){return Y}}function mm(Y,se){return Y==null||Y!==Y?se:Y}var ym=Vl(),wm=Vl(!0);function Vo(Y){return Y}function zh(Y){return El(typeof Y=="function"?Y:sf(Y,xe))}function _m(Y){return Sl(sf(Y,xe))}function Em(Y,se){return Ml(Y,sf(se,xe))}var xm=za(function(Y,se){return function(Br){return Ic(Br,Y,se)}}),Sm=za(function(Y,se){return function(Br){return Ic(Y,Br,se)}});function Fh(Y,se,Br){var Xr=Eo(se),ni=gu(se,Xr);Br==null&&!(oo(se)&&(ni.length||!Xr.length))&&(Br=se,se=Y,Y=this,ni=gu(se,Eo(se)));var hi=!(oo(Br)&&"chain"in Br)||!!Br.chain,pi=Rf(Y);return tf(ni,function(mi){var xi=se[mi];Y[mi]=xi,pi&&(Y.prototype[mi]=function(){var Pi=this.__chain__;if(hi||Pi){var Ci=Y(this.__wrapped__),ji=Ci.__actions__=Fo(this.__actions__);return ji.push({func:xi,args:arguments,thisArg:Y}),Ci.__chain__=Pi,Ci}return xi.apply(Y,Pf([this.value()],arguments))})}),Y}function Mm(){return Va._===this&&(Va._=_0),this}function Hh(){}function $m(Y){return Y=ja(Y),za(function(se){return $l(se,Y)})}var Rm=_h(so),Dm=_h(Gh),Im=_h(Ku);function Hd(Y){return Dh(Y)?Vu(yf(Y)):Ip(Y)}function Am(Y){return function(se){return Y==null?t:Jf(Y,se)}}var qm=Wl(),Pm=Wl(!0);function Kh(){return[]}function Vh(){return!1}function Cm(){return{}}function Bm(){return""}function Om(){return!0}function Tm(Y,se){if(Y=ja(Y),Y<1||Y>qr)return[];var Br=jr,Xr=$o(Y,jr);se=va(se),Y-=jr;for(var ni=Ju(Xr,se);++Br<Y;)se(Br);return ni}function Nm(Y){return Na(Y)?so(Y,yf):Xo(Y)?[Y]:Fo(ud(Xa(Y)))}function Um(Y){var se=++y0;return Xa(Y)+se}var jm=xu(function(Y,se){return Y+se},0),Lm=Eh("ceil"),km=xu(function(Y,se){return Y/se},1),zm=Eh("floor");function Fm(Y){return Y&&Y.length?bu(Y,Vo,ah):t}function Hm(Y,se){return Y&&Y.length?bu(Y,va(se,2),ah):t}function Km(Y){return Xh(Y,Vo)}function Vm(Y,se){return Xh(Y,va(se,2))}function Gm(Y){return Y&&Y.length?bu(Y,Vo,uh):t}function Wm(Y,se){return Y&&Y.length?bu(Y,va(se,2),uh):t}var Jm=xu(function(Y,se){return Y*se},1),Xm=Eh("round"),Ym=xu(function(Y,se){return Y-se},0);function Zm(Y){return Y&&Y.length?Wu(Y,Vo):0}function Qm(Y,se){return Y&&Y.length?Wu(Y,va(se,2)):0}return ui.after=nb,ui.ary=_d,ui.assign=Kb,ui.assignIn=Od,ui.assignInWith=Tu,ui.assignWith=Vb,ui.at=Gb,ui.before=Ed,ui.bind=Bh,ui.bindAll=vm,ui.bindKey=xd,ui.castArray=bb,ui.chain=md,ui.chunk=l1,ui.compact=d1,ui.concat=p1,ui.cond=bm,ui.conforms=gm,ui.constant=kh,ui.countBy=Ov,ui.create=Wb,ui.curry=Sd,ui.curryRight=Md,ui.debounce=$d,ui.defaults=Jb,ui.defaultsDeep=Xb,ui.defer=sb,ui.delay=ab,ui.difference=v1,ui.differenceBy=b1,ui.differenceWith=g1,ui.drop=m1,ui.dropRight=y1,ui.dropRightWhile=w1,ui.dropWhile=E1,ui.fill=x1,ui.filter=Nv,ui.flatMap=Lv,ui.flatMapDeep=kv,ui.flatMapDepth=zv,ui.flatten=pd,ui.flattenDeep=S1,ui.flattenDepth=M1,ui.flip=ob,ui.flow=ym,ui.flowRight=wm,ui.fromPairs=$1,ui.functions=ig,ui.functionsIn=ng,ui.groupBy=Fv,ui.initial=D1,ui.intersection=I1,ui.intersectionBy=A1,ui.intersectionWith=q1,ui.invert=ag,ui.invertBy=og,ui.invokeMap=Kv,ui.iteratee=zh,ui.keyBy=Vv,ui.keys=Eo,ui.keysIn=Ko,ui.map=Au,ui.mapKeys=cg,ui.mapValues=ug,ui.matches=_m,ui.matchesProperty=Em,ui.memoize=Pu,ui.merge=hg,ui.mergeWith=Td,ui.method=xm,ui.methodOf=Sm,ui.mixin=Fh,ui.negate=Cu,ui.nthArg=$m,ui.omit=lg,ui.omitBy=dg,ui.once=fb,ui.orderBy=Gv,ui.over=Rm,ui.overArgs=cb,ui.overEvery=Dm,ui.overSome=Im,ui.partial=Oh,ui.partialRight=Rd,ui.partition=Wv,ui.pick=pg,ui.pickBy=Nd,ui.property=Hd,ui.propertyOf=Am,ui.pull=O1,ui.pullAll=bd,ui.pullAllBy=T1,ui.pullAllWith=N1,ui.pullAt=U1,ui.range=qm,ui.rangeRight=Pm,ui.rearg=ub,ui.reject=Yv,ui.remove=j1,ui.rest=hb,ui.reverse=Ph,ui.sampleSize=Qv,ui.set=bg,ui.setWith=gg,ui.shuffle=eb,ui.slice=L1,ui.sortBy=ib,ui.sortedUniq=G1,ui.sortedUniqBy=W1,ui.split=im,ui.spread=lb,ui.tail=J1,ui.take=X1,ui.takeRight=Y1,ui.takeRightWhile=Z1,ui.takeWhile=Q1,ui.tap=$v,ui.throttle=db,ui.thru=Iu,ui.toArray=Pd,ui.toPairs=Ud,ui.toPairsIn=jd,ui.toPath=Nm,ui.toPlainObject=Bd,ui.transform=mg,ui.unary=pb,ui.union=lv,ui.unionBy=dv,ui.unionWith=pv,ui.uniq=vv,ui.uniqBy=bv,ui.uniqWith=gv,ui.unset=yg,ui.unzip=Ch,ui.unzipWith=gd,ui.update=wg,ui.updateWith=_g,ui.values=bc,ui.valuesIn=Eg,ui.without=mv,ui.words=zd,ui.wrap=vb,ui.xor=yv,ui.xorBy=wv,ui.xorWith=_v,ui.zip=Ev,ui.zipObject=xv,ui.zipObjectDeep=Sv,ui.zipWith=Mv,ui.entries=Ud,ui.entriesIn=jd,ui.extend=Od,ui.extendWith=Tu,Fh(ui,ui),ui.add=jm,ui.attempt=Fd,ui.camelCase=Rg,ui.capitalize=Ld,ui.ceil=Lm,ui.clamp=xg,ui.clone=gb,ui.cloneDeep=yb,ui.cloneDeepWith=wb,ui.cloneWith=mb,ui.conformsTo=_b,ui.deburr=kd,ui.defaultTo=mm,ui.divide=km,ui.endsWith=Dg,ui.eq=df,ui.escape=Ig,ui.escapeRegExp=Ag,ui.every=Tv,ui.find=Uv,ui.findIndex=ld,ui.findKey=Yb,ui.findLast=jv,ui.findLastIndex=dd,ui.findLastKey=Zb,ui.floor=zm,ui.forEach=yd,ui.forEachRight=wd,ui.forIn=Qb,ui.forInRight=eg,ui.forOwn=tg,ui.forOwnRight=rg,ui.get=Uh,ui.gt=Eb,ui.gte=xb,ui.has=sg,ui.hasIn=jh,ui.head=vd,ui.identity=Vo,ui.includes=Hv,ui.indexOf=R1,ui.inRange=Sg,ui.invoke=fg,ui.isArguments=Zf,ui.isArray=Na,ui.isArrayBuffer=Sb,ui.isArrayLike=Ho,ui.isArrayLikeObject=ho,ui.isBoolean=Mb,ui.isBuffer=jf,ui.isDate=$b,ui.isElement=Rb,ui.isEmpty=Db,ui.isEqual=Ib,ui.isEqualWith=Ab,ui.isError=Th,ui.isFinite=qb,ui.isFunction=Rf,ui.isInteger=Dd,ui.isLength=Bu,ui.isMap=Id,ui.isMatch=Pb,ui.isMatchWith=Cb,ui.isNaN=Bb,ui.isNative=Ob,ui.isNil=Nb,ui.isNull=Tb,ui.isNumber=Ad,ui.isObject=oo,ui.isObjectLike=fo,ui.isPlainObject=Oc,ui.isRegExp=Nh,ui.isSafeInteger=Ub,ui.isSet=qd,ui.isString=Ou,ui.isSymbol=Xo,ui.isTypedArray=vc,ui.isUndefined=jb,ui.isWeakMap=Lb,ui.isWeakSet=kb,ui.join=P1,ui.kebabCase=Pg,ui.last=of,ui.lastIndexOf=C1,ui.lowerCase=Cg,ui.lowerFirst=Og,ui.lt=zb,ui.lte=Fb,ui.max=Fm,ui.maxBy=Hm,ui.mean=Km,ui.meanBy=Vm,ui.min=Gm,ui.minBy=Wm,ui.stubArray=Kh,ui.stubFalse=Vh,ui.stubObject=Cm,ui.stubString=Bm,ui.stubTrue=Om,ui.multiply=Jm,ui.nth=B1,ui.noConflict=Mm,ui.noop=Hh,ui.now=qu,ui.pad=Tg,ui.padEnd=Ng,ui.padStart=Lg,ui.parseInt=Wg,ui.random=$g,ui.reduce=Jv,ui.reduceRight=Xv,ui.repeat=em,ui.replace=tm,ui.result=vg,ui.round=Xm,ui.runInContext=_i,ui.sample=Zv,ui.size=tb,ui.snakeCase=rm,ui.some=rb,ui.sortedIndex=k1,ui.sortedIndexBy=z1,ui.sortedIndexOf=F1,ui.sortedLastIndex=H1,ui.sortedLastIndexBy=K1,ui.sortedLastIndexOf=V1,ui.startCase=nm,ui.startsWith=sm,ui.subtract=Ym,ui.sum=Zm,ui.sumBy=Qm,ui.template=am,ui.times=Tm,ui.toFinite=Df,ui.toInteger=ja,ui.toLength=Cd,ui.toLower=om,ui.toNumber=ff,ui.toSafeInteger=Hb,ui.toString=Xa,ui.toUpper=fm,ui.trim=cm,ui.trimEnd=um,ui.trimStart=hm,ui.truncate=lm,ui.unescape=dm,ui.uniqueId=Um,ui.upperCase=pm,ui.upperFirst=Lh,ui.each=yd,ui.eachRight=wd,ui.first=vd,Fh(ui,function(){var Y={};return gf(ui,function(se,Br){Ya.call(ui.prototype,Br)||(Y[Br]=se)}),Y}(),{chain:!1}),ui.VERSION=s,tf(["bind","bindKey","curry","curryRight","partial","partialRight"],function(Y){ui[Y].placeholder=ui}),tf(["drop","take"],function(Y,se){Ka.prototype[Y]=function(Br){Br=Br===t?1:go(ja(Br),0);var Xr=this.__filtered__&&!se?new Ka(this):this.clone();return Xr.__filtered__?Xr.__takeCount__=$o(Br,Xr.__takeCount__):Xr.__views__.push({size:$o(Br,jr),type:Y+(Xr.__dir__<0?"Right":"")}),Xr},Ka.prototype[Y+"Right"]=function(Br){return this.reverse()[Y](Br).reverse()}}),tf(["filter","map","takeWhile"],function(Y,se){var Br=se+1,Xr=Br==C||Br==Oe;Ka.prototype[Y]=function(ni){var hi=this.clone();return hi.__iteratees__.push({iteratee:va(ni,3),type:Br}),hi.__filtered__=hi.__filtered__||Xr,hi}}),tf(["head","last"],function(Y,se){var Br="take"+(se?"Right":"");Ka.prototype[Y]=function(){return this[Br](1).value()[0]}}),tf(["initial","tail"],function(Y,se){var Br="drop"+(se?"":"Right");Ka.prototype[Y]=function(){return this.__filtered__?new Ka(this):this[Br](1)}}),Ka.prototype.compact=function(){return this.filter(Vo)},Ka.prototype.find=function(Y){return this.filter(Y).head()},Ka.prototype.findLast=function(Y){return this.reverse().find(Y)},Ka.prototype.invokeMap=za(function(Y,se){return typeof Y=="function"?new Ka(this):this.map(function(Br){return Ic(Br,Y,se)})}),Ka.prototype.reject=function(Y){return this.filter(Cu(va(Y)))},Ka.prototype.slice=function(Y,se){Y=ja(Y);var Br=this;return Br.__filtered__&&(Y>0||se<0)?new Ka(Br):(Y<0?Br=Br.takeRight(-Y):Y&&(Br=Br.drop(Y)),se!==t&&(se=ja(se),Br=se<0?Br.dropRight(-se):Br.take(se-Y)),Br)},Ka.prototype.takeRightWhile=function(Y){return this.reverse().takeWhile(Y).reverse()},Ka.prototype.toArray=function(){return this.take(jr)},gf(Ka.prototype,function(Y,se){var Br=/^(?:filter|find|map|reject)|While$/.test(se),Xr=/^(?:head|last)$/.test(se),ni=ui[Xr?"take"+(se=="last"?"Right":""):se],hi=Xr||/^find/.test(se);ni&&(ui.prototype[se]=function(){var pi=this.__wrapped__,mi=Xr?[1]:arguments,xi=pi instanceof Ka,Pi=mi[0],Ci=xi||Na(pi),ji=function(Fa){var Ga=ni.apply(ui,Pf([Fa],mi));return Xr&&jn?Ga[0]:Ga};Ci&&Br&&typeof Pi=="function"&&Pi.length!=1&&(xi=Ci=!1);var jn=this.__chain__,ua=!!this.__actions__.length,ga=hi&&!jn,ka=xi&&!ua;if(!hi&&Ci){pi=ka?pi:new Ka(this);var ma=Y.apply(pi,mi);return ma.__actions__.push({func:Iu,args:[ji],thisArg:t}),new nf(ma,jn)}return ga&&ka?Y.apply(this,mi):(ma=this.thru(ji),ga?Xr?ma.value()[0]:ma.value():ma)})}),tf(["pop","push","shift","sort","splice","unshift"],function(Y){var se=tu[Y],Br=/^(?:push|sort|unshift)$/.test(Y)?"tap":"thru",Xr=/^(?:pop|shift)$/.test(Y);ui.prototype[Y]=function(){var ni=arguments;if(Xr&&!this.__chain__){var hi=this.value();return se.apply(Na(hi)?hi:[],ni)}return this[Br](function(pi){return se.apply(Na(pi)?pi:[],ni)})}}),gf(Ka.prototype,function(Y,se){var Br=ui[se];if(Br){var Xr=Br.name+"";Ya.call(uc,Xr)||(uc[Xr]=[]),uc[Xr].push({name:se,func:Br})}}),uc[Eu(t,Qr).name]=[{name:"wrapper",func:t}],Ka.prototype.clone=N0,Ka.prototype.reverse=U0,Ka.prototype.value=j0,ui.prototype.at=Rv,ui.prototype.chain=Dv,ui.prototype.commit=Iv,ui.prototype.next=Av,ui.prototype.plant=Pv,ui.prototype.reverse=Cv,ui.prototype.toJSON=ui.prototype.valueOf=ui.prototype.value=Bv,ui.prototype.first=ui.prototype.head,Ec&&(ui.prototype[Ec]=qv),ui},oc=b0();uo?((uo.exports=oc)._=oc,to._=oc):Va._=oc}).call(ge)})(Ui,Ui.exports);var Gg=Object.defineProperty,zg=Object.defineProperties,Kg=Object.getOwnPropertyDescriptors,Ea=Object.getOwnPropertySymbols,Yg=Object.prototype.hasOwnProperty,Zg=Object.prototype.propertyIsEnumerable,ya=(r,e,t)=>e in r?Gg(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,cr=(r,e)=>{for(var t in e||(e={}))Yg.call(e,t)&&ya(r,t,e[t]);if(Ea)for(var t of Ea(e))Zg.call(e,t)&&ya(r,t,e[t]);return r},Jg=(r,e)=>zg(r,Kg(e));function ft(r,e,t){var s;const ne=ve(r);return((s=e.rpcMap)==null?void 0:s[ne.reference])||`${Bg}?chainId=${ne.namespace}:${ne.reference}&projectId=${t}`}function Ct(r){return r.includes(":")?r.split(":")[1]:r}function Sa(r){return r.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function Xg(r,e){const t=Object.keys(e.namespaces).filter(ne=>ne.includes(r));if(!t.length)return[];const s=[];return t.forEach(ne=>{const o=e.namespaces[ne].accounts;s.push(...o)}),s}function Oa(r={},e={}){const t=Ra(r),s=Ra(e);return Ui.exports.merge(t,s)}function Ra(r){var e,t,s,ne;const o={};if(!B$1(r))return o;for(const[we,ye]of Object.entries(r)){const Ee=oe$1(we)?[we]:ye.chains,me=ye.methods||[],fe=ye.events||[],xe=ye.rpcMap||{},br=en(we);o[br]=Jg(cr(cr({},o[br]),ye),{chains:S$3(Ee,(e=o[br])==null?void 0:e.chains),methods:S$3(me,(t=o[br])==null?void 0:t.methods),events:S$3(fe,(s=o[br])==null?void 0:s.events),rpcMap:cr(cr({},xe),(ne=o[br])==null?void 0:ne.rpcMap)})}return o}function Qg(r){return r.includes(":")?r.split(":")[2]:r}function Vg(r){const e={};for(const[t,s]of Object.entries(r)){const ne=s.methods||[],o=s.events||[],we=s.accounts||[],ye=oe$1(t)?[t]:s.chains?s.chains:Sa(s.accounts);e[t]={chains:ye,methods:ne,events:o,accounts:we}}return e}function Wi(r){return typeof r=="number"?r:r.includes("0x")?parseInt(r,16):(r=r.includes(":")?r.split(":")[1]:r,isNaN(Number(r))?r:Number(r))}const ba={},z=r=>ba[r],Fi=(r,e)=>{ba[r]=e};class kg{constructor(e){this.name="polkadot",this.namespace=e.namespace,this.events=z("events"),this.client=z("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(Vn.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var s;const ne=Ct(t);e[ne]=this.createHttpProvider(ne,(s=this.namespace.rpcMap)==null?void 0:s[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const s=this.createHttpProvider(e,t);s&&(this.httpProviders[e]=s)}createHttpProvider(e,t){const s=t||ft(e,this.namespace,this.client.core.projectId);if(!s)throw new Error(`No RPC url provided for chainId: ${e}`);return new JsonRpcProvider(new HttpConnection(s,z("disableProviderPing")))}}class jg{constructor(e){this.name="eip155",this.namespace=e.namespace,this.events=z("events"),this.client=z("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain())}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(parseInt(e),t),this.chainId=parseInt(e),this.events.emit(Vn.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,t){const s=t||ft(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!s)throw new Error(`No RPC url provided for chainId: ${e}`);return new JsonRpcProvider(new HttpConnection(s,z("disableProviderPing")))}setHttpProvider(e,t){const s=this.createHttpProvider(e,t);s&&(this.httpProviders[e]=s)}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var s;const ne=parseInt(Ct(t));e[ne]=this.createHttpProvider(ne,(s=this.namespace.rpcMap)==null?void 0:s[t])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}async handleSwitchChain(e){var t,s;let ne=e.request.params?(t=e.request.params[0])==null?void 0:t.chainId:"0x0";ne=ne.startsWith("0x")?ne:`0x${ne}`;const o=parseInt(ne,16);if(this.isChainApproved(o))this.setDefaultChain(`${o}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:ne}]},chainId:(s=this.namespace.chains)==null?void 0:s[0]}),this.setDefaultChain(`${o}`);else throw new Error(`Failed to switch to chain 'eip155:${o}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}}class nv{constructor(e){this.name="solana",this.namespace=e.namespace,this.events=z("events"),this.client=z("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(Vn.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var s;const ne=Ct(t);e[ne]=this.createHttpProvider(ne,(s=this.namespace.rpcMap)==null?void 0:s[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const s=this.createHttpProvider(e,t);s&&(this.httpProviders[e]=s)}createHttpProvider(e,t){const s=t||ft(e,this.namespace,this.client.core.projectId);if(!s)throw new Error(`No RPC url provided for chainId: ${e}`);return new JsonRpcProvider(new HttpConnection(s,z("disableProviderPing")))}}class tv{constructor(e){this.name="cosmos",this.namespace=e.namespace,this.events=z("events"),this.client=z("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(Vn.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var s;const ne=Ct(t);e[ne]=this.createHttpProvider(ne,(s=this.namespace.rpcMap)==null?void 0:s[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const s=this.createHttpProvider(e,t);s&&(this.httpProviders[e]=s)}createHttpProvider(e,t){const s=t||ft(e,this.namespace,this.client.core.projectId);if(!s)throw new Error(`No RPC url provided for chainId: ${e}`);return new JsonRpcProvider(new HttpConnection(s,z("disableProviderPing")))}}class ev{constructor(e){this.name="cip34",this.namespace=e.namespace,this.events=z("events"),this.client=z("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(Vn.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{const s=this.getCardanoRPCUrl(t),ne=Ct(t);e[ne]=this.createHttpProvider(ne,s)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}getCardanoRPCUrl(e){const t=this.namespace.rpcMap;if(t)return t[e]}setHttpProvider(e,t){const s=this.createHttpProvider(e,t);s&&(this.httpProviders[e]=s)}createHttpProvider(e,t){const s=t||this.getCardanoRPCUrl(e);if(!s)throw new Error(`No RPC url provided for chainId: ${e}`);return new JsonRpcProvider(new HttpConnection(s,z("disableProviderPing")))}}class rv{constructor(e){this.name="elrond",this.namespace=e.namespace,this.events=z("events"),this.client=z("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(Vn.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var s;const ne=Ct(t);e[ne]=this.createHttpProvider(ne,(s=this.namespace.rpcMap)==null?void 0:s[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const s=this.createHttpProvider(e,t);s&&(this.httpProviders[e]=s)}createHttpProvider(e,t){const s=t||ft(e,this.namespace,this.client.core.projectId);if(!s)throw new Error(`No RPC url provided for chainId: ${e}`);return new JsonRpcProvider(new HttpConnection(s,z("disableProviderPing")))}}class iv{constructor(e){this.name="multiversx",this.namespace=e.namespace,this.events=z("events"),this.client=z("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(Vn.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var s;const ne=Ct(t);e[ne]=this.createHttpProvider(ne,(s=this.namespace.rpcMap)==null?void 0:s[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const s=this.createHttpProvider(e,t);s&&(this.httpProviders[e]=s)}createHttpProvider(e,t){const s=t||ft(e,this.namespace,this.client.core.projectId);if(!s)throw new Error(`No RPC url provided for chainId: ${e}`);return new JsonRpcProvider(new HttpConnection(s,z("disableProviderPing")))}}class sv{constructor(e){this.name="near",this.namespace=e.namespace,this.events=z("events"),this.client=z("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(this.chainId=e,!this.httpProviders[e]){const s=t||ft(`${this.name}:${e}`,this.namespace);if(!s)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,s)}this.events.emit(Vn.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var s;e[t]=this.createHttpProvider(t,(s=this.namespace.rpcMap)==null?void 0:s[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const s=this.createHttpProvider(e,t);s&&(this.httpProviders[e]=s)}createHttpProvider(e,t){const s=t||ft(e,this.namespace);return typeof s>"u"?void 0:new JsonRpcProvider(new HttpConnection(s,z("disableProviderPing")))}}var uv=Object.defineProperty,av=Object.defineProperties,ov=Object.getOwnPropertyDescriptors,Ta=Object.getOwnPropertySymbols,fv=Object.prototype.hasOwnProperty,cv=Object.prototype.propertyIsEnumerable,La=(r,e,t)=>e in r?uv(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,hr=(r,e)=>{for(var t in e||(e={}))fv.call(e,t)&&La(r,t,e[t]);if(Ta)for(var t of Ta(e))cv.call(e,t)&&La(r,t,e[t]);return r},Mi=(r,e)=>av(r,ov(e));class lr{constructor(e){this.events=new Ug,this.rpcProviders={},this.shouldAbortPairingAttempt=!1,this.maxPairingAttempts=10,this.disableProviderPing=!1,this.providerOpts=e,this.logger=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:Hg(k({level:(e==null?void 0:e.logger)||Ia})),this.disableProviderPing=(e==null?void 0:e.disableProviderPing)||!1}static async init(e){const t=new lr(e);return await t.initialize(),t}async request(e,t,s){const[ne,o]=this.validateChain(t);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(ne).request({request:hr({},e),chainId:`${ne}:${o}`,topic:this.session.topic,expiry:s})}sendAsync(e,t,s,ne){const o=new Date().getTime();this.request(e,s,ne).then(we=>t(null,formatJsonRpcResult(o,we))).catch(we=>t(we,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:U$2("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),await this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}removeListener(e,t){this.events.removeListener(e,t)}off(e,t){this.events.off(e,t)}get isWalletConnect(){return!0}async pair(e){this.shouldAbortPairingAttempt=!1;let t=0;do{if(this.shouldAbortPairingAttempt)throw new Error("Pairing aborted");if(t>=this.maxPairingAttempts)throw new Error("Max auto pairing attempts reached");const{uri:s,approval:ne}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties});s&&(this.uri=s,this.events.emit("display_uri",s)),await ne().then(o=>{this.session=o;const we=Vg(o.namespaces);this.namespaces=Oa(this.namespaces,we),this.persist("namespaces",this.namespaces)}).catch(o=>{if(o.message!==ae)throw o;t++})}while(!this.session);return this.onConnect(),this.session}setDefaultChain(e,t){try{if(!this.session)return;const[s,ne]=this.validateChain(e);this.getProvider(s).setDefaultChain(ne,t)}catch(s){if(!/Please call connect/.test(s.message))throw s}}async cleanupPendingPairings(e={}){this.logger.info("Cleaning up inactive pairings...");const t=this.client.pairing.getAll();if(k$2(t)){for(const s of t)e.deletePairings?this.client.core.expirer.set(s.topic,0):await this.client.core.relayer.subscriber.unsubscribe(s.topic);this.logger.info(`Inactive pairings cleared: ${t.length}`)}}abortPairingAttempt(){this.shouldAbortPairingAttempt=!0}async checkStorage(){if(this.namespaces=await this.getFromStore("namespaces"),this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.client.session.length){const e=this.client.session.keys.length-1;this.session=this.client.session.get(this.client.session.keys[e]),this.createProviders()}}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){this.client=this.providerOpts.client||await Q$1.init({logger:this.providerOpts.logger||Ia,relayUrl:this.providerOpts.relayUrl||Fg,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name}),this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(t=>en(t)))];Fi("client",this.client),Fi("events",this.events),Fi("disableProviderPing",this.disableProviderPing),e.forEach(t=>{if(!this.session)return;const s=Xg(t,this.session),ne=Sa(s),o=Oa(this.namespaces,this.optionalNamespaces),we=Mi(hr({},o[t]),{accounts:s,chains:ne});switch(t){case"eip155":this.rpcProviders[t]=new jg({namespace:we});break;case"solana":this.rpcProviders[t]=new nv({namespace:we});break;case"cosmos":this.rpcProviders[t]=new tv({namespace:we});break;case"polkadot":this.rpcProviders[t]=new kg({namespace:we});break;case"cip34":this.rpcProviders[t]=new ev({namespace:we});break;case"elrond":this.rpcProviders[t]=new rv({namespace:we});break;case"multiversx":this.rpcProviders[t]=new iv({namespace:we});break;case"near":this.rpcProviders[t]=new sv({namespace:we});break}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{const{params:t}=e,{event:s}=t;if(s.name==="accountsChanged"){const ne=s.data;ne&&k$2(ne)&&this.events.emit("accountsChanged",ne.map(Qg))}else if(s.name==="chainChanged"){const ne=t.chainId,o=t.event.data,we=en(ne),ye=Wi(ne)!==Wi(o)?`${we}:${Wi(o)}`:ne;this.onChainChanged(ye)}else this.events.emit(s.name,s.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:t})=>{var s;const{namespaces:ne}=t,o=(s=this.client)==null?void 0:s.session.get(e);this.session=Mi(hr({},o),{namespaces:ne}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:t})}),this.client.on("session_delete",async e=>{await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",Mi(hr({},U$2("USER_DISCONNECTED")),{data:e.topic}))}),this.on(Vn.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){if(!this.rpcProviders[e])throw new Error(`Provider not found: ${e}`);return this.rpcProviders[e]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var t;this.getProvider(e).updateNamespace((t=this.session)==null?void 0:t.namespaces[e])})}setNamespaces(e){const{namespaces:t,optionalNamespaces:s,sessionProperties:ne}=e;t&&Object.keys(t).length&&(this.namespaces=t),s&&Object.keys(s).length&&(this.optionalNamespaces=s),this.sessionProperties=ne,this.persist("namespaces",t),this.persist("optionalNamespaces",s)}validateChain(e){const[t,s]=(e==null?void 0:e.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[t,s];if(t&&!Object.keys(this.namespaces||{}).map(we=>en(we)).includes(t))throw new Error(`Namespace '${t}' is not configured. Please call connect() first with namespace config.`);if(t&&s)return[t,s];const ne=en(Object.keys(this.namespaces)[0]),o=this.rpcProviders[ne].getDefaultChain();return[ne,o]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}onChainChanged(e,t=!1){if(!this.namespaces)return;const[s,ne]=this.validateChain(e);ne&&(t||this.getProvider(s).setDefaultChain(ne),this.namespaces[s]?this.namespaces[s].defaultChain=ne:this.namespaces[`${s}:${ne}`]?this.namespaces[`${s}:${ne}`].defaultChain=ne:this.namespaces[`${s}:${ne}`]={defaultChain:ne},this.persist("namespaces",this.namespaces),this.events.emit("chainChanged",ne))}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.session=void 0,this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,this.persist("namespaces",void 0),this.persist("optionalNamespaces",void 0),this.persist("sessionProperties",void 0),await this.cleanupPendingPairings({deletePairings:!0})}persist(e,t){this.client.core.storage.setItem(`${xa}/${e}`,t)}async getFromStore(e){return await this.client.core.storage.getItem(`${xa}/${e}`)}}const hv=lr,P="wc",S="ethereum_provider",$=`${P}@2:${S}:`,j="https://rpc.walletconnect.com/v1/",u=["eth_sendTransaction","personal_sign"],E=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"],m=["chainChanged","accountsChanged"],_=["chainChanged","accountsChanged","message","disconnect","connect"];var N=Object.defineProperty,q=Object.defineProperties,D=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,U=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable,O=(r,e,t)=>e in r?N(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,p=(r,e)=>{for(var t in e||(e={}))U.call(e,t)&&O(r,t,e[t]);if(y)for(var t of y(e))Q.call(e,t)&&O(r,t,e[t]);return r},M=(r,e)=>q(r,D(e));function g(r){return Number(r[0].split(":")[1])}function f(r){return`0x${r.toString(16)}`}function L(r){const{chains:e,optionalChains:t,methods:s,optionalMethods:ne,events:o,optionalEvents:we,rpcMap:ye}=r;if(!k$2(e))throw new Error("Invalid chains");const Ee={chains:e,methods:s||u,events:o||m,rpcMap:p({},e.length?{[g(e)]:ye[g(e)]}:{})},me=o==null?void 0:o.filter(wr=>!m.includes(wr)),fe=s==null?void 0:s.filter(wr=>!u.includes(wr));if(!t&&!we&&!ne&&!(me!=null&&me.length)&&!(fe!=null&&fe.length))return{required:e.length?Ee:void 0};const xe=(me==null?void 0:me.length)&&(fe==null?void 0:fe.length)||!t,br={chains:[...new Set(xe?Ee.chains.concat(t||[]):t)],methods:[...new Set(Ee.methods.concat(ne!=null&&ne.length?ne:E))],events:[...new Set(Ee.events.concat(we!=null&&we.length?we:_))],rpcMap:ye};return{required:e.length?Ee:void 0,optional:t.length?br:void 0}}class v{constructor(){this.events=new eventsExports.EventEmitter,this.namespace="eip155",this.accounts=[],this.chainId=1,this.STORAGE_KEY=$,this.on=(e,t)=>(this.events.on(e,t),this),this.once=(e,t)=>(this.events.once(e,t),this),this.removeListener=(e,t)=>(this.events.removeListener(e,t),this),this.off=(e,t)=>(this.events.off(e,t),this),this.parseAccount=e=>this.isCompatibleChainId(e)?this.parseAccountId(e).address:e,this.signer={},this.rpc={}}static async init(e){const t=new v;return await t.initialize(e),t}async request(e,t){return await this.signer.request(e,this.formatChainId(this.chainId),t)}sendAsync(e,t,s){this.signer.sendAsync(e,t,this.formatChainId(this.chainId),s)}get connected(){return this.signer.client?this.signer.client.core.relayer.connected:!1}get connecting(){return this.signer.client?this.signer.client.core.relayer.connecting:!1}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(e){if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(e);const{required:t,optional:s}=L(this.rpc);try{const ne=await new Promise(async(we,ye)=>{var Ee;this.rpc.showQrModal&&((Ee=this.modal)==null||Ee.subscribeModal(me=>{!me.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),ye(new Error("Connection request reset. Please try again.")))})),await this.signer.connect(M(p({namespaces:p({},t&&{[this.namespace]:t})},s&&{optionalNamespaces:{[this.namespace]:s}}),{pairingTopic:e==null?void 0:e.pairingTopic})).then(me=>{we(me)}).catch(me=>{ye(new Error(me.message))})});if(!ne)return;const o=Un(ne.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:o),this.setAccounts(o),this.events.emit("connect",{chainId:f(this.chainId)})}catch(ne){throw this.signer.logger.error(ne),ne}finally{this.modal&&this.modal.closeModal()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",e=>{const{params:t}=e,{event:s}=t;s.name==="accountsChanged"?(this.accounts=this.parseAccounts(s.data),this.events.emit("accountsChanged",this.accounts)):s.name==="chainChanged"?this.setChainId(this.formatChainId(s.data)):this.events.emit(s.name,s.data),this.events.emit("session_event",e)}),this.signer.on("chainChanged",e=>{const t=parseInt(e);this.chainId=t,this.events.emit("chainChanged",f(this.chainId)),this.persist()}),this.signer.on("session_update",e=>{this.events.emit("session_update",e)}),this.signer.on("session_delete",e=>{this.reset(),this.events.emit("session_delete",e),this.events.emit("disconnect",M(p({},U$2("USER_DISCONNECTED")),{data:e.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",e=>{var t,s;this.rpc.showQrModal&&((t=this.modal)==null||t.closeModal(),(s=this.modal)==null||s.openModal({uri:e})),this.events.emit("display_uri",e)})}switchEthereumChain(e){this.request({method:"wallet_switchEthereumChain",params:[{chainId:e.toString(16)}]})}isCompatibleChainId(e){return typeof e=="string"?e.startsWith(`${this.namespace}:`):!1}formatChainId(e){return`${this.namespace}:${e}`}parseChainId(e){return Number(e.split(":")[1])}setChainIds(e){const t=e.filter(s=>this.isCompatibleChainId(s)).map(s=>this.parseChainId(s));t.length&&(this.chainId=t[0],this.events.emit("chainChanged",f(this.chainId)),this.persist())}setChainId(e){if(this.isCompatibleChainId(e)){const t=this.parseChainId(e);this.chainId=t,this.switchEthereumChain(t)}}parseAccountId(e){const[t,s,ne]=e.split(":");return{chainId:`${t}:${s}`,address:ne}}setAccounts(e){this.accounts=e.filter(t=>this.parseChainId(this.parseAccountId(t).chainId)===this.chainId).map(t=>this.parseAccountId(t).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(e){var t,s;const ne=(t=e==null?void 0:e.chains)!=null?t:[],o=(s=e==null?void 0:e.optionalChains)!=null?s:[],we=ne.concat(o);if(!we.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const ye=ne.length?(e==null?void 0:e.methods)||u:[],Ee=ne.length?(e==null?void 0:e.events)||m:[],me=(e==null?void 0:e.optionalMethods)||[],fe=(e==null?void 0:e.optionalEvents)||[],xe=(e==null?void 0:e.rpcMap)||this.buildRpcMap(we,e.projectId),br=(e==null?void 0:e.qrModalOptions)||void 0;return{chains:ne==null?void 0:ne.map(wr=>this.formatChainId(wr)),optionalChains:o.map(wr=>this.formatChainId(wr)),methods:ye,events:Ee,optionalMethods:me,optionalEvents:fe,rpcMap:xe,showQrModal:!!(e!=null&&e.showQrModal),qrModalOptions:br,projectId:e.projectId,metadata:e.metadata}}buildRpcMap(e,t){const s={};return e.forEach(ne=>{s[ne]=this.getRpcUrl(ne,t)}),s}async initialize(e){if(this.rpc=this.getRpcConfig(e),this.chainId=this.rpc.chains.length?g(this.rpc.chains):g(this.rpc.optionalChains),this.signer=await hv.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:e.disableProviderPing,relayUrl:e.relayUrl,storageOptions:e.storageOptions}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let t;try{const{WalletConnectModal:s}=await __vitePreload(()=>import("./CMX0DmA4.js").then(ne=>ne.i),__vite__mapDeps([0,1,2]),import.meta.url);t=s}catch{throw new Error("To use QR modal, please install @walletconnect/modal package")}if(t)try{this.modal=new t(p({projectId:this.rpc.projectId},this.rpc.qrModalOptions))}catch(s){throw this.signer.logger.error(s),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(e){if(!e)return;const{chains:t,optionalChains:s,rpcMap:ne}=e;t&&k$2(t)&&(this.rpc.chains=t.map(o=>this.formatChainId(o)),t.forEach(o=>{this.rpc.rpcMap[o]=(ne==null?void 0:ne[o])||this.getRpcUrl(o)})),s&&k$2(s)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=s==null?void 0:s.map(o=>this.formatChainId(o)),s.forEach(o=>{this.rpc.rpcMap[o]=(ne==null?void 0:ne[o])||this.getRpcUrl(o)}))}getRpcUrl(e,t){var s;return((s=this.rpc.rpcMap)==null?void 0:s[e])||`${j}?chainId=eip155:${e}&projectId=${t||this.rpc.projectId}`}async loadPersistedSession(){if(!this.session)return;const e=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),t=this.session.namespaces[`${this.namespace}:${e}`]?this.session.namespaces[`${this.namespace}:${e}`]:this.session.namespaces[this.namespace];this.setChainIds(e?[this.formatChainId(e)]:t==null?void 0:t.accounts),this.setAccounts(t==null?void 0:t.accounts)}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(e){return typeof e=="string"||e instanceof String?[this.parseAccount(e)]:e.map(t=>this.parseAccount(t))}}const G=v;export{G as EthereumProvider,_ as OPTIONAL_EVENTS,E as OPTIONAL_METHODS,m as REQUIRED_EVENTS,u as REQUIRED_METHODS,v as default};
