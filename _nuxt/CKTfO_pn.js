import{T as A,i as c,f as x,ad as D,a as j,M as Z,L as F,e as u,s as O,r as Q,br as R,l as a,g as o,w as e,h as t,Q as p,O as h,W,an as q,ao as G,t as r,j as n}from"./Tyql0LRw.js";import{s as H}from"./x_rD_Ya3.js";import{_ as J}from"./C_uqfq_9.js";import{_ as K}from"./Yzggj_R-.js";import{u as k}from"./C6EhlVh4.js";const U={},X={type:"button",class:"text-grey-500 uppercase hover:text-white focus:text-white text-center"};function Y(d,_){return c(),x("button",X,[D(d.$slots,"default")])}const tt=A(U,[["render",Y]]),I=d=>(q("data-v-d5fe5d38"),d=d(),G(),d),et={class:"px-6 lg:p-0"},st={class:"text-grey-500 text-sm"},ot={class:"capitalize"},at={class:"text-green-700"},nt={class:"flex items-center gap-3 text-grey-500 text-xxs lg:text-xs"},rt=I(()=>a("span",null,"Â·",-1)),ct={key:0,class:"text-gray-200"},lt={class:"text-grey-600 my-6 px-6 lg:px-0"},ut=I(()=>a("h5",{class:"text-xxs mb-1"},"Proposals:",-1)),pt={class:"flex justify-between items-center lg:justify-start gap-6 whitespace-nowrap overflow-x-auto text-sm"},dt={key:0,class:"border-l border-grey-600 h-4"},_t={key:3,class:"border-l border-grey-600 h-4"},it=j({__name:"proposals",setup(d){const _=Z(),L=F(),E=u(()=>_.getProposalsByState("Active").filter(s=>!s.isEmergency&&s.votingType!=="Zero").length),y=u(()=>_.getProposalsByState("Succeeded").length),v=u(()=>_.getProposalsByState("Active").filter(s=>s.isEmergency).length),b=u(()=>_.getProposalsByState("Active").filter(s=>s.votingType==="Zero").length),S=u(()=>_.getProposalsByState("Pending").length),{epoch:i}=O(L),z=u(()=>{var l;const{toFormat:s}=k(Number((l=i.value.current)==null?void 0:l.asTimestamp));return s("D MMM, hh:mm A")}),C=u(()=>{var l;const{toFormat:s}=k(Number((l=i.value.next)==null?void 0:l.asTimestamp));return s("D MMM, hh:mm A")}),B=()=>{var l;const{timeAgo:s}=k(Number((l=i.value.next)==null?void 0:l.asTimestamp));return s},T=Q(B());R(()=>{H(()=>{T.value=B()},1e3)});const V=u(()=>Math.ceil(i.value.current.asNumber/2));return(s,l)=>{const m=tt,f=W,$=K,g=J;return c(),x("div",null,[a("div",et,[o($,{class:"items-center"},{default:e(()=>{var M,N,P,w;return[a("div",null,[a("p",st," Total Epochs: #"+r((N=(M=t(i))==null?void 0:M.current)==null?void 0:N.asNumber),1),a("span",ot,r((w=(P=t(i))==null?void 0:P.current)==null?void 0:w.type.toLowerCase()),1),n(" epoch "),a("span",at,"#"+r(t(V)),1)]),a("div",null,[a("div",nt,[a("span",null,r(t(z))+" - "+r(t(C)),1),rt,t(T)?(c(),x("span",ct," Ends "+r(t(T)),1)):p("",!0)])])]}),side:e(()=>[o(f,{to:"/proposals/all/"},{default:e(()=>[o(m,{class:"text-sm font-ppformula underline normal-case text-grey-500"},{default:e(()=>[n(" All proposals ")]),_:1})]),_:1})]),_:1})]),a("div",lt,[ut,a("div",pt,[o(f,{to:"/proposals/"},{default:e(()=>[o(m,{class:"proposals-nav-button","data-test":"button-tab-standard"},{default:e(()=>[n(" Standard "),t(E)?(c(),h(g,{key:0,version:"info"},{default:e(()=>[n(r(t(E)),1)]),_:1})):p("",!0)]),_:1})]),_:1}),t(v)||t(b)?(c(),x("hr",dt)):p("",!0),t(v)?(c(),h(f,{key:1,to:"/proposals/emergency/"},{default:e(()=>[o(m,{class:"proposals-nav-button","data-test":"button-tab-emergency"},{default:e(()=>[n(" Emergency "),o(g,{version:"error"},{default:e(()=>[n(r(t(v)),1)]),_:1})]),_:1})]),_:1})):p("",!0),t(b)?(c(),h(f,{key:2,to:"/proposals/zero/"},{default:e(()=>[o(m,{class:"proposals-nav-button","data-test":"button-tab-zero"},{default:e(()=>[n(" Zero "),o(g,null,{default:e(()=>[n(r(t(b)),1)]),_:1})]),_:1})]),_:1})):p("",!0),t(y)||t(S)?(c(),x("hr",_t)):p("",!0),t(y)?(c(),h(f,{key:4,to:"/proposals/succeeded/"},{default:e(()=>[o(m,{class:"proposals-nav-button","data-test":"button-tab-pending-execution"},{default:e(()=>[n(" Pending Execution "),o(g,null,{default:e(()=>[n(r(t(y)),1)]),_:1})]),_:1})]),_:1})):p("",!0),t(S)?(c(),h(f,{key:5,to:"/proposals/pending/"},{default:e(()=>[o(m,{class:"proposals-nav-button","data-test":"button-tab-scheduled"},{default:e(()=>[n(" Scheduled "),o(g,null,{default:e(()=>[n(r(t(S)),1)]),_:1})]),_:1})]),_:1})):p("",!0)])]),a("div",null,[D(s.$slots,"default",{},void 0,!0)])])}}}),yt=A(it,[["__scopeId","data-v-d5fe5d38"]]);export{yt as default};
